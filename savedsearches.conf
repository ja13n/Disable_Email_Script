[Colorado Tower - Compass Device Point Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_coloradotower"|dedup Device,Point_Name|where isnum(Value)|eval Device_Point = Device." ".Point_Name|stats count by Device,Device_Point,Point_Name|fields - count|outputlookup coloradotower_compass_device_points.csv
disabled = 1

[Emory - AdHoc Device Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_emory"|dedup AdHoc_Name Point_Name|eval Device_Point=AdHoc_Name." ".Point_Name|table AdHoc_Name, Device_Point|outputlookup emoryadhocdevicepoints.csv

[Emory - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_emory"|dedup AdHoc_Name|table Floor,Device,AdHoc_Name|sort AdHoc_Name|outputlookup emorydevices.csv
disabled = 1

[Emory - Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_emory"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup emorydevicepoints.csv
disabled = 1

[Emory - Earliest Record Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
enableSched = 1
search = index="cousins_emory"|tail 1|table _time|eval time= strftime(_time, "%b/%d/%y   %I:%M %p")| table time|outputlookup emoryearliestrecord.csv

[Emory - Floor, Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 23 * * *
disabled = 1
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_emory"|dedup AdHoc_Name|table Floor, Device|sort Floor, Device|outputlookup emorydevices.csv

[Emory - Floors Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_emory" |dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup emoryfloors.csv

[Emory - Numeric Floors, Devices, Points Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_emory"|dedup AdHoc_Name Point_Name|where isnum(Value)|table Floor, Device, AdHoc_Name, Point_Name|sort 0 Floor, Device, AdHoc_Name,Point_Name|outputlookup enory_device_points.csv

[Emory - Panel 0001 Connection Status]
action.email = 1
action.email.message.alert = Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0001 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0001. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0001
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0001*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0002 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0002 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0002. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0002
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0002*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0003 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0003 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0003. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0003
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0003*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0004 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0004 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0004. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0004
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0004*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0005 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0005 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0005. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0005
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0005*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0006 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0006 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0006. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0006
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0006*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0007 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0007 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0007. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0007
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0007*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0008 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0008 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0008. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0008
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0008*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0009 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0009 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0009. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0009
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0009*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0010 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0010 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0010. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0010
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0010*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Emory - Panel 0011 Connection Status]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location:550 Peachtree St NE, Atlanta, GA 30308\
Scenario: The cousins architecture has not received data from 0001-0008 Panel 0011 in the last 30 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0008 Panel 0011. Cousins will not see new data from this Panel's points and data recovery may not be possible depending on the health of the Panel.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT - Connection Status - High - 0001-0008 - Panel 0011
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" source="*0001_0008_0011*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 30,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Meridian Mark Plaza - Connection Status]
action.email = 1
action.email.message.alert = Customer-SiteID: 0001-0007\
Location: 5445 Meridian Mark Road, Atlanta, GA 30342\
Scenario: Indexers have not received data from Cousins Meridian Mark Plaza within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not reveived any data from Meridian Mark Plaza in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Meridian Mark Plaza - Connection Status - High - 0001-0007
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_meridianmarkplaza"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 21,"Connection working", "Cousins Meridian Mark Plaza has not received new data in 15 minutes")|where status = "Cousins Meridiain Mark Plaza has not received new data in 15 minutes"|table _time, status

[Meridian Mark Plaza - Device List Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_meridianmarkplaza"|dedup Floor,Device|table Floor,Device|sort Device|outputlookup meridianmarkplazadevices.csv
disabled = 1

[Meridian Mark Plaza - Device Point Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_meridianmarkplaza"|dedup Device,Point_Name|eval Device_Point = Device." ".Point_Name|stats count by Device,Device_Point|fields - count|outputlookup meridianmarkplazadevicepoints.csv
disabled = 1

[Meridian Mark Plaza - Floor, Device List Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 23 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_meridianmarkplaza"|dedup Device|table Floor, Device|sort Floor, Device|outputlookup meridianmarkplazadevices.csv
disabled = 1

[Meridian Mark Plaza - Floors Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_meridianmarkplaza"|dedup Floor|table Floor|sort Floor|outputlookup meridianmarkplazafloors.csv
disabled = 1

[Meridian Mark Plaza - Numeric Floors, Devices, Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_meridianmarkplaza"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup meridianmarkplaza_device_points.csv
disabled = 1

[Meridian Mark Plaza - Top 25 TU/VAV Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="VAV*" OR Device="TU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|sort -Vol | head 25
disabled = 1

[Meridian Mark Plaza - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Point_Name="ZoneTemp"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|sort -Vol | head 25
disabled = 1

[Meridian Mark Plaza - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)
disabled = 1

[Fifth Third - Numeric Floors, Devices, Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_fifththirdcenter"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup fifththird_device_points.csv
disabled = 1

[Gateway - Connection Status]
action.email.message.alert = Customer-SiteID: 0001-0007\
Location: 5445 Meridian Mark Road, Atlanta, GA 30342\
Scenario: Indexers have not received data from Cousins Meridian Mark Plaza within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not reveived any data from Meridian Mark Plaza in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
cron_schedule = */15 * * * *
disabled = 0

[Gateway - Floor, Device List Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 23 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_gateway"|dedup Device|table Floor, Device|sort Floor, Device|outputlookup gatewaydevices.csv
disabled = 1

[Gateway - Floors Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_gateway"|dedup Floor|table Floor|sort Floor|outputlookup gatewayfloors.csv
disabled = 1

[Gateway - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_gateway"|dedup Floor,Device|table Floor,Device|sort Device|outputlookup gatewaydevices.csv
disabled = 1

[Gateway - Numeric Floors, Devices, Points Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_gateway"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup gateway_device_points.csv
disabled = 1

[Gateway - Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_gateway"|dedup Device,Point_Name|eval Device_Point = Device." ".Point_Name|stats count by Device,Device_Point|fields - count|outputlookup gatewaydevicepoints.csv
disabled = 1

[Gateway - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_gateway
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Building, Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)
disabled = 1

[Fifth Third  - Floors Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_fifththirdcenter"|dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup fifththirdcenterfloors.csv
disabled = 1

[Fifth Third - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_fifththirdcenter"|dedup Floor,Device|table Floor,Device|sort Device|outputlookup fifththirdcenterdevices.csv
disabled = 1

[Fifth Third - Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 17 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_fifththirdcenter"|dedup Device,Point_Name|eval Device_Point = Device." ".Point_Name|stats count by Device,Device_Point|fields - count|outputlookup fifthThirdDevicePoints.csv
disabled = 1

[Post Oak - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*AHU*" |where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) | sort -Vol|head 25
disabled = 1

[Post Oak - Top 25 PIU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*PIU*" OR Device="*VAV*" OR Device="*FPB*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Post Oak - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Point_Name="*ZONE TEMP*" OR Point_Name="*SPACE TEMP"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Post Oak - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)
disabled = 1

[ACSC - Floor, Device List Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 23 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_americancancersocietycenter"|dedup AdHoc_Name|table Floor, Device|sort Floor, Device|outputlookup acscdevices.csv
disabled = 1

[ACSC - Floors Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_americancancersocietycenter" |dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup acscfloors.csv
disabled = 1

[ACSC - Numeric Floors, Devices, Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_americancancersocietycenter"|dedup AdHoc_Name Point_Name|where isnum(Value)|table Floor, Device, AdHoc_Name, Point_Name|sort 0 Floor, Device, AdHoc_Name,Point_Name|outputlookup acsc_device_points.csv
disabled = 1

[ACSC - AdHoc Device Points Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_americancancersocietycenter"|dedup AdHoc_Name Point_Name|eval Device_Point=AdHoc_Name." ".Point_Name|table AdHoc_Name, Device_Point|outputlookup acscadhocdevicepoints.csv
disabled = 1

[ACSC - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 46 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_americancancersocietycenter"|dedup AdHoc_Name|table Floor,Device,AdHoc_Name|sort AdHoc_Name|outputlookup acscdevices.csv
disabled = 1

[ACSC - Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 18 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_americancancersocietycenter"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup acscdevicepoints.csv
disabled = 1

[ACSC - Earliest Record Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 33 0 * * *
enableSched = 1
search = index="cousins_americancancersocietycenter" |tail 1|table _time|eval time= strftime(_time, "%b/%d/%y   %I:%M %p")| table time|outputlookup acscearliestrecord.csv
disabled = 1

[ACSC - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_americancancersocietycenter
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 16 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_americancancersocietycenter" Device="*AHU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) | sort -Vol|head 25
disabled = 1

[ACSC - Top 25 TU/VAV Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_americancancersocietycenter
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 54 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_americancancersocietycenter" Device="*VAV*" OR Device="*PIU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|sort -Vol| head 25
disabled = 1

[ACSC - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_americancancersocietycenter
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 28 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_americancancersocietycenter" Point_Name="ZN TEMP" OR Point_Name="ROOM TEMP"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[ACSC - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_americancancersocietycenter
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 19 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_americancancersocietycenter"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)
disabled = 1

[ACSC--Connection Status]
action.email = 1
action.email.message.alert = Customer-SiteID: 0001-0007\
Location: 5445 Meridian Mark Road, Atlanta, GA 30342\
Scenario: Indexers have not received data from Cousins Meridian Mark Plaza within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not reveived any data from Meridian Mark Plaza in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_americancancersocietycenter"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 24,"Connection working", "Cousins American Cancer Society Center has not received new data in 20 minutes")|where status = "Cousins American Cancer Society Center has not received new data in 20 minutes"|table _time, status
disabled = 1

[191 - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_191peachtree"|dedup Floor,Device|table Floor,Device|sort Device|outputlookup 191devices.csv
disabled = 1

[191 - Chilled Water Delta Temperature]
action.summary_index = 1
action.summary_index._name = cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="CHWR" OR Point_Name="CHWS"|chart max(Value) over Device by Point_Name|eval Value = (CHWR - CHWS) | eval Address="191 Peachtree St NE Atlanta Georgia 30303" | eval Building="191 Peachtree" | eval City="Atlanta" | eval Country="US" | eval Customer="cousins" | eval Floor=if(Device=="BTU_6", "FL04", "FL03") | eval Point_Name="Delta" | eval Region="SE" | eval Slot_Path="" | eval State="GA" | eval System="PLANT" | eval Zipcode="30303" | eval index="cousins_191peachtree" | table Address, Building, City, Country, Customer, Device, Floor, Point_Name, Region, Slot_Path, State, System, Value, Zipcode, index
disabled = 1

[191 - Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_191peachtree"|dedup Device,Point_Name|eval Device_Point = Device." ".Point_Name|stats count by Device,Device_Point|fields - count|outputlookup 191devicepoints.csv
disabled = 1

[191 - Earliest Record Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = November 5th - 6th
disabled = 1
enableSched = 1
search = index="cousins_191peachtree" sourcetype="cousins_191peachtree"|tail 1|table _time|eval time= strftime(_time, "%b/%d/%y   %I:%M %p")| table time|outputlookup 191earliestrecord.csv

[191 - Connection Status]
action.email = 1
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: Indexers have not received data from Cousins One Ninety One Peachtree Tower within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not reveived any data from 191 Peachtree Tower in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors.  \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191 Peachtree - Connection Status - High - 0001-0001
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */5 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" sourcetype="cousins_191peachtree"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 5,"Connection working", "Cousins 191 Peachtree has not received new data in 5 minutes")|where status = "Cousins 191 Peachtree has not received new data in 5 minutes"|table _time, status

[191 - Floor, Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 23 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_191peachtree"|dedup Device|table Floor, Device|sort Floor, Device|outputlookup 191devices.csv
disabled = 1

[191 - Floors Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_191peachtree"|dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup 191floors.csv
disabled = 1

[191 - Numeric Floors, Devices, Points Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_191peachtree"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup 191_device_points.csv
disabled = 1

[191 - Outliers]
action.summary_index = 1
action.summary_index._name = outliers
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Floor="FL*" Point_Name="ZoneTemp" OR Point_Name="Occupancy"|eval Name = Floor." ".Device | chart last(Value) values(Parent) values(Floor) as Floor values(Device) as Device over Name by Point_Name | eval Device='Device: ZoneTemp' | eval Floor='Floor: ZoneTemp' | eval Occupancy='last(Value): Occupancy' | eval ZoneTemp='last(Value): ZoneTemp'| eval Parent='values(Parent): ZoneTemp' | fields - "Floor: Occupancy" "Floor: ZoneTemp" "Device: Occupancy" "Device: ZoneTemp" "last(Value): Occupancy" "last(Value): ZoneTemp" "values(Parent): ZoneTemp" "values(Parent): Occupancy"

[ACS - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_americancancersocietycenter"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup americancancersocietycenterrulesstatus.csv

[5th & 3rd - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_fifththirdcenter"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup fifththirdrulesstatus.csv

[777 - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_777main"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup 777mainrulesstatus.csv

[816 Congress - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_816congress"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup 816congressrulesstatus.csv

[Colorado Tower - Chilled Water Delta Temperature]
action.summary_index = 1
action.summary_index._name = cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Point_Name="CHWR" OR Point_Name="CHWS"|chart max(Value) over Device by Point_Name|eval Value = (CHWR - CHWS) | eval Address="303 Colorado Street, Austin, TX 78701" | eval Building="Colorado Tower" | eval City="Austin" | eval Country="US" | eval Customer="cousins" | eval Floor=if(Device=="BTU_6", "FL04", "FL03") | eval Point_Name="Delta" | eval Region="SE" | eval Slot_Path="" | eval State="TX" | eval System="PLANT" | eval Zipcode="78701" | eval index="cousins_coloradotower" | table Address, Building, City, Country, Customer, Device, Floor, Point_Name, Region, Slot_Path, State, System, Value, Zipcode, index
disabled = 1

[Colorado Tower - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_coloradotower"|dedup Floor,Device|table Floor,Device|sort Device|outputlookup coloradotowerdevices.csv
disabled = 1

[Colorado Tower - Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_coloradotower"|dedup Device,Point_Name|eval Device_Point = Device." ".Point_Name|stats count by Device,Device_Point,Point_Name|fields - count|outputlookup coloradotower_device_points.csv
disabled = 1

[Colorado Tower - Earliest Record Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
enableSched = 1
search = index="cousins_coloradotower"|tail 1|table _time|eval time= strftime(_time, "%b/%d/%y   %I:%M %p")| table time|outputlookup coloradotowerearliestrecord.csv
disabled = 1

[Colorado Tower - Floors Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_coloradotower"|dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup coloradotowerfloors.csv
disabled = 1

[Colorado Tower - Numeric Floors, Devices, Points Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
search = index="cousins_coloradotower"|dedup Device Point_Name|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name
disabled = 1

[Colorado Tower - Outliers]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
search = index="cousins_coloradotower" Floor="FL*" Point_Name="ZoneTemp" OR Point_Name="Occupancy"|eval Name = Floor." ".Device | chart last(Value) values(Parent) values(Floor) as Floor values(Device) as Device over Name by Point_Name | eval Device='Device: ZoneTemp' | eval Floor='Floor: ZoneTemp' | eval Occupancy='last(Value): Occupancy' | eval ZoneTemp='last(Value): ZoneTemp'| eval Parent='values(Parent): ZoneTemp' | fields - "Floor: Occupancy" "Floor: ZoneTemp" "Device: Occupancy" "Device: ZoneTemp" "last(Value): Occupancy" "last(Value): ZoneTemp" "values(Parent): ZoneTemp" "values(Parent): Occupancy"
disabled = 1

[Colorado Tower - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="AHU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|sort -Vol | head 25
disabled = 1

[Colorado Tower - Top 25 TU/VAV Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="VAV*" OR Device="TU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Colorado Tower - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Point_Name="SpaceTemp"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Colorado Tower - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)
disabled = 1

[Meridian - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_meridianmarkplaza"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup meridianmarkplazacenterrulesstatus.csv

[Northpark 400 - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_northpark400"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup northpark400rulesstatus.csv

[Northpark 500/600 - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_northpark500600"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup northpark500600rulesstatus.csv

[Northpoint - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_northpoint"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup northpointrulesstatus.csv

[POC 123 - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_postoakcentral"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup postoakcentralrulesstatus.csv

[2100 Ross - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_2100ross"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup 2100rossrulesstatus.csv

[Terminus 100 - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = * * * * *
disabled = 1
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus100"|eval AdHoc_Name = Floor." - ".Device|dedup AdHoc_Name|table Floor,Device,AdHoc_Name|sort Device|outputlookup terminus100devices.csv

[Terminus 100 - Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus100"|dedup Device,Point_Name|eval Device_Point = Device." ".Point_Name|eval AdHoc_Name=Floor." - ".Device|stats count by Device,Device_Point,Point_Name,AdHoc_Name|fields - count|outputlookup terminus100devicepoints.csv

[Terminus 100 - Earliest Record Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
enableSched = 1
search = index="cousins_terminus100"|tail 1|table _time|eval time= strftime(_time, "%b/%d/%y   %I:%M %p")| table time|outputlookup terminus100earliestrecord.csv

[Terminus 100 - Floors Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus100"|dedup Floor|table Floor|sort Floor|outputlookup terminus100floors.csv

[Terminus 100 - Numeric Floors, Devices, Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus100"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup terminus100_device_points.csv

[Terminus 200 - Device List Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = * * * * *
disabled = 1
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus200"|dedup Floor,Device|table Floor,Device|sort Device|outputlookup terminus200devices.csv

[Terminus 200 - Device Point Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus200"|dedup Device,Point_Name|eval Device_Point = Device." ".Point_Name|stats count by Device,Device_Point|fields - count|outputlookup terminus200devicepoints.csv

[Terminus 200 - Earliest Record Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
enableSched = 1
search = index="cousins_terminus200"|tail 1|table _time|eval time= strftime(_time, "%b/%d/%y   %I:%M %p")| table time|outputlookup terminus200earliestrecord.csv

[Terminus 200 - Floor, Device List Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 23 * * *
disabled = 1
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus200"|dedup Device|table Floor, Device|sort Floor, Device|outputlookup terminus200devices.csv

[Terminus 200 - Floors Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus200" Floor="*"|dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup terminus200floors.csv

[Terminus 200 - Numeric Floors, Devices, Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_terminus200"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup terminus200_device_points.csv

[191 - JACE PT03SC002 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT03SC002 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT03SC002. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT03SC002
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT03SC002*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT03SC027 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT03SC027 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT03SC027. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT03SC027
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT03SC027*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT05SC003 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT05SC003 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT05SC003. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT05SC003
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT05SC003*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT07SC004 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT07SC004 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PTP6SC001. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT07SC004
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT07SC004*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT09SC005 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT09SC005 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT09SC005. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT09SC005
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT09SC005*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT11SC006 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT11SC006 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT11SC006. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT11SC006
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT11SC006*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT14SC007 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT14SC007 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT14SC007. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT14SC007
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT14SC007*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT16SC008 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT16SC008 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT16SC008. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT16SC008
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT16SC008*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT18SC009 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT18SC009 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT18SC009. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT18SC009
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT18SC009*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT20SC010 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT20SC010 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT20SC010. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT20SC010
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT20SC010*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT22SC011 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT20SC010 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT20SC010. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
description = PT22SC011
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT22SC011*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT24SC012 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT24SC012 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT24SC012. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT24SC012
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT24SC012*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT26SC013 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT26SC013 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT26SC013. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT26SC013
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT26SC013*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT28SC014 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT28SC014 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT28SC014. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT28SC014
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT28SC014*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT30SC015 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT30SC015 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT30SC015. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT30SC015
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT30SC015*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT32SC016 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The Cousins architecture has not received data from 0001-0001 JACE PT32SC016 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection with 0001-0001 JACE PT32SC016. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.\
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT32SC016
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT32SC016*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT34SC017 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT34SC017 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT34SC017. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT34SC017
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT34SC017*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT36SC018 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT36SC018 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT36SC018. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT36SC018
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT36SC018*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT38SC019 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT38SC019 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT38SC019. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT38SC019
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT38SC019*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT40SC020 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT40SC020 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT40SC020. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT40SC020
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT40SC020*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT42SC021 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT42SC021 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT42SC021. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT42SC021
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT42SC021*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT44SC022 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT44SC022 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT44SC022. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT44SC022
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT44SC022*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT46SC023 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT46SC023 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT46SC023. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT46SC023
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT46SC023*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT48SC024 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT48SC024 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT32SC016. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT48SC024
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT48SC024*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT50SC025 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT50SC025 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT50SC025. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT50SC025
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT50SC025*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PT52SC026 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PT52SC026 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PT52SC026. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PT52SC026
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PT52SC026*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[191 - JACE PTP6SC001 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 191 Peachtree Street NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 0001-0001 JACE PTP6SC001 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0001 JACE PTP6SC001. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: 191Peachtree - Connection Status - High - 0001-0001 - PTP6SC001
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_PTP6SC001*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[ACSC - AdHoc Device Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_americancancersocietycenter"|dedup AdHoc_Name |table AdHoc_Name |outputlookup acscadhocdevices.csv
disabled = 1

[ABC]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
search = index="rules_cousins_fifththirdcenter"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count by source|sort -count|outputlookup fifththirdrulesstatus.csv
disabled = 1

[AWS Indexer 01 Status Failure]
action.email = 1
action.email.message.alert = "Customer-SiteID: 0001\
Scenario: Cousins Indexer 01 Server's status failed for greater than one minute.\
RiskLevel: High\
Implication: The cousins Indexer 01 is not showing any activity on the built in AWS monitoring. This server could have crashed and needs to be restarted if AWS has not restarted it. The customers may experience a stop if they are running a search during this crash. Customers may also notice a decrease in search performance.  \
PointOfFailure: AWS\
Component: Web Server \
Category: Web Server\
Path: https://50.16.209.229:8000/en-US/app/launcher/home\
"
action.email.message.report = "Customer-SiteID: 0001\
Scenario: Cousins Indexer 01 Server's status failed for greater than one minute.\
RiskLevel: High\
Implication: The cousins Indexer 01 is not showing any activity on the built in AWS monitoring. This server could have crashed and needs to be restarted if AWS has not restarted it. The customers may experience a stop if they are running a search during this crash. Customers may also notice a decrease in search performance.  \
PointOfFailure: AWS\
Component: Web Server \
Category: Web Server\
Path: https://50.16.209.229:8000/en-US/app/launcher/home\
"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: AWS Indexer 01 Status Failure - High - 0001
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = * * * * *
disabled = 1
dispatch.earliest_time = -1m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="irpalerts" "AWS Indexer 01"

[Colorado Tower - JACE 1 Connection Status]
action.email = 1
action.email.message.report = "Customer-SiteID: 0001-0003\
Location: 303 Colorado Street, Austin, TX 78701\
Scenario: The cousins architecture has not received data from 0001-0003 JACE 1 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0003 JACE 1. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Colorado Tower - Connection Status - High - 0001-0003 - JACE 1
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_coloradotower" source="*0001_0003_JACE_1*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Colorado Tower - JACE 2 Connection Status]
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Colorado Tower - Connection Status - High - 0001-0003 - JACE 2
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_coloradotower" source="*Colorado_Tower_Jace_2*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Colorado Tower - JACE 3 Connection Status]
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Colorado Tower - Connection Status - High - 0001-0003 - JACE 3
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_coloradotower" source="*0001_0003_JACE_3*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Colorado Tower - JACE 4 Connection Status]
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Colorado Tower - Connection Status - High - 0001-0003 - JACE 4
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_coloradotower" source="*Colorado_Tower_JACE_4*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Colorado Tower - JACE 5 Connection Status]
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Colorado Tower - Connection Status - High - 0001-0003 - JACE 5
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_coloradotower" source="*0001_0003_JACE_5*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Colorado Tower - JACE 6 Connection Status]
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Colorado Tower - Connection Status - High - 0001-0003 - JACE 6
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_coloradotower" source="*0001_0003_JACE_6*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Cooling Tower Search(Tableau)]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = Used for testing of tableau
dispatch.earliest_time = -7d@d
dispatch.latest_time = now
search = index="cousins_191peachtree" Point_Name="Com Basin Temp"|timechart span=15m last(Value) by Point_Name|join _time[|search index="cousins_191peachtree" Device="CT_*" Point_Name="Fan Speed"|timechart span=15m avg(Value) as "Fan Speed" by Device|sort -_time]|join _time[|search index="cousins_191peachtree" Point_Name="*M Tower Sp" OR Point_Name="EmChwReset ActiveSp"|timechart span=15m avg(Value) by Point_Name|rename "MM Tower Sp" as M|rename "SM Tower Sp" as S|rename "EmChwReset ActiveSp" as C|join _time[|search index="cousins_191peachtree" Point_Name="Tower Mode"|eval Value = substr(Value,0,1)|timechart span=15m Latest(Value) as Value]|eval Setpoint = case((Value="0"),C,(Value="1"),S,(Value="2"),M)]|eval "Fan Speed" = ((CT_1 / 100) + (CT_2 / 100) + (CT_3 / 100))|timechart span=15m avg("Com Basin Temp") as "Common Condensed Water Supply Temperature",sum("Fan Speed") as "FanSpeed", avg(Setpoint) as "Tower Supply Setpoint"

[Cousins Indexer Status]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = Customer: 0001\
Scenario: Search Head has received data from Cousins Indexer 01 within the last five minutes\
RiskLevel: High\
Implication: The Cousins Search Head has not received data from Indexer 01. This AWS server could be down or this indexers splunk web could be down. The user may notice a slight increase in search time if this server is down. \
PointOfFailure: Splunk\
Component: Data Repository\
Category: Data Repository\
Path: https://50.16.209.229:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.subject.alert = IRP Alert: Cousins Search Head & Indexer 01 Status - High - 0001
action.email.to = eig@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","Address","Building","City","Customer","Device","Floor","Point_Name","Region","Slot_Path","State","System","Zipcode","Value","Parent","Country","splunk_server"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = splunk_server="Production_Splunk_Indexer_01_-_COUSINS"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Indexer 01 is down, not receiving new data")|where status = "Cousins Indexer 01 is down, not receiving new data"|table _time, status

[Cousins Indexer Status 2]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = Customer: 0001\
Scenario: Search Head has received data from Cousins Indexer 02 within the last five minutes\
RiskLevel: High\
Implication: The Cousins Search Head has not received data from Indexer 01. This AWS server could be down or this indexers splunk web could be down. The user may notice a slight increase in search time if this server is down. This could also lead to missing weather data if this server is down.  \
PointOfFailure: Splunk\
Component: Data Repository\
Category: Data Repository\
Path: https://54.221.224.128:8000/en-US/app/launcher/home
action.email.priority = 2
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.subject.alert = IRP Alert: Cousins Search Head & Indexer 02 Status - High - 0001
action.email.to = eig@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","Address","Building","City","Customer","Device","Floor","Point_Name","Region","Slot_Path","State","System","Zipcode","Value","Parent","Country","splunk_server"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = splunk_server="Production_Splunk_Indexer_02_-_COUSINS"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Indexer 02 is down, not receiving new data")|where status = "Cousins Indexer 02 is down, not receiving new data"|table _time, status

[Cousins Indexer Status 3]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = Customer: 0001\
Scenario: Search Head has received data from Cousins Indexer 03 within the last five minutes\
RiskLevel: High\
Implication: The Cousins Search Head has not received data from Indexer 01. This AWS server could be down or this indexers splunk web could be down. The user may notice a slight increase in search time if this server is down. \
PointOfFailure: Splunk\
Component: Data Repository\
Category: Data Repository\
Path: https://50.17.203.83:8000/en-US/app/launcher/home
action.email.priority = 2
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.subject = IRP Alert: Cousins Search Head & Indexer 03 Status - High - 0001
action.email.subject.alert = Cousins Indexer Status 2
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
search = splunk_server="Production_Splunk_Indexer_03_-_COUSINS"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Indexer 03 is down, not receiving new data")|where status = "Cousins Indexer 03 is down, not receiving new data"|table _time, status

[Cousins Portfolio Indexed More than 85% of the Daily Quota]
action.email = 1
action.email.message.alert = "Customer: 0001\
Scenario: Cousins License has indexed more thatn 85% of it's daily quota.\
RiskLevel: High\
Implication: Their has been a heavy amount of data flowing into the cousins splunk instance this day. The licenses has a limit that is set in GBs per day. When 100% of the limit is reached, no more data will be indexed. Potential loss in data for the entire system until the next day begins. \
PointOfFailure: Splunk\
Component: Data Repository\
Category: Data Repository\
Path: https://50.17.203.83:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Cousins Portfolio Indexed More than 85% of the Daily Quota - High - 0001
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = @d
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index=_internal source=*metrics.log splunk_server="*" group="per_index_thruput" | eval MB=kb/1024 | stats sum(MB) as Total by series | rename series as index | search index!=_* | sort Total | addcoltotals | fillnull value="[ Total Indexed Volume ] last 24 hours" index|tail 1| where Total > 8500

[Disk Usage Over 80%]
action.email = 1
action.email.message.alert = Production Splunk Indexer 06 - COUSINS (191 PEACHTREE) has less that 20% of disk space remaining.
action.email.reportServerEnabled = 0
action.email.to = eig@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
counttype = number of events
cron_schedule = 30 * * * *
disabled = 1
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = sourcetype=df host=* | stats first(UsePct) as Used by Filesystem, host| where Used > "80%"

[Greenway - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 0 * * *
disabled = 1
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_greenway"|dedup Building,Floor,Device|table Building,Floor,Device|sort Device |outputlookup greenwaydevices.csv

[Greenway - Device Point Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 17 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_greenway"|dedup Building,Floor,Device,Point_Name|eval Device_Point = Point_Name|stats count by Building,Floor,Device,Device_Point|fields - count|outputlookup greenwayDevicePoints.csv

[Greenway - Floor Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_greenway"|dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup greenwayfloors.csv

[Greenway - Numeric Floors, Devices, Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_greenway"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup greenway_device_points.csv

[Jack Test]
description = Jack Cooling Towers
dispatch.earliest_time = 1454286816
dispatch.latest_time = 1483230817
display.visualizations.show = 0
request.ui_dispatch_view = search
search = Tower

[Meridian Mark Plaza]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = November 5th - 6th
enableSched = 1
search = index="cousins_meridianmarkplaza"|tail 1|table _time|eval time= strftime(_time, "%b/%d/%y   %I:%M %p")| table time|outputlookup meridianmarkplazaearliestrecord.csv
disabled = 1

[Meridian Mark Plaza - Outliers]
action.summary_index = 1
action.summary_index._name = outliers_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Floor="FL*" Point_Name="ZoneTemp" OR Point_Name="Occupancy"|eval Name = Floor." ".Device | chart last(Value) values(Parent) values(Floor) as Floor values(Device) as Device over Name by Point_Name | eval Device='Device: ZoneTemp' | eval Floor='Floor: ZoneTemp' | eval Occupancy='last(Value): Occupancy' | eval ZoneTemp='last(Value): ZoneTemp'| eval Parent='values(Parent): ZoneTemp' | fields - "Floor: Occupancy" "Floor: ZoneTemp" "Device: Occupancy" "Device: ZoneTemp" "last(Value): Occupancy" "last(Value): ZoneTemp" "values(Parent): ZoneTemp" "values(Parent): Occupancy"
disabled = 1

[Post Oak - Device List Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 0 * * *
disabled = 1
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_postoakcentral"|dedup Building,Floor,Device|table Building,Floor,Device|sort Device |outputlookup postoakcentraldevices.csv

[Post Oak - Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 17 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_postoakcentral"|dedup Building,Floor,Device,Point_Name|eval Device_Point = Point_Name|stats count by Building,Floor,Device,Device_Point|fields - count|outputlookup postOakDevicePoints.csv

[Post Oak - Floors Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_postoakcentral"|dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup postoakcentralfloors.csv

[Post Oak - Numeric Floors, Devices, Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_postoakcentral"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup postOak_device_points.csv

[Promenade 2 - AdHoc Device Point Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_promenade2"|dedup AdHoc_Name,Point_Name|eval Device_Point = AdHoc_Name." ".Point_Name|eval Device=AdHoc_Name|stats count by AdHoc_Name,Device,Device_Point|fields - count|outputlookup promenade2_adhoc_devicepoints.csv
disabled = 1

[Promenade 2 - Device List Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 23 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
enableSched = 1
search = index="cousins_promenade2"|dedup Floor,Device|table Floor,Device|sort Device|outputlookup promenade2devices.csv
disabled = 1

[Promenade 2 - Device Point Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_promenade2"|dedup Device,Point_Name|eval Device_Point = Device." ".Point_Name|stats count by Device,Device_Point|fields - count|outputlookup promenade2devicepoints.csv
disabled = 1

[Promenade 2 - Earliest Record Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = Jan 9th
disabled = 0
search = index="cousins_promenade2"|tail 1|table _time|eval time= strftime(_time, "%b/%d/%y   %I:%M %p")| table time|outputlookup promenadeearliestrecord.csv

[Promenade 2 - Floors Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_promenade2" |dedup Floor|eval Floor=mvindex(Floor,-1)|dedup Floor|table Floor|sort Floor|outputlookup promenade2floors.csv
disabled = 1

[Promenade 2 - JACE P2CPSC001 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE  P2CPSC001 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P2CPSC001. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P2CPSC001
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P2CPSC001*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P202SC003 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE  P202SC003 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P202SC003. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P202SC003
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P202SC003*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P2SLSC002 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE  P2SLSC002 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P2SLSC002. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P2SLSC002
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P2SLSC002*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P204SC004 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE  P204SC004 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P204SC004. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P204SC004
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P204SC004*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P207SC005 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P207SC005 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P207SC005. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P207SC005
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P207SC005*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P209SC006 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P209SC006 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P209SC006. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P209SC006
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P209SC006*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P211SC007 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P211SC007 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P211SC007. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P211SC007
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P211SC007*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P214SC008 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P214SC008 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P214SC008. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P214SC008
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P214SC008*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P216SC009 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P216SC009 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P216SC009. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P216SC009
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P216SC009*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P218SC010 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE  P218SC010 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P218SC010. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P218SC010
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P218SC010*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P220SC011 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P220SC011 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P220SC011. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P220SC011
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P220SC011*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P222SC012 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P222SC012 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P222SC012. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P222SC012
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P222SC012*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P224SC013 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P224SC013 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P224SC013. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P224SC013
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P224SC013*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P226SC014 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE  P226SC014 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P226SC014. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P226SC014
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P226SC014*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P230SC016 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE  P230SC016 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P230SC016. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P230SC016
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P230SC016*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P228SC015 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE  P228SC015 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE  P228SC015. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P228SC015
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P228SC015*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P232SC017 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P232SC017 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P232SC017. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P232SC017
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P232SC017*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P234SC018 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P234SC018in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P234SC018. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P234SC018
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P234SC018*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P236SC019 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P236SC019 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P236SC019. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P236SC019
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P236SC019*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - JACE P238SC020 Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location:1230 Peachtree Street, Atlanta, GA 30309\
Scenario: The cousins architecture has not received data from 0001-0002 JACE P238SC020 in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection wit 0001-0002 JACE P238SC020. Cousins will not see new data from this JACE's points and data recovery may not be possible depending on the health of the JACE.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Promenade 2 - Connection Status - High - 0001-0002 - P238SC020
action.email.to = eig@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_191peachtree" source="*0001_0001_JACE_P238SC020*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Promenade 2 - Numeric Floors, Devices, Points Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = now
enableSched = 1
search = index="cousins_promenade2"|dedup Device Point_Name|where isnum(Value)|table Floor, Device, Point_Name|sort 0 Floor, Device, Point_Name|outputlookup promenade2_device_points.csv
disabled = 1

[Greenway - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="*AHU*" |where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) | sort -Vol|head 25
disabled = 1

[Greenway - Top 25 PIU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="*PIU*" OR Device="*VAV*" OR Device="*FPB*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Greenway - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Point_Name="*ZONE TEMP*" OR Point_Name="*SPACE TEMP"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Greenway - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)
disabled = 1

[Meridian Mark Plaza - Top 25 AHU Volatility]
auto_summarize = 0
search = index="cousins_meridianmarkplaza" Device="AHU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Meridian Mark Plaza Rule - Chillers Low Chilled Water Temp Delta or Excess Flow for Load]
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If the difference between chilled water return temperature and chilled water supply temperature is less than 5 for more than 30 minutes, chiller plant is over-cooling. (Low Chilled Water Temp Delta or Excess Flow for Load)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Point_Name="CHWS" OR Point_Name="CHWR"|chart last(Value) over Device by Point_Name|eval difference = (CHWR - CHWS)|where difference < 5| eval Points="CHWS,CHWR"
disabled = 1

[Gateway Rule - AHU Static Pressure Too High-jack]
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="*CAV*" OR Device="*VAV*" OR Device="*FPU*" OR Device="*FB*" Point_Name="Air Valve Position" |table Device, Parent, Value|stats max(Value) as MaxDamper by Parent|where (MaxDamper < 80)|eval Device = Parent|eval Points="Air Valve Position"
disabled = 1

[ACSC - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 8 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="rules_cousins_americancancersocietycenter"|eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end|transaction source Device maxpause=30m|where (duration/60) > 30|stats count|outputlookup acscrulesstatus.csv
disabled = 1

[Emory - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 2 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="rules_cousins_emory"|eval start = 5|eval end = 19| eval hour = strftime(_time,"%H") |where hour > start AND hour < end|transaction source Device maxpause=30m|where (duration/60) > 30|stats count|outputlookup emoryrulesstatus.csv

[Greenway - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 5 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="rules_cousins_greenway"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup greenwayrulesstatus.csv

[Meridian Mark Plaza - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */30 * * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="rules_cousins_meridianmarkplaza"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup meridianmarkplazarulesstatus.csv
disabled = 1

[Post Oak - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 5 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="rules_cousins_postoakcentral"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup postoakcentral123rulesstatus.csv
disabled = 1

[191 Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="SupplyVFD_Command" Value>=100|eval Points="SupplyVFD_Command"|table _time, Device, Value, Points
disabled = 1

[191 Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*AHU*" Point_Name="SupplyAirTemp"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*AHU*" Point_Name="SupplyAirTempSetpoint" |bin span=15m _time |stats last(Value) as SupplyAirTempSetpoint by Device, _time ]\
|appendcols [|search index="cousins_191peachtree" Device="*AHU*" Point_Name="ActiveSupTempSp" |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = coalesce(ActiveSupTempSp, SupplyAirTempSetpoint)\
|eval difference = (SupplyTemp - Setpoint)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[191 Rule - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*AHU*" Point_Name="SupplyAirTemp"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*AHU*" Point_Name="SupplyAirTempSetpoint" |bin span=15m _time |stats last(Value) as SupplyAirTempSetpoint by Device, _time ]\
|appendcols [|search index="cousins_191peachtree" Device="*AHU*" Point_Name="ActiveSupTempSp" |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = coalesce(ActiveSupTempSp, SupplyAirTempSetpoint)\
|eval difference = (Setpoint - SupplyTemp)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[191 Rule - AHU Discharge Air Temperature Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*AHU*" Point_Name="SupplyAirTemp"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*AHU*" Point_Name="SupplyAirTempSetpoint" |bin span=15m _time |stats last(Value) as SupplyAirTempSetpoint by Device, _time ]\
|appendcols [|search index="cousins_191peachtree" Device="*AHU*" Point_Name="ActiveSupTempSp" |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = coalesce(ActiveSupTempSp, SupplyAirTempSetpoint)\
|eval difference = (SupplyTemp - Setpoint)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[191 Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*AHU*" Point_Name="StaticPressure" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*AHU*" Point_Name="StaticPressureSetpoint" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[191 Rule - CHW Temperature Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If chilled water supply temperature is higher than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*CH_*" Point_Name="CHWS"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*CH_*" Point_Name="ActChwSp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (CHWSTemp - Setpoint)\
|where difference > 1\
|fields _time, Device, difference
disabled = 1

[191 Rule - Chilled Water System Temp Not Tracking]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If common chilled water supply temperature is more than 1 above active set point for more than 30 minutes, chiller plant is not meeting set point (Common Chilled Water Temp Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*CEP" Point_Name="Common CHWS"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*CEP" Point_Name="SmMmChwReset ActiveSP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (CHWSTemp - Setpoint)\
|where difference > 1\
|fields _time, Device, difference
disabled = 1

[191 Rule - Chillers Chilled Water Temp Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If chilled water supply temperature is more than 1 above set point for more than 30 minutes, chiller plant is not meeting set point (Chilled Water Temp Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*CH_*" Point_Name="Common CHWS"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*CH_*" Point_Name="SmMmChwReset ActiveSP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (CHWSTemp - Setpoint)\
|where difference > 1\
|fields _time, Device, difference
disabled = 1

[191 Rule - Chillers High CHW Pump Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If chilled water differential pressure is more than 20% above set point or CHW Bypass Valve is open for more than 30 minutes, chilled water pump flow is too high (High CHW Pump Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="CHW Diff Press 51st"\
|bin span=15m _time\
|stats last(Value) as DiffPress by Device, _time\
|appendcols [|search index="cousins_191peachtree" Point_Name="CHW Bypass Diff Sp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]|eval difference = (DiffPress / Setpoint)\
|where difference > 1.2\
|fields _time, Device, difference
disabled = 1

[191 Rule - Chillers High CHW Pump Speed]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If chilled water differential pressure is more than 20% above set point or CHW Bypass Valve Command > 70%] for more than 30 minutes, chilled water pump speed is too high (High CHW Pump Speed)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="CHW Diff Press 51st"\
|bin span=15m _time\
|stats last(Value) as DiffPress by Device, _time\
|appendcols [|search index="cousins_191peachtree" Point_Name="CHW Bypass Diff Sp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|appendcols [|search index="cousins_191peachtree" Point_Name="V-12 Cmd" |bin span=15m _time |stats last(Value) as CHWBV by Device, _time]\
|eval difference = (DiffPress / Setpoint)\
|where (difference > 1.2) OR (CHWBV >70)\
|fields _time, Device, difference, CHWBV
disabled = 1

[191 Rule - Chillers Low Chilled Water Temp Delta or Excess Flow for Load]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If the difference between chilled water return temperature and chilled water supply temperature is less than 5 for more than 30 minutes, chiller plant is over-cooling. (Low Chilled Water Temp Delta or Excess Flow for Load)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="CHWS" \
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_191peachtree" Point_Name="CHWR" |bin span=15m _time |stats last(Value) as CHWRTemp by Device, _time]\
|eval difference = (CHWRTemp - CHWSTemp)\
|where difference < 5\
|fields _time, Device, difference
disabled = 1

[191 Rule - Cooling Towers Condenser Water Supply Temp Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If the cooling tower supply temperature is not within 2 of set point, condenser water temperature is not meeting set point.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="Com Basin Temp"|timechart span=15m last(Value) by Point_Name|join _time[|search index="cousins_191peachtree" Point_Name="*M Tower Sp" OR Point_Name="CHWS"|timechart span=15m avg(Value) by Point_Name|rename "MM Tower Sp" as M|rename "SM Tower Sp" as S|rename "CHWS" as C|join _time[|search index="cousins_191peachtree" Point_Name="Tower Mode"|eval Value = substr(Value,0,1)|timechart span=15m Latest(Value) as Value]|eval Setpoint = case((Value="0"),C,(Value="1"),S,(Value="2"),M)]|timechart span=15m avg("Com Basin Temp") as "CWS", avg(Setpoint) as "TSS"|eval diff = abs(CWS - TSS)|where diff > 2|eval Points="Com Basin Temp,MM Tower Sp,SM Tower Sp,Tower Mode" | eval Device="CT_1"
disabled = 1

[191 Rule - Cooling Towers Cooling Tower Fan Failure]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="Fan Cmd" \
|bin span=15m _time\
|stats last(Value) as Command by Device, _time\
|appendcols [|search index="cousins_191peachtree" Point_Name="Fan Status" |bin span=15m _time |stats last(Value) as Status by Device, _time]\
|where (Status != Command)\
|fields _time, Device, Status, Command
disabled = 1

[191 Rule - Mechanical Cooling While Economizing (Waterside)]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If chiller is operating while economizing is available (Mechanical Cooling While Economizing)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="EmChwReset ActiveSp"  OR Point_Name="HEX Approach"  OR Point_Name="Cooling Tower Approach"  OR Point_Name="Wet Bulb"  OR Point_Name="CEP Current Mode" \
|timechart span=15m last(Value) by Point_Name\
|timechart span=15m list("CEP Current Mode") as "Mode", list("EmChwReset ActiveSp") as "Setpoint", list("HEX Approach") as "hexApproach", list("Cooling Tower Approach") as "ctApproach", list("Wet Bulb") as "wetBulb"\
|eval diff = (hexApproach + ctApproach + wetBulb)\
|where diff < Setpoint AND Mode="0@peachtreeTowerCep:CurrentMode"\
|eval Points="Hex Approach,Cooling Tower Approach,Wet Bulb,EmChwReset ActiveSp, CEP Current Mode"
disabled = 1

[191 Rule - Terminal Unit High Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*" Point_Name="PrimaryAirflow" \
|bin span=15m _time\
|stats last(Value) as PrimaryAir by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="Airflow" |bin span=15m _time |stats last(Value) as Air by Device, _time]\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="AirflowSp" |bin span=15m _time |stats last(Value) as AirSp by Device, _time]\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="PrimaryAirflowSetpoint" |bin span=15m _time |stats last(Value) as PrimaryAirSp by Device, _time]\
|eval AirFlow = coalesce(PrimaryAir, Air)\
|eval Setpoint = coalesce(PrimaryAirSp, AirSp)\
|eval difference = (1 - (Setpoint/AirFlow))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[191 Rule - Terminal Unit Reheat Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="TU*" Point_Name="AnalogHeatOutput" \
|bin _time span=15m\
|stats last(Value) as Heat by Device, _time\
|join _time[|search index="cousins_191peachtree" Device="CW" Point_Name="OAT" |timechart span=15m last(Value) as OutsideTemp by Device]\
|where Heat > 0 AND CW > 70\
|fields _time, Device, Heat, CW
disabled = 1

[191 Rule - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*" Point_Name="PrimaryAirflow" \
|bin span=15m _time\
|stats last(Value) as PrimaryAir by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="Airflow" |bin span=15m _time |stats last(Value) as Air by Device, _time]\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="AirflowSp" |bin span=15m _time |stats last(Value) as AirSp by Device, _time]\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="PrimaryAirflowSetpoint" |bin span=15m _time |stats last(Value) as PrimaryAirSp by Device, _time]\
|eval AirFlow = coalesce(PrimaryAir, Air)\
|eval Setpoint = coalesce(PrimaryAirSp, AirSp)\
|eval difference = (1 - (AirFlow/Setpoint))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[191 Rule CHW Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If chilled water supply temperature is lower than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="*CH_*" Point_Name="CHWS"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*CH_*" Point_Name="ActChwSp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - CHWSTemp)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[ACSC Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_americancancersocietycenter" Device="*AHU*" Point_Name="SUP AIR TEMP"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_americancancersocietycenter" Device="*AHU*" Point_Name="SUPPLY SETPT" |bin span=15m _time |stats last(Value) as SupplyAirTempSetpoint by Device, _time ]\
|appendcols [|search index="cousins_americancancersocietycenter" Device="*AHU*" Point_Name="SUP STPT" |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = coalesce(ActiveSupTempSp, SupplyAirTempSetpoint)\
|eval difference = (SupplyTemp - Setpoint)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[ACSC Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_americancancersocietycenter" Device="*VAV*" OR Device="*PIU*" OR Device="*TU*" Point_Name="DMPR POS"|bin span=15m _time|stats max(Value) as MaxDamper by Device, _time|eval Over=if(MaxDamper>90,1,0)|eventstats sum(Over) as Total | where Total>2 | where MaxDamper>90|fields - Over, Total
disabled = 1

[ACSC Rule - OS Temperature Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_americancancersocietycenter" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference
disabled = 1

[191 Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = 5
search = index="cousins_191peachtree" Device="*AHU*" Point_Name="StaticPressure" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*AHU*" Point_Name="StaticPressureSetpoint" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[191 Rule - AHU Fan Status]
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="SupplyFanCommand" \
|bin span=15m _time\
|stats last(Value) as Command by Device, _time\
|appendcols [|search index="cousins_191peachtree" Point_Name="FanStatus" |bin span=15m _time |stats last(Value) as Status by Device, _time]\
|where (Status != Command)\
|fields _time, Device, Status, Command
disabled = 1

[Gateway Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Point_Name="Supply Fan Status" Value>=1|eval Points="Supply Fan Status"| table _time, Device, Value, Points
disabled = 1

[Gateway Rule - Terminal Unit Reheat Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="CAV*" Point_Name="Heat Active" \
|bin _time span=15m\
|stats last(Value) as Heat by Device, _time\
|join _time[|search index="cousins_gateway" Device="Weather" Point_Name="Temperature" |timechart span=15m last(Value) as OutsideTemp by Device]\
|where Heat > 0 AND Weather > 70\
|fields _time, Device, Heat, Weather
disabled = 1

[Greenway Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="*AHU*" Point_Name="*SUPPLY TEMP"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_greenway" Device="*AHU*" Point_Name="*SUPPLY TEMP SP" |bin span=15m _time |stats last(Value) as SupplyAirTempSetpoint by Device, _time ]\
|appendcols [|search index="cousins_greenway" Device="*AHU*" Point_Name="*SUPPLY TEMP SPT" |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = coalesce(ActiveSupTempSp, SupplyAirTempSetpoint)\
|eval difference = (SupplyTemp - Setpoint)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[Greenway Rule - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If AHU supply air temperature is greater than 2 below set point for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="*AHU*" Point_Name="*SUPPLY TEMP"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_greenway" Device="*AHU*" Point_Name="*SUPPLY TEMP SP" |bin span=15m _time |stats last(Value) as SupplyAirTempSetpoint by Device, _time ]\
|appendcols [|search index="cousins_greenway" Device="*AHU*" Point_Name="*SUPPLY TEMP SPT" |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = coalesce(ActiveSupTempSp, SupplyAirTempSetpoint)\
|eval difference = (Setpoint - SupplyTemp)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[Greenway Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="*AHU*" Point_Name="*STATIC PSI" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_greenway" Device="*AHU*" Point_Name="*STATIC SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Greenway Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If more than two (2) terminal units in the zone are more than 90% open for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="*AHU*" Point_Name="*STATIC PSI" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_greenway" Device="*AHU*" Point_Name="*STATIC SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Greenway Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Point_Name="SupplyVFD_Command" Value>=100|eval Points="SupplyVFD_Command"|table _time, Device, Value, Points
disabled = 1

[Greenway Rule - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="*PIU*" Point_Name="PrimaryAirflow" \
|bin span=15m _time\
|stats last(Value) as PrimaryAir by Device, _time\
|appendcols [|search index="cousins_greenway" Device="*PIU*"  Point_Name="Airflow" |bin span=15m _time |stats last(Value) as Air by Device, _time]\
|appendcols [|search index="cousins_greenway" Device="*PIU*"  Point_Name="AirflowSp" |bin span=15m _time |stats last(Value) as AirSp by Device, _time]\
|appendcols [|search index="cousins_greenway" Device="*PIU*"  Point_Name="PrimaryAirflowSetpoint" |bin span=15m _time |stats last(Value) as PrimaryAirSp by Device, _time]\
|eval AirFlow = coalesce(PrimaryAir, Air)\
|eval Setpoint = coalesce(PrimaryAirSp, AirSp)\
|eval difference = (1 - (AirFlow/Setpoint))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Terminus 100 Rule - Air Flow Sensor Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
realtime_schedule = 0
search = index=cousins_terminus100 Device="*V-*" OR Device="*P-*" Point_Name="Air Valve Flow" OR Point_Name="Air Valve Position"|chart limit=0 last(Value) over Device by Point_Name|rename "Air Valve Flow" as AIRVOLUME|rename "Air Valve Position" as DMPRPOS|where (DMPRPOS > 80) AND (AIRVOLUME < 100)|eval Points="AIR VOLUME, DMPR POS"|table Device, AdHoc_Name, Points
disabled = 1

[Gateway - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 55 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="rules_cousins_gateway"| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup gatewayrulesstatus.csv
disabled = 1

[Post Oak - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*VAV*" Point_Name="*CFMS" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time\
|appendcols [|search index="cousins_postoakcentral" Device="*VAV*"  Point_Name="*CFM TARGET" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (1 - (AirFlow/Setpoint))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Post Oak - VAV Terminal Unit High Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*VAV*" Point_Name="*CFMS" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time\
|appendcols [|search index="cousins_postoakcentral" Device="*VAV*"  Point_Name="*CFM TARGET" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (1 - (Setpoint/AirFlow))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Post Oak - AHU Suply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Point_Name="*VFD SPEED COMMAND" Value>=100|eval Points="SupplyVFD_Command"|table _time, Device, Value, Points
disabled = 1

[Post Oak - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral"  Point_Name="*STATIC PSI*" OR Point_Name="*STATIC PRESSURE*"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_postoakcentral"  Point_Name="*STATIC PSI SP*" OR Point_Name="*STATIC SETPOINT"|bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Post Oak - AHU StaticPressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If more than two (2) terminal units in the zone are more than 90% open for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral"  Point_Name="*STATIC PSI*" OR Point_Name="*STATIC PRESSURE*"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_postoakcentral"  Point_Name="*STATIC PSI SP*" OR Point_Name="*STATIC SETPOINT"|bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Post Oak - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*AHU*" Point_Name="*SUPPLY TEMP*"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_postoakcentral" Device="*AHU*" Point_Name="*SUPPLY TEMP SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = (SupplyTemp - Setpoint)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[Post Oak - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If AHU supply air temperature is greater than 2 below set point for more than 30 minutes, supply temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*AHU*" Point_Name="*SUPPLY TEMP*"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_postoakcentral" Device="*AHU*" Point_Name="*SUPPLY TEMP SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = (Setpoint - SupplyTemp)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[Post Oak Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*AHU*" Point_Name="*SUPPLY TEMP*"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_postoakcentral" Device="*AHU*" Point_Name="*SUPPLY TEMP SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = (SupplyTemp - Setpoint)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[Post Oak Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral"  Point_Name="*STATIC PSI*" OR Point_Name="*STATIC PRESSURE*"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_postoakcentral"  Point_Name="*STATIC PSI SP*" OR Point_Name="*STATIC SETPOINT"|bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Post Oak Rule - AHU StaticPressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If more than two (2) terminal units in the zone are more than 90% open for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral"  Point_Name="*STATIC PSI*" OR Point_Name="*STATIC PRESSURE*"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_postoakcentral"  Point_Name="*STATIC PSI SP*" OR Point_Name="*STATIC SETPOINT"|bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Post Oak Rule - AHU Suply VFD Signal Maxed]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Point_Name="*VFD SPEED COMMAND" Value>=100|eval Points="SupplyVFD_Command"|table _time, Device, Value, Points
disabled = 1

[Post Oak Rule - VAV Terminal Unit High Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*VAV*" Point_Name="*CFMS" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time\
|appendcols [|search index="cousins_postoakcentral" Device="*VAV*"  Point_Name="*CFM TARGET" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (1 - (Setpoint/AirFlow))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Post Oak Rule - VAV Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*VAV*" Point_Name="*CFMS" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time\
|appendcols [|search index="cousins_postoakcentral" Device="*VAV*"  Point_Name="*CFM TARGET" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (1 - (AirFlow/Setpoint))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[191 Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" | table _time, Device, AdHoc_Name, Points, difference
disabled = 1

[191 Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_191peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference
disabled = 1

[Colorado Tower Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" | table _time, Device, AdHoc_Name, Points, difference
disabled = 1

[Colorado Tower Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference
disabled = 1

[Gateway Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference
disabled = 1

[Gateway Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" | table _time, Device, AdHoc_Name, Points, difference
disabled = 1

[Greenway Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_greenway
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" | table _time, Device, AdHoc_Name, Points, difference
disabled = 1

[Greenway Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_greenway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_greenway" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference
disabled = 1

[Post Oak Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference
disabled = 1

[Post Oak Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" | table _time, Device, AdHoc_Name, Points, difference
disabled = 1

[Post Oak Rule - AHU Discharge Air Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_postoakcentral
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * *
description = If AHU supply air temperature is greater than 2 below set point for more than 30 minutes, supply temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_postoakcentral" Device="*AHU*" Point_Name="*SUPPLY TEMP*"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_postoakcentral" Device="*AHU*" Point_Name="*SUPPLY TEMP SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = (Setpoint - SupplyTemp)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[ACSC Rule -  Cooling Towers Condenser Water Supply Temp Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
description = If the cooling tower supply temperature is not within 2 of set point, condenser water temperature is not meeting set point.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_americancancersocietycenter" Point_Name="COM CWS TEMP"| timechart span=20m last(Value) as CWS\
|join _time[|search index="cousins_americancancersocietycenter" Point_Name="CWS SETPOINT" | timechart span=20m avg(Value) as CWS_SP]\
|eval diff = abs(CWS-CWS_SP)\
|where diff > 2
disabled = 1

[Greenway - Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location: 1230 Peachtree Street NE, Atlanta, GA 30309\
Scenario: Indexers have not received data from Cousins Fifth Third Center within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not received any data from Fifth Third Center in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.priority = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */16 * * * *
dispatch.earliest_time = 1
dispatch.latest_time = now
quantity = 0
relation = greater than
search = index="cousins_greenway" sourcetype="cousins_greenway*"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 21,"Connection working", "Cousins Post Oak Central has not received new data in 5 minutes")|where status = "Cousins Post Oak Central has not received new data in 5 minutes"|table _time, status
disabled = 1

[Post Oak - Connection Status]
action.email = 1
action.email.include.results_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location: 1230 Peachtree Street NE, Atlanta, GA 30309\
Scenario: Indexers have not received data from Cousins Fifth Third Center within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not received any data from Fifth Third Center in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.priority = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */16 * * * *
disabled = 1
dispatch.earliest_time = 1
dispatch.latest_time = now
quantity = 0
relation = greater than
search = index="cousins_postoakcentral" sourcetype="cousins_postoakcentral"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 21,"Connection working", "Cousins Post Oak Central has not received new data in 5 minutes")|where status = "Cousins Post Oak Central has not received new data in 5 minutes"|table _time, status

[Colorado Tower - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 1 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="rules_cousins_coloradotower"|eval start = 8|eval end = 17|where date_hour > start AND date_hour =< end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count|outputlookup coloradotowerrulesstatus.csv
disabled = 1

[191 - Rules Status Lookup]
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="rules_cousins_191peachtree"|eval start = 8|eval end = 17|where date_hour >= start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup 191rulesstatus.csv
disabled = 1

[191 - Top 25 AHU Volatiltiy]
action.summary_index = 1
action.summary_index._name = statistics_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="AHU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) | sort -Vol|head 25
disabled = 1

[191 - Top 25 TU/VAV Volatiltiy]
action.summary_index = 1
action.summary_index._name = statistics_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Device="VAV*" OR Device="TU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[191 - Top 25 Thermostat Volatiltiy]
action.summary_index = 1
action.summary_index._name = statistics_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree" Point_Name="ZoneTemp"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[191 - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_191peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_191peachtree"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)
disabled = 1

[Gateway Rule - Terminal Unit Damper Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If terminal unit damper position is 100% open for more than 30 minutes, terminal unit damper has an issue.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="CAV*" OR Device="FPU*" Point_Name="*Air Valve Position" \
|bin _time span=15m\
|stats last(Value) as Position by Device, _time\
|where Position=100\
|fields _time, Device, Position
disabled = 1

[191 Rule - Cooling Towers Condenser Water Flow Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_3344peachtree" Point_Name="CondenserWaterSupplyTemp" \
|bin span=15m _time\
|stats last(Value) as CWSTemp by Device, _time\
|join _time [|search index="cousins_3344peachtree" Point_Name="CondenserWaterReturnTemp" |bin span=15m _time |stats last(Value) as CWRTemp by Device, _time]\
|eval difference = (CWRTemp - CWSTemp)\
|where difference < 8\
|fields _time, Device, difference

[Gateway Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="*AC*" Point_Name="SA Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_gateway" Device="*AC*" Point_Name="SA Cooling Setpoint*" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[Gateway Rule - AHU Discharge Air Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If AHU supply air temperature is greater than 5 above set point for more than 30 minutes, AHU supply temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="*AC*" Point_Name="SA Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_gateway" Device="*AC*" Point_Name="SA Cooling Setpoint*" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|where difference > 6\
|fields _time, Device, difference
disabled = 1

[Gateway Rule - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If AHU supply air temperature is greater than 5 below set point for more than 30 minutes, AHU supply temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="*AC*" Point_Name="SA Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_gateway" Device="*AC*" Point_Name="SA Cooling Setpoint*" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - SupplyTemp)\
|where difference > 6\
|fields _time, Device, difference
disabled = 1

[Gateway Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="*AC*" Point_Name="SA Pressure: Input" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_gateway" Device="*AC*" Point_Name="SA Pressure Setpoint: Ref" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Pressure - Setpoint)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Gateway Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If more than two (2) terminal units in the zone are more than 90% open for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="*AC*" Point_Name="SA Pressure: Input" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_gateway" Device="*AC*" Point_Name="SA Pressure Setpoint: Ref" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Setpoint - Pressure)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Meridian Mark Plaza Rule - Chillers Chilled Water Temp Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If chilled water supply temperature is more than 1 above set point for more than 30 minutes, chiller plant is not meeting set point (Chilled Water Temp Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="*CH_*" Point_Name="CHWS"\
|bin span=15m _time\
|stats last(Value) as Temp by Device, _time\
|appendcols [|search index="cousins_meridianmarkplaza" Device="*CH_*" Point_Name="ActChwSp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(Temp - Setpoint)\
|where difference > 1\
|fields _time, Device, difference
disabled = 1

[Meridian Mark Plaza Rule - Chillers Chilled Water Temp Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If chilled water supply temperature is more than 1 below set point for more than 30 minutes, chiller plant is not meeting set point (Chilled Water Temp Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="*CH_*" Point_Name="CHWS" OR Point_Name="ActChwSp"|chart last(Value) over Device by Point_Name|eval difference = exact(ActChwSp - CHWS)|where difference > 1|eval Points="CHWS,ActChwSp"
disabled = 1

[Meridian Mark Plaza Rule - Chillers High CHW Pump FLow]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If chilled water differential pressure is more than 20% above set point or CHW Bypass Valve is open for more than 30 minutes, chilled water pump flow is too high (High CHW Pump Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Point_Name="CHW Diff Press 51st" OR Point_Name="CHW Bypass Diff Sp"|chart last(Value) over Device by Point_Name|rename "CHW Diff Press 51st" as CHWDP|rename "CHW Bypass Diff Sp" as CHWPSP|eval difference = exact(CHWDP / CHWPSP)|where difference > 1.2|eval Points="CHW Diff Press 51st,CHW Bypass Diff Sp"
disabled = 1

[Meridian Mark Plaza Rule - Chillers High CHW Pump Speed]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If chilled water differential pressure is more than 20% above set point or CHW Bypass Valve Command > 70%] for more than 30 minutes, chilled water pump speed is too high (High CHW Pump Speed)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Point_Name="CHW Diff Press 51st" OR Point_Name="CHW Bypass Diff Sp" OR Point_Name="V-12 Cmd"|chart last(Value) over Device by Point_Name|rename "CHW Diff Press 51st" as CHWDP|rename "CHW Bypass Diff Sp" as CHWPSP|rename "V-12 Cmd" as CHWBV|eval difference = exact(CHWDP / CHWPSP)|where (difference > 1.2) OR (CHWBV >70)|eval Points="CHW Diff Press 51st,CHW Bypass Diff Sp,V-12 Cmd"
disabled = 1

[Meridian Mark Plaza Rule - Cooling Towers Condenser Water Supply Temp Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If the cooling tower supply temperature is not within 2 of set point, condenser water temperature is not meeting set point.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Point_Name="Com Basin Temp"|timechart span=15m last(Value) by Point_Name|join _time[|search index="cousins_emory" Point_Name="*M Tower Sp" OR Point_Name="CHWS"|timechart span=15m avg(Value) by Point_Name|rename "MM Tower Sp" as M|rename "SM Tower Sp" as S|rename "CHWS" as C|join _time[|search index="cousins_emory" Point_Name="Tower Mode"|eval Value = substr(Value,0,1)|timechart span=15m Latest(Value) as Value]|eval Setpoint = case((Value="0"),C,(Value="1"),S,(Value="2"),M)]|timechart span=15m avg("Com Basin Temp") as "CWS", avg(Setpoint) as "TSS"|eval diff = exact(abs(CWS - TSS))|where diff > 2|eval Points="Com Basin Temp,MM Tower Sp,SM Tower Sp,Tower Mode" | eval Device="CT_1"
disabled = 1

[Meridian Mark Plaza Rule - SWUD Cooling Issue (Water temperature)]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If entering water temperature is higher than leaving water temperature, SWUD has cooling issue.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="*Condenser Water Temp: Entering"\
|bin span=15m _time\
|stats last(Value) as CWS by Device, _time\
|appendcols [|search index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="*Condenser Water Temp: Leaving" |bin span=15m _time |stats last(Value) as CWR by Device, _time ]\
|eval difference = exact(CWS - CWR)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[gatewat_cc_above_report]
action.email = 1
action.email.cc = josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = timothy.cooper@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 17 * * *
description = Gateway Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
search = index="cousins_gateway" Point_Name="Zone Temp*" NOT [|inputlookup gatewayBucket.csv | fields Device] |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((Value != 0),(Value-78),(Value == 0),null()) | where Above > 0 |stats count(Above) AS Total_Above, avg(Above) AS Average_Above BY Device |sort -Total_Above |head 10
disabled = 1

[Gateway Rule - AHU Fan Status]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If the AHU fan is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, AHU fan is not working (AHU Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="AC*" Point_Name="Mode: Occupancy" \
|bin span=15m _time\
|stats last(Value) as Command by Device, _time\
|join_time [|search index="cousins_gateway" Device="AC*" Point_Name="Supply Fan Status" |bin span=15m _time |stats last(Value) as Status by Device, _time]\
|where (Status = 1) AND (Command != 1)\
|fields _time, Device, Status, Command
disabled = 1

[Gateway Rule - CWS Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If CWS Temperature is above setpoint by 8 degrees
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="*AC*" Point_Name="SA Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_gateway" Device="*AC*" Point_Name="SA Cooling Setpoint*" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|where difference > 6\
|fields _time, Device, difference

[Terminus 200 - Point Bucket Report]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, adam.bostwick@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = timothy.cooper@mckenneys.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * 0
description = Terminus 200 Point Bucket Report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
display.visualizations.show = 0
search = |inputlookup t200BucketTest.csv | table Device, Notes, User|sort Device

[Gateway Rule - AHU After Hour Fan Status]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_gateway
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 1 * * *
description = If the AHU fan is commanded to run outside of business hours
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_gateway" Device="AC*" Point_Name="Mode: Occupancy" \
|bin span=15m _time\
|stats last(Value) as Command by Device, _time\
|join_time [|search index="cousins_gateway" Device="AC*" Point_Name="Supply Fan Status" |bin span=15m _time |stats last(Value) as Status by Device, _time]\
|eval date_hour = strftime(_time,"%H")\
|eval start = 8|eval end = 17 \
|where (Status = 1) AND date_hour < start OR date_hour >= end\
|fields _time, Device, Status, Command

[Hearst Tower Rule - AHU Discharge Air Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Device="*AHU*" Point_Name="Supply Air Temp"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|join sourcetype [|search index="cousins_hearsttower" Device="*AHU*" Point_Name="Supply Air Temp Setpoint" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = (SupplyTemp - Setpoint)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[Hearst Tower Rule - AHU Discharge Air Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Device="*AHU*" Point_Name="Supply Air Temp"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|join sourcetype [|search index="cousins_hearsttower" Device="*AHU*" Point_Name="Supply Air Temp Setpoint" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = (Setpoint - SupplyTemp)\
|where difference > 2\
|fields _time, Device, difference
disabled = 1

[Hearst Tower Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = 5
search = index="cousins_hearsttower" Device="*AHU*" Point_Name="Static Pressure" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time|join sourcetype [|search index="cousins_hearsttower" Device="*AHU*" Point_Name="Static Pressure Setpoint" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Hearst Tower Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Device="*AHU*" Point_Name="Static Pressure" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time|join sourcetype [|search index="cousins_hearsttower" Device="*AHU*" Point_Name="Static Pressure Setpoint" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Hearst Tower Rule - AHU Supply VFD Signal Maxed]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Point_Name="Supply Fan Speed" Value>=100|eval Points="Supply Fan Speed"|table _time, Device, Value, Points
disabled = 1

[Hearst Tower Rule - Terminal Unit High Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Device="*B*" OR Device="*VAV*" OR Device="*FPU*" Point_Name="Flow" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time\
|join sourcetype[|search index="cousins_hearsttower" Device="*B*" OR Device="*VAV*" OR Device="*FPU*" Point_Name="FlowSpt" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (1 - (Setpoint/AirFlow))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Hearst Tower Rule - Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 1 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Device="*B*" OR Device="*VAV*" OR Device="*FPU*" Point_Name="Flow" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time\
|join sourcetype[|search index="cousins_hearsttower" Device="*B*" OR Device="*VAV*" OR Device="*FPU*" Point_Name="FlowSpt" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (1 - (AirFlow/Setpoint))\
|where difference > .2\
|fields _time, Device, difference
disabled = 1

[Hearst Tower - Top 25 AHU Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Device="*AHU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) | sort -Vol|head 25
disabled = 1

[Hearst Tower - Top 25 Terminal Unit Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Device="*VAV*" OR Device="B*" NOT Device="Bo*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Hearst Tower - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower" Point_Name="RmTmp"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |sort -Vol| head 25
disabled = 1

[Hearst Tower - Volatility Calculation]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_hearsttower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_hearsttower"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)
disabled = 1

[Gateway--Connection Status]
action.email = 1
action.email.cc = dedwards@cousins.com, dmoore@cousins.com, sjoseph@cousins.com
action.email.message.alert = Customer-SiteID: 0001-0007\
Location: 5445 Meridian Mark Road, Atlanta, GA 30342\
Scenario: Indexers have not received data from Cousins Meridian Mark Plaza within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not reveived any data from Meridian Mark Plaza in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.to = eig@mckenneys.com
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_gateway" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Gateway Vilage has not received new data in 15 minutes")|where status = "Cousins Gateway Village has not received new data in 15 minutes"|table _time, status

[Dimensional Place - Top 25 AHU Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_dimensionalplace
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_dimensionalplace" Device="SCU*" NOT Device="SCU*VFD"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Deviation by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Deviation/Avg)*100) | sort -Vol|head 25
disabled = 1

[Dimensional Place - Top 25 Terminal Unit Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_dimensionalplace
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_dimensionalplace" Device="S*" NOT Device="SCU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Deviation by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Deviation/Avg)*100) |sort -Vol| head 25
disabled = 1

[Dimensional Place - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_dimensionalplace
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_dimensionalplace" Point_Name="SpaceTemp"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Deviation by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Deviation/Avg)*100) |sort -Vol| head 25
disabled = 1

[Dimensional Place - Volatility Calculation]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_dimensionalplace
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_dimensionalplace"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Deviation by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Deviation/Avg)*100)
disabled = 1

[Colorado Tower - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = bbailey@cousins.com, bburke@cousins.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 9 * * 1
description = Colorado Tower Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_coloradotower" Point_Name="SpaceTemp" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup coloradoBucket.csv | fields Device] |eval date_hour = strftime(_time,"%H")|eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((Value != 0),(Value-76),(Value == 0),null()) | where Above > 0 |stats count(Above) AS Total_Above, avg(Above) AS Average_Above BY Device |sort -Average_Above |head 10
disabled = 1

[Colorado Tower - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = bbailey@cousins.com, bburke@cousins.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 55 9 * * 1
description = Colorado Tower Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_coloradotower" Point_Name="SpaceTemp" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup coloradoBucket.csv | fields Device] |eval date_hour = strftime(_time,"%H")|eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Total_Below, avg(Below) AS Average_Below BY Device |sort -Average_Below |head 10
disabled = 1

[Gateway - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = Dedwards@cousins.com, egray@cousins.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 2 * * 1
description = Gateway Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_gateway" Point_Name="Zone Temp*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup gatewayBucket.csv | fields Device] |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Total_Below, avg(Below) AS Average_Below BY Device |eval Range="68"  |table Device, Total_Below, Average_Below, Range |sort -Average_Below, -Total_Below |head 10
disabled = 1

[Gateway - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = Dedwards@cousins.com, egray@cousins.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 2 * * 1
description = Gateway Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_gateway" Point_Name="Zone Temp*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup gatewayBucket.csv | fields Device] |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((Value != 0),(Value-78),(Value == 0),null()) | where Above > 0 |stats count(Above) AS Total_Above, avg(Above) AS Average_Above BY Device |eval Range="78"  |table Device, Total_Above, Average_Above, Range |sort -Average_Above, -Total_Above |head 10
disabled = 1

[Gateway - Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ $trigger_date$
action.email.to = Dedwards@cousins.com, egray@cousins.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 2 * * 1
description = Gateway weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="rules_cousins_gateway" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup gatewayBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10
disabled = 1

[Colorado Tower - Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = bbailey@cousins.com,bburke@cousins.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 9 * * 1
description = Colorado Tower weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="rules_cousins_coloradotower" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup coloradoBucket.csv | fields Device] |eval start = 7|eval end = 19| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10
disabled = 1

[Colorado Tower Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="*AHU*" Point_Name="DAT"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_coloradotower" Device="*AHU*" Point_Name="DAT_SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|where difference > 4\
|fields _time, Device, difference, deviceType

[Colorado Tower Rule - AHU Discharge Air Temperature Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="*AHU*" Point_Name="DAT"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_coloradotower" Device="*AHU*" Point_Name="DAT_SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|where difference > 7\
|fields _time, Device, difference, deviceType
disabled = 1

[Colorado Tower Rule - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="*AHU*" Point_Name="DAT"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_coloradotower" Device="*AHU*" Point_Name="DAT_SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|where difference > 7\
|fields _time, Device, difference, deviceType
disabled = 1

[Colorado Tower Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="*AHU*" Point_Name="DuctStatic" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_coloradotower" Device="*AHU*" Point_Name="Static_SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Pressure - Setpoint)\
|eval deviceType = "AHU"\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[Colorado Tower Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="*AHU*" Point_Name="DuctStatic" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_coloradotower" Device="*AHU*" Point_Name="Static_SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Setpoint - Pressure)\
|eval deviceType = "AHU"\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[Colorado Tower Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off (AHU Supply VFD Signal Maxed)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Point_Name="FanSpdCmd" Value>=100\
|eval Points="FanSpdCmd"\
|eval deviceType = "AHU"\
|table _time, Device, Value, Points, deviceType
disabled = 1

[Colorado Tower Rule - Cooling Towers Condenser Water Flow Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Point_Name="CwSupplyTmp" \
|bin span=15m _time\
|stats last(Value) as CWSTemp by Device, _time\
|appendcols [|search index="cousins_coloradotower" Point_Name="CwReturnTmp" |bin span=15m _time |stats last(Value) as CWRTemp by Device, _time]\
|eval difference = exact(CWRTemp - CWSTemp)\
|eval deviceType = "plant"\
|where difference < 8\
|fields _time, Device, difference, deviceType
disabled = 1

[Colorado Tower Rule - Cooling Towers Condenser Water Supply Temp Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If the cooling tower supply temperature is not within 2 of set point, condenser water temperature is not meeting set point.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Point_Name="CwSupplyTmp"\
|timechart span=15m last(Value) by Point_Name\
|join _time[|search index="cousins_coloradotower" Point_Name="pxCW_SP_Temp"\
|timechart span=15m avg(Value) by Point_Name]\
|timechart span=15m avg("CwSupplyTmp") as "CWS", avg(pxCW_SP_Temp) as "TSS"\
|eval diff = abs(CWS - TSS)|where diff > 3\
|eval Points="CwSupplyTmp,pxCW_SP_Temp" \
|eval Device="NdioBoard_*"\
|eval deviceType = "plant"
disabled = 1

[Colorado Tower Rule - Cooling Towers Cooling Tower Fan Failure]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Point_Name="CTSS1" \
|bin span=15m _time\
|stats last(Value) as FanOneStatus by Device, _time\
|appendcols [|search index="cousins_coloradotower" Point_Name="CTSS2" |bin span=15m _time |stats last(Value) as FanTwoStatus by Device, _time]\
|appendcols [|search index="cousins_coloradotower" Point_Name="CTSts1" |bin span=15m _time |stats last(Value) as FanOneCmd by Device, _time]\
|appendcols [|search index="cousins_coloradotower" Point_Name="CTSts2" |bin span=15m _time |stats last(Value) as FanTwoCmd by Device, _time]\
| where ((FanOneStatus != FanOneCmd) OR (FanTwoStatus != FanTwoCmd))\
|eval deviceType = "plant"\
|fields _time, Device, Status, Command, deviceType
disabled = 1

[Colorado Tower Rule - VAV Terminal Unit High Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="*FPB*" OR Device="*VAV*" Point_Name="ActFlow" OR Point_Name="ActFlowSP"\
|eval AirFlow=if(Point_Name="ActFlow",Value,null()) \
|eval Setpoint=if(Point_Name="ActFlowSP",Value,null())\
|bin span=15m _time\
|stats last(AirFlow) as AirFlow last(Setpoint) as Setpoint by Device, _time\
|eval difference = exact(1 - (Setpoint/AirFlow))\
|eval deviceType = "TU"\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[Colorado Tower Rule - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 1 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_coloradotower" Device="*FPB*" OR Device="*VAV*" Point_Name="ActFlow" OR Point_Name="ActFlowSP"\
|eval AirFlow=if(Point_Name="ActFlow",Value,null()) \
|eval Setpoint=if(Point_Name="ActFlowSP",Value,null())\
|bin span=15m _time\
|stats last(AirFlow) as AirFlow last(Setpoint) as Setpoint by Device, _time\
|eval difference = exact(1 - (AirFlow/Setpoint))\
|eval deviceType = "TU"\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[Terminus 100 Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
realtime_schedule = 0
search = index="cousins_terminus100" Point_Name="Supply Fan Status" Value>=1\
|eval Points="Supply Fan Status"\
|eval deviceType = "AHU"\
| table Device, Value, Points, deviceType

[Terminus 100 Rule - Cooling Towers Cooling Tower Fan Failure]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus100" Point_Name="Com Basin Temp"|timechart span=15m last(Value) by Point_Name|join _time[|search index="cousins_191peachtree" Point_Name="*M Tower Sp" OR Point_Name="CHWS"|timechart span=15m avg(Value) by Point_Name|rename "MM Tower Sp" as M|rename "SM Tower Sp" as S|rename "CHWS" as C|join _time[|search index="cousins_191peachtree" Point_Name="Tower Mode"|eval Value = substr(Value,0,1)|timechart span=15m Latest(Value) as Value]|eval Setpoint = case((Value="0"),C,(Value="1"),S,(Value="2"),M)]|timechart span=15m avg("Com Basin Temp") as "CWS", avg(Setpoint) as "TSS"|eval diff = abs(CWS - TSS)|where diff > 2|eval Points="Com Basin Temp,MM Tower Sp,SM Tower Sp,Tower Mode" | eval Device="CT_1" | eval deviceType = "plant"

[Terminus 100 Rule - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = statistics_cousins_terminus100
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus200" Device="*TU*" OR Device="*VAV*" Point_Name="PrimaryAirflowSetpoint" OR Point_Name="PrimaryAirflow" OR Point_Name="AirflowSp" OR Point_Name="Airflow"|chart limit=0 last(Value) over Device by Point_Name|eval difference = if(isnull(Airflow),(1 - (PrimaryAirflow/PrimaryAirflowSetpoint)),(1 - (Airflow/AirflowSp)))|where difference > .2|eval Points="PrimaryAirflowSetpoint,PrimaryAirflow,AirflowSp,Airflow" |eval deviceType = "TU"

[Terminus 200 Rule - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = statistics_cousins_terminus200
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus200" Device="*TU*" OR Device="*VAV*" Point_Name="PrimaryAirflowSetpoint" OR Point_Name="PrimaryAirflow" OR Point_Name="AirflowSp" OR Point_Name="Airflow"|chart limit=0 last(Value) over Device by Point_Name|eval difference = if(isnull(Airflow),(1 - (PrimaryAirflow/PrimaryAirflowSetpoint)),(1 - (Airflow/AirflowSp)))|where difference > .2|eval Points="PrimaryAirflowSetpoint,PrimaryAirflow,AirflowSp,Airflow" |eval deviceType = "TU"

[Colorado Tower - Connection Status]
action.email = 1
action.email.cc = bburke@cousins.com,bbailey@cousins.com
action.email.message.report = "Customer-SiteID: 0001-0003\
Location: 303 Colorado Street, Austin, TX 78701\
Scenario: Indexers have not received data from Cousins Colorado Tower within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not received any data from Colorado Tower in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert:  Colorado Tower - Connection Status - High - 0001-0003
action.email.to = eig@mckenneys.com, elijah.sullivan@mckenneys.com
action.summary_index._name = cousins_coloradotower
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */20 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = @h
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_coloradotower" sourcetype="cousins_coloradotower" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Colorado Tower has not received new data in 15 minutes")|where status = "Cousins Colorado Tower has not received new data in 15 minutes"|table _time, status

[Runtime Report Test]
action.email = 1
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = elijah.sullivan@mckenneys.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 02 10 * * *
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
quantity = 0
relation = less than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="cousins_northpark500" Device="V*" Point_Name="Flow_Setpt" value > 0 | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours | sort -runtimeHours

[Exceeded Daily Index Limit of 200MB]
action.email = 1
action.email.message.alert = Production Splunk Indexer 06 - COUSINS (191 PEACHTREE) has indexed more than 200MB today.
action.email.reportServerEnabled = 0
action.email.to = eig@mckenneys.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = verbose
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index=_internal source=*metrics.log splunk_server="*" group="per_index_thruput" | eval MB=kb/1024 | stats sum(MB) as Total by series | rename series as index | search index!=_* | sort Total | addcoltotals | fillnull value="[ Total Indexed Volume ] last 24 hours" index|tail 1| where Total > 1000 | eval Total=round(Total,1)

[Promenade 2 Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_promenade2" Device="*AHU*" Point_Name="SupAirTemp" OR Point_Name="ActiveSupTempSp"\
|eval Device=Floor." - ".Device\
|chart limit=0 last(Value) over Device by Point_Name\
|eval difference = exact(SupAirTemp-ActiveSupTempSp)\
|where difference > 2\
|eval Points="SupAirTemp,ActiveSupTempSp"\
|eval difference=round(difference,1)\
|eval SupAirTemp=round(SupAirTemp,1)\
|eval ActiveSupTempSp=round(ActiveSupTempSp,1)\
|eval deviceType = "AHU"

[Terminus 100 - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_terminus100
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus100" Device="SCU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol | head 25

[Terminus 100 - Top 25 TU/VAV Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_terminus100
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus100" Device="V-*" OR Device="P-*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) |sort -Vol| head 25

[Terminus 100 - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = cousins_terminus100
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus100" Point_Name="Zone Temp Composite"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol | head 25

[Terminus 200 - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_terminus200
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus200" Device="SCU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol | head 25

[Terminus 200 - Top 25 TU/VAV Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_terminus200
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus200" Device="V-*" OR Device="P-*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol| head 25

[Terminus 200 - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = cousins_terminus200
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_terminus200" Point_Name="Zone Temp Composite"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol | head 25

[NCR Plant Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = soshaughnessy@cousins.com, Mlopez@cousins.com, CLangley@cousins.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
disabled = 1
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
search = index="cousins_ncr" Device="CEP" OR Device="CH*" Point_Name="*_Status" Value = "true" | stats count by Point_Name NOT [|inputlookup NCRBucket.csv | fields Device] | eval runtimeHours = count/4  | table Point_Name, runtimeHours |eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Cousins Forwarder - Free Space]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.alert = Search name: $name$\
Search description: $description$\
Server name: $server.serverName$\
\
Description:\
The Cousins Forwarder has used more than 90% of its available storage capacity.
action.email.message.report = The Cousins architecture's forwarder has reached 85% capacity.
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com
alert.digest_mode = True
alert.suppress = 1
alert.suppress.period = 2d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 12 * * *
description = Alerts the user of high disk usage for the Forwarder
dispatch.earliest_time = -1d
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
schedule_window = 60
search = index="windows" Name="D:"\
| head 1\
| eval available = FreeSpaceKB / 1048576\
| eval capacity = TotalSpaceKB / 1048576\
| eval use_pct = floor((capacity - available) / capacity * 100 )\
| rename Name as mount_point, host as splunk_server\
| table splunk_server, capacity, available, use_pct, mount_point\
| where use_pct > 90

[Cousins Indexers - Free Space]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.alert = Search name: $name$\
Search description: $description$\
Server name: $server.serverName$\
\
Description:\
The Cousins search head has found indexers which have used more than 90% of their available storage capacity.
action.email.sendresults = 1
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.expires = 2d
alert.suppress = 1
alert.suppress.period = 2d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 12 * * *
description = Alerts the user of high disk usage for any indexer
dispatch.earliest_time = -1d
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
schedule_window = 60
search = | rest splunk_server=Production_Splunk_Indexer_*_-_COUSINS /services/server/status/partitions-space \
| eval available = if(isnotnull(available), available / 1024 , free / 1024) \
| eval capacity = capacity / 1024\
| eval use_pct = floor((capacity - available) / capacity * 100 )\
| sort splunk_server\
| table splunk_server, capacity, available, use_pct, mount_point\
| where use_pct > 90

[Cousins Search Head - Free Space]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.alert = Search name: $name$\
Search description: $description$\
Server name: $server.serverName$\
\
Description:\
The Cousins search head has used more than 90% of its available storage capacity.
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com
alert.digest_mode = True
alert.suppress = 1
alert.suppress.period = 2d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 12 * * *
description = Alerts the user of high disk usage for the search head
dispatch.earliest_time = -1d
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
schedule_window = 60
search = | rest splunk_server=local /services/server/status/partitions-space \
| eval available = if(isnotnull(available), available / 1024 , free / 1024) \
| eval capacity = capacity / 1024\
| eval use_pct = floor((capacity - available) / capacity * 100 )\
| sort splunk_server\
| table splunk_server, capacity, available, use_pct, mount_point\
| where use_pct > 90

[Cousins Weather API Error]
action.email = 1
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 1
alert.suppress.period = 1d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of sources
cron_schedule = */15 * * * *
description = Ensures the number of sources for weather data is appropriate
dispatch.earliest_time = -16m@m
dispatch.latest_time = now
enableSched = 1
quantity = 11
relation = less than
search = index=* Device="Weather"
disabled = 1

[NCR Rule - Cooling Towers Condenser Water Flow Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_ncr" Point_Name="cws temp" \
|bin span=15m _time\
|stats last(Value) as CWSTemp by Device, _time, Building\
|join _time [|search index="cousins_ncr" Point_Name="CwrTemp" |bin span=15m _time |stats last(Value) as CWRTemp by Device, _time, Building]\
|eval difference = exact(CWRTemp - CWSTemp)\
|where difference < 8\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[3344 - Top 25 AHU Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_3344peachtree" Device="SWUD*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Avg = round(Avg,1)| eval Dev=round(Dev,1)| eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Vol=round(Vol,1) | sort -Vol|head 25
disabled = 1

[3344 - Top 25 PIU/VAV Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_3344peachtree" Device="VAV*" OR Device="PIU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1) | sort -Vol| head 25
disabled = 1

[3344 - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_3344peachtree" Point_Name="SpaceTemp"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1) |sort -Vol| head 25
disabled = 1

[3344 - Volatility Calculation]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_3344peachtree"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1) | eval Max = round(Max,1) | eval Min=round(Min,1)
disabled = 1

[3350 - Top 25 AHU Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_3350peachtree" Device="AHU*" OR Device="SAC*" OR Device="AHA*"\
|where isnum(value)\
|stats min(value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)\
|sort -Vol|head 25
disabled = 1

[3350 - Top 25 PIU/VAV Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_3350peachtree" Device="V*" OR Device="P*"\
|where isnum(value)\
|stats min(value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)\
|sort -Vol\
|head 25
disabled = 1

[3350 - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_3350peachtree" (Point_Name="*Space_Temp*" OR Point_Name="*Zone_Temp*" NOT Point_Name="*Sp")\
|where isnum(value)\
|stats min(value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) \
|sort -Vol\
|head 25
disabled = 1

[3350 Rule - CHW Temp Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If chilled water supply temperature is higher than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" Device="CH_*" Point_Name="ENTERING CH LIQ TEMP" OR Point_Name="ENTERING CHW TEMP"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_3350peachtree" Device="CH_*" Point_Name="LEAVING CHW TEMP ACT SP" OR Point_Name="LEAVING CH LIQ TEMP ACT SP" |bin span=15m _time |stats last(value) as SetpointMech by Device, _time]\
|appendcols [|search index="cousins_3350peachtree" Device="Plant"  Point_Name="Eff_CW_Setpoint" |bin span=15m _time |stats last(value) as SetpointEcon by Device, _time]\
|appendcols [|search index="cousins_3350peachtree"  Device="Plant" Point_Name="Plant_Mode" |bin span=15m _time |stats last(value) as Economizer by Device, _time]\
|appendcols [|search index="cousins_3350peachtree"  Device="Plant" Point_Name="AHUCOUNT_PLANTENABLE" |bin span=15m _time |stats last(value) as Enable by Device, _time]\
|eval difference =case(Economizer="Econ",(CHWSTemp - SetpointEcon),Economizer="Mechanical",(CHWSTemp - SetpointMech))\
|eval difference = case(Enable="Enabled",(difference),Enable="Disabled",(0))\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, Economizer, SetpointEcon, SetpointMech, CHWSTemp, Enable

[3350 Rule - CHW Temp Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If chilled water supply temperature is lower than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" Device="CH_*" Point_Name="ENTERING CH LIQ TEMP" OR Point_Name="ENTERING CHW TEMP"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_3350peachtree" Device="CH_*" Point_Name="LEAVING CHW TEMP ACT SP" OR Point_Name="LEAVING CH LIQ TEMP ACT SP" |bin span=15m _time |stats last(value) as SetpointMech by Device, _time]\
|appendcols [|search index="cousins_3350peachtree" Device="Plant"  Point_Name="Eff_CW_Setpoint" |bin span=15m _time |stats last(value) as SetpointEcon by Device, _time]\
|appendcols [|search index="cousins_3350peachtree"  Device="Plant" Point_Name="Plant_Mode" |bin span=15m _time |stats last(value) as Economizer by Device, _time]\
|appendcols [|search index="cousins_3350peachtree"  Device="Plant" Point_Name="AHUCOUNT_PLANTENABLE" |bin span=15m _time |stats last(value) as Enable by Device, _time]\
|eval difference =case(Economizer="Econ",(SetpointEcon - CHWSTemp),Economizer="Mechanical",(SetpointMech - CHWSTemp))\
|eval difference = case(Enable="Enabled",(difference),Enable="Disabled",(0))\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, Economizer, SetpointEcon, SetpointMech, CHWSTemp, Enable

[3350 Rule - Chillers Low Chilled Water Temp Delta or Excess Flow for Load]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If the difference between chilled water return temperature and chilled water supply temperature is less than 5 for more than 30 minutes, chiller plant is over-cooling. (Low Chilled Water Temp Delta or Excess Flow for Load)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" Device="CH_*" Point_Name="ENTERING CH LIQ TEMP" OR Point_Name="ENTERING CHW TEMP"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_3350peachtree" Device="CH_*" Point_Name="LEAVING CHW TEMP ACT SP" OR Point_Name="LEAVING CH LIQ TEMP ACT SP" |bin span=15m _time |stats last(value) as CHWRTemp by Device, _time]\
|appendcols [|search index="cousins_3350peachtree"  Device="Plant" Point_Name="Plant_Mode" |bin span=15m _time |stats last(value) as Economizer by _time]\
|appendcols [|search index="cousins_3350peachtree"  Device="Plant" Point_Name="AHUCOUNT_PLANTENABLE" |bin span=15m _time |stats last(value) as Enable by _time]\
|eval difference = case(Economizer="Econ",(5),Economizer="Mechanical",(CHWRTemp - CHWSTemp))\
|eval difference = case(Enable="Enabled",(5),Enable="Disabled",(difference))\
|eval difference=round(difference,1)\
|where difference < 5\
|fields _time, Device, difference, CHWRTemp, CHWSTemp, Enable, Economizer

[3350 Rule - Terminal Unit High Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="P*_*" OR Device="V*") (Point_Name="DA_Flow")\
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|appendcols [|search index="cousins_3350peachtree" Device="P*_*" OR Device="V*" Point_Name="DA_Flow_Eff_Sp" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Setpoint/Airflow))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[3350 Rule - Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="P*_*" OR Device="V*") (Point_Name="DA_Flow")\
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|appendcols [|search index="cousins_3350peachtree" Device="P*_*" OR Device="V*" Point_Name="DA_Flow_Eff_Sp" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Airflow/Setpoint))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType, Setpoint, Airflow

[3350 Rule - Terminal Unit Reheat Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
action.summary_index._type = event
alert.track = 0
cron_schedule = 0 2 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="V*" OR Device="P*_*") (Point_Name="Htg_Output*")\
|bin _time span=15m\
|stats last(value) as Heat by Device, _time\
|appendcols [|search index="cousins_3350peachtree" Device="Plant" Point_Name="OA_Temp" |timechart span=15m last(value) as OutsideTemp]\
|where (Heat = "Heat Enabled" OR Heat = "ON") AND OutsideTemp > 70\
|fields _time, Device, Heat, OutsideTemp

[ACSC Rule - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_americancancersocietycenter" Device="*AHU*" Point_Name="SUP AIR TEMP"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_americancancersocietycenter" Device="*AHU*" Point_Name="SUPPLY SETPT" |bin span=15m _time |stats last(Value) as SupplyAirTempSetpoint by Device, _time ]\
|appendcols [|search index="cousins_americancancersocietycenter" Device="*AHU*" Point_Name="SUP STPT" |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = coalesce(ActiveSupTempSp, SupplyAirTempSetpoint)\
|eval difference = (Setpoint - SupplyTemp)\
|where difference > 2\
|fields _time, Device, difference

[ACSC Rule - AHU StaticPressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_americancancersocietycenter" Device="*VAV*" OR Device="*PIU*" OR Device="*TU*" Point_Name="DMPR POS"|bin span=15m _time|stats max(Value) as MaxDamper by Device, _time|where (MaxDamper < 80)|eval Points="DMPR POS"

[ACSC Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_americancancersocietycenter" Point_Name="PCT SPEED" Value>=100 | eval Points="PCT SPEED" | table _time, AdHoc_Name, Device, Value, Points

[ACSC Rule - Air Flow Sensor Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_americancancersocietycenter" Device="*VAV*" OR Device="*PIU*" Point_Name="AIR VOLUME"\
|bin span=15m _time\
|stats last(Value) as Volume by Device, _time\
|appendcols [|search index="cousins_americancancersocietycenter" Device="*VAV*" OR Device="*PIU*" Point_Name="DMPR POS" |bin span=15m _time |stats last(Value) as Damper by Device, _time ]\
|where (Damper > 80) AND (Volume< 100)\
|fields _time, Device, Volume, Damper

[ACSC Rule - Air Valve Actuator Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_americancancersocietycenter" Device="*VAV*" OR Device="*PIU*" Point_Name="AIR VOLUME"\
|bin span=15m _time\
|stats last(Value) as Volume by Device, _time\
|appendcols [|search index="cousins_americancancersocietycenter" Device="*VAV*" OR Device="*PIU*" Point_Name="DMPR POS" |bin span=15m _time |stats last(Value) as Damper by Device, _time ]\
|where (Damper < 5) AND (Volume< 100)\
|fields _time, Device, Volume, Damper

[ACSC Rule - OA Humidity Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_americancancersocietycenter" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" | table _time, Device, AdHoc_Name, Points, difference

[ACSC Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_americancancersocietycenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_americancancersocietycenter" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference

[Emory - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Device="*AHU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by AdHoc_Name, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg=round(Avg,1) | eval Dev=round(Dev,1) | eval Vol=round(Vol,1)| eval Min=round(Min,1) | eval Max=round(Max,1) | sort -Vol|head 25
disabled = 1

[Emory - Top 25 TU/VAV Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Device="*VAV*" OR Device="*PIU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by AdHoc_Name, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol| head 25
disabled = 1

[Emory - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Point_Name="ZN TEMP" OR Point_Name="ROOM TEMP"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by AdHoc_Name, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) |sort -Vol| head 25
disabled = 1

[Emory - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by AdHoc_Name, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)
disabled = 1

[Emory Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Device="*AHU*" Point_Name="DISCH TEMP"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_emory" Device="*AHU*" Point_Name="DISCH STPT" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[Emory Rule - AHU Discharge Air Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Device="*AHU*" Point_Name="DISCH TEMP"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_emory" Device="*AHU*" Point_Name="DISCH STPT" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[Emory Rule - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Device="*AHU*" Point_Name="DISCH TEMP"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_emory" Device="*AHU*" Point_Name="DISCH STPT" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[Emory Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = ndex="cousins_emory" Device="*AHU*" Point_Name="STATIC" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_emory" Device="*AHU*" Point_Name="STATIC.SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Emory Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = ndex="cousins_emory" Device="*AHU*" Point_Name="STATIC" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_emory" Device="*AHU*" Point_Name="STATIC.SP" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Emory Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Point_Name="PCT SPEED" Value>=100 | eval Points="PCT SPEED" |eval deviceType="AHU" | eval Value=round(Value,1) | table _time, AdHoc_Name, Device, Value, Points, deviceType

[Emory Rule - Air Flow Sensor Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Device="*VAV*" OR Device="*PIU*" Point_Name="AIR VOLUME"\
|bin span=15m _time\
|stats last(Value) as Volume by Device, _time\
|appendcols [|search index="cousins_emory" Device="*VAV*" OR Device="*PIU*" Point_Name="DMPR POS" |bin span=15m _time |stats last(Value) as Damper by Device, _time ]\
|where (Damper > 80) AND (Volume< 100)\
|eval deviceType = "TU"\
|eval Volume=round(Volume,1)\
|eval Damper=round(Damper,1)\
|fields _time, Device, Volume, Damper, deviceType

[Emory Rule - Air Valve Actuator Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_emory" Device="*VAV*" OR Device="*PIU*" Point_Name="AIR VOLUME"\
|bin span=15m _time\
|stats last(Value) as Volume by Device, _time\
|appendcols [|search index="cousins_emory" Device="*VAV*" OR Device="*PIU*" Point_Name="DMPR POS" |bin span=15m _time |stats last(Value) as Damper by Device, _time ]\
|where (Damper < 5) AND (Volume< 100)\
|eval deviceType = "TU"\
|eval Volume=round(Volume,1)\
|eval Damper=round(Damper,1)\
|fields _time, Device, Volume, Damper, deviceType

[Emory Rule - OA Humidity Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index=cousins_emory Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" | eval difference=round(difference,1) | table _time, Device, AdHoc_Name, Points, difference

[Emory Rule - OA Temperature Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_emory
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index=cousins_emory Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|eval difference=round(difference,1) | table _time, Device, Points, difference

[Fifth Third - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 6 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
schedule_window = auto
search = index="rules_cousins_fifththirdcenter"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup fifththirdcenter_rulesstatus.csv

[Fifth Third - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="AHU*" NOT Parent=*|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) | sort -Vol|head 25
disabled = 1

[Fifth Third - Top 25 PIU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="*PIU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) |sort -Vol| head 25
disabled = 1

[Fifth Third - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)
disabled = 1

[Fifth Third - top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Point_Name="ZoneTemp"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) |sort -Vol| head 25
disabled = 1

[Fifth Third Rule - Cooling Towers Cooling Fan Failure]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="CT_Cell_1" Point_Name="Cell1Enable" |eval _time=_time-7200 \
|bin _time span=15m |stats last(Value) as Fan1Command by _time |eval CT = "CT_Cell_1"\
|join _time [|search index="cousins_fifththirdcenter" Device="CT_Cell_1" Point_Name="Cell1Status" |eval _time=_time-7200|bin span=15m _time |stats last(Value) as Fan1Status by _time |eval CT = "CT_Cell_1"]\
|join _time [|search index="cousins_fifththirdcenter" Device="CT_Cell_2" Point_Name="Cell2Enable" |eval _time=_time-7200|bin span=15m _time |stats last(Value) as Fan2Command by _time |eval Tower = "CT_Cell_2"]\
|join _time [|search index="cousins_fifththirdcenter" Device="CT_Cell_2" Point_Name="Cell2Status"|eval _time=_time-7200 |bin span=15m _time |stats last(Value) as Fan2Status by _time |eval Tower = "CT_Cell_2"]\
|eval CT_1_Failure = (Fan1Status + Fan1Command)\
|eval CT_2_Failure = (Fan2Status + Fan2Command)\
|where (CT_1_Failure = 1) OR (CT_2_Failure = 1)\
|eval Device = case(CT_1_Failure==1, "CT_Cell_1", CT_2_Failure==1, "CT_Cell_2")\
|eval deviceType = "plant"\
|fields _time, Device, CT_1_Failure, CT_2_Failure, deviceType\
|eval CT_1_Failure=round(CT_1_Failure,1)\
|eval CT_2_Failure=round(CT_2_Failure,1)
disabled = 1

[Fifth Third Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|eval _time=_time-7200|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval difference=round(difference,1) | eval Points="Humidity,OAH"|eval Device = "OAH" | table _time, Device, AdHoc_Name, Points, difference
disabled = 1

[Fifth Third Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|eval _time=_time-7200|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval difference=round(difference,1)|eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference
disabled = 1

[Fifth Third Rule - Terminal Unit Reheat Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="PIU*" Point_Name="ElectricHeat" |eval _time=_time-7200\
|bin _time span=15m\
|stats last(Value) as Heat by Device, _time\
|join _time[|search index="cousins_fifththirdcenter" Device="Weather" Point_Name="Temperature"|eval _time=_time-7200 |timechart span=15m last(Value) as OutsideTemp by Device]\
|where Heat > 0 AND Weather > 70\
|eval deviceType = "TU"\
|fields _time, Device, Heat, Weather, deviceType
disabled = 1

[NASCAR - Rules Status Lookup]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="rules_cousins_nascar"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup nascarrulesstatus.csv
disabled = 1

[NASCAR - Top 25 AHU Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = 5
search = index="cousins_nascar" Device="SCU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol | head 25
disabled = 1

[NASCAR - Top 25 FPT/VAV Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = 5
search = index="cousins_nascar" Device="VAV*" OR Device="FPB*" OR Device="P-*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) |sort -Vol| head 25
disabled = 1

[NASCAR - Top 25 Plant Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = 5
search = index="cousins_nascar" Device="Plant" |where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol | head 25
disabled = 1

[NASCAR - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = 5
search = index="cousins_nascar" Point_Name="Space Temperature Active"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol | head 25
disabled = 1

[NASCAR Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType
disabled = 1

[NASCAR Rule - AHU Discharge Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType
disabled = 1

[NASCAR Rule - AHU Discharge Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU supply temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType
disabled = 1

[NASCAR Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Active"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[NASCAR Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Active"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[NASCAR Rule - AHU Supply VFD Signal Maxed]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Supply Fan Speed Status" Value>=100\
|eval Points="Supply Fan Speed Status"\
|eval deviceType = "AHU"\
| table _time, Device, Value, Points, deviceType
disabled = 1

[NASCAR Rule - Cooling Towers Condenser Water Flow Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Point_Name="CDW Supply TempFromTower"|timechart span=15m last(Value) as CWS\
|appendcols [|search index="cousins_nascar" Point_Name="CDW Return Temp-To Tower"|timechart span=15m last(Value) as CWR]\
|eval difference = exact(CWR - CWS)\
|eval deviceType = "plant"\
|where difference < 8\
|eval difference=round(difference,1)\
|eval CWS=round(CWS,1)\
|eval CWR=round(CWR,1)\
|eval Points="CWS,CWR"
disabled = 1

[NASCAR Rule - Terminal Unit Reheat Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="P-*"  OR Device="FPB*" OR Device="WSHP*" OR Device="P*" AND Point_Name="Heating Capacity*" \
|bin _time span=15m\
|stats last(Value) as Heat by Device, _time\
|join _time[|search index="cousins_nascar" Point_Name="Outside Air Temperature" |timechart span=15m last(Value) as OutsideTemp by Device]\
|where Heat > 0 AND Plant > 70\
|eval deviceType = "TU"\
|eval Plant=round(Plant,1)\
|fields _time, Device, Heat, Plant, deviceType
disabled = 1

[NASCAR Rule - VAV Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="P*" OR Device="V*" OR Device="FPB*" NOT Device="Plant" Point_Name="Discharge Air Flow"\
|bin span=15m _time\
|stats last(Value) as Airflow by Device, _time\
|join _time [|search index="cousins_nascar" Device="P*" OR Device="V*" OR Device="FPB*" NOT Device="Plant" Point_Name="Air Flow Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (1 - (Airflow/Setpoint))\
|eval deviceType = "TU"\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[NCR - Top 25 AHU Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="AHU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) | sort -Vol|head 25
disabled = 1

[NCR - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Point_Name="Space Temperature Active"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) |sort -Vol| head 25
disabled = 1

[NCR - Volatility Calculation]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr"|where isnum(Value)|eval Device=Device|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name, Building|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)

[NCR Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*AHU*" Point_Name="Discharge*Air*Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time, Building\
|join _time [|search index="cousins_ncr" Device="*AHU*" Point_Name="DAT*Setpoint*Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building ]\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[NCR Rule - AHU Discharge Air Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*AHU*" Point_Name="Discharge*Air*Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time, Building\
|join _time [|search index="cousins_ncr" Device="*AHU*" Point_Name="DAT*Setpoint*Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building ]\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[NCR Rule - AHU Discharge Air Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*AHU*" Point_Name="Discharge*Air*Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time, Building\
|join _time [|search index="cousins_ncr" Device="*AHU*" Point_Name="DAT*Setpoint*Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building ]\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[NCR Rule - AHU Fan Status]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Point_Name="Supply Fan Start Stop Cmd" \
|bin span=15m _time\
|stats last(Value) as Command by Device, _time, Building\
|join _time[|search index="cousins_ncr" Point_Name="Supply Fan Status" |bin span=15m _time |stats last(Value) as Status by Device, _time, Building]\
|where (Status != Command)\
index="cousins_ncr" Device="AHU*" Point_Name="RUN.STOP*" OR Point_Name="Supply*Fan*Cmd"\
|bin span=15m _time\
|stats last(Value) as Command by Device, _time, Building\
|appendcols [|search index="cousins_ncr" Device="AHU*" Point_Name="Supply*Fan*Status" |bin span=15m _time |stats last(Value) as Status by Device, _time, Building]\
|where (Status != Command)\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "AHU"\
|fields _time, Device, Status, Command, deviceType

[NCR Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*AHU*" Point_Name="Duct*Static*Pressure" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time, Building\
|appendcols [|search index="cousins_ncr" Device="*AHU*" Point_Name="Duct_Static_Stpt_Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building]\
|eval difference = exact(Pressure - Setpoint)\
|where difference > .2\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[NCR Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*AHU*" Point_Name="Duct*Static*Pressure" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time, Building\
|appendcols [|search index="cousins_ncr" Device="*AHU*" Point_Name="Duct_Static_Stpt_Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building]\
|eval difference = exact(Setpoint - Pressure)\
|where difference > .2\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[NCR Rule - AHU Supply VFD Signal Maxed]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Point_Name="Supply*Fan*Speed*Command" Value>=100\
|eval Points="Supply Fan Speed Command"\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "AHU"\
|eval Value=round(Value,1)\
|table _time, Device, Value, Points, deviceType

[NCR Rule - CHW Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If chilled water supply temperature is higher than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*CEP*" Point_Name="ChwsTemp"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time, Building\
|join _time [|search index="cousins_ncr" Device="*CEP*" Point_Name="MmChwReset ActiveSp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building]\
|eval difference = exact(CHWSTemp - Setpoint)\
|where difference > 2\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[NCR Rule - CHW Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If chilled water supply temperature is lower than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*CEP*" Point_Name="ChwsTemp"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time, Building\
|join _time [|search index="cousins_ncr" Device="*CEP*" Point_Name="MmChwReset ActiveSp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building]\
|eval difference = exact(Setpoint - CHWSTemp)\
|where difference > 1\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[NCR Rule - Chilled Water System Temp Not Tracking]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If common chilled water supply temperature is more than 1 above active set point for more than 30 minutes, chiller plant is not meeting set point (Common Chilled Water Temp Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*CEP*" Point_Name="ChwsTemp"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time, Building\
|join _time [|search index="cousins_ncr" Device="*CEP*" Point_Name="MmChwReset ActiveSp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building]\
|eval difference = exact(CHWSTemp - Setpoint)\
|where difference > 2\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[NCR Rule - Terminal Unit High Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*FPT*" OR Device="*VAV*" Point_Name="Discharge*Air*Flow" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time, Building\
|join _time [|search index="cousins_ncr" Device="*FPT*" OR Device="*VAV*"  Point_Name="Air*Flow*Setpoint*Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building]\
|eval difference = exact(1 - (Setpoint/AirFlow))\
|where difference > .2\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[NCR Rule - Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 3 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="*FPT*" OR Device="*VAV*" Point_Name="Discharge*Air*Flow" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time, Building\
|join _time [|search index="cousins_ncr" Device="*FPT*" OR Device="*VAV*"  Point_Name="Air*Flow*Setpoint*Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time, Building]\
|eval difference = exact(1 - (AirFlow/Setpoint))\
|where difference > .2\
|replace "North Tower" WITH "North" in Building\
|replace "South Tower" WITH "South" in Building\
|eval Device=Building." - ".Device\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[NCR VAV Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = soshaughnessy@cousins.com, Mlopez@cousins.com, CLangley@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" (Device="VAV*" NOT Device="*OA*") (Point_Name="Discharge Air Flow" OR Point_Name="Discharge_Air_Flow") Value > 100 NOT [|inputlookup NCRBucket.csv | fields Device] | stats count by Device, Building | eval runtimeHours = count/4  | table Device, Building, runtimeHours | sort -runtimeHours
disabled = 1

[Nascar - Volatility Calculation]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)

[Northpark 500 VAV Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark500"  Device="V*" Point_Name="*Flow" value > 0 | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours
disabled = 1

[Northpark 600 AHU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark600" (Device = "AHU*" OR Device ="SCU*") (Point_Name = "FAN_STATUS" OR Point_Name = "FAN_CMD") value = "ON" | eval Device_Point=Device."-".Point_Name| stats count by Device, Device_Point | eval runtimeHours = count/4 | search Device_Point="*STATUS" OR Device_Point ="SCU_1*"| table Device, Device_Point, runtimeHours | eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Northpark 600 OA Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark600" Device="*OA*" (Point_Name="ActFlow" OR Point_Name="OAF")  (value > 0 OR value="Running") | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Northpark 600 VAV Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark600" (Device="V*" NOT Device="VAVOA*") Point_Name="*Flow" value > 0  | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours
disabled = 1

[Promenade 2 - Energy Meter KWh]
action.summary_index = 1
action.summary_index._name = cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */15 * * * *
dispatch.earliest_time = -30m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2"  AdHoc_Name="SL - CH_1" Point_Name="Total Monthly KWh"|chart max(Value) as maxK, min(Value) as minK by Device| eval Usage = if(((maxK-minK)>0) AND ((maxK-minK)<4000),maxK - minK,minK) | eval Usage = if(Usage>4000,"",Usage) | rename Usage as Value | eval Address="1230 Peachtree Street NE, Atlanta, GA 30309" | eval Building="Promenade II" | eval City="Atlanta" | eval Country="US" | eval Customer="cousins" | eval Floor="SL" | eval Point_Name="Energy Meter KWh" | eval Region="SE" | eval Slot_Path="" | eval State="GA" | eval System="HVAC" | eval Zipcode="30309" | eval AdHoc_Name = Floor." - ".Device | eval index="cousins_promenade2" | table Address, Building, City, Country, Customer, Device, Floor, AdHoc_Name, Point_Name, Region, Slot_Path, State, System, Value, Zipcode, index
disabled = 1

[Promenade 2 - Outliers]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
schedule_window = auto
search = index="cousins_promenade2" Floor="FL*" Point_Name="ZoneTemp" OR Point_Name="Occupancy"|eval Name = Floor." ".Device | chart last(Value) values(Parent) values(Floor) as Floor values(Device) as Device over Name by Point_Name | eval Device='Device: ZoneTemp' | eval Floor='Floor: ZoneTemp' | eval Occupancy='last(Value): Occupancy' | eval ZoneTemp='last(Value): ZoneTemp'| eval Parent='values(Parent): ZoneTemp' | fields - "Floor: Occupancy" "Floor: ZoneTemp" "Device: Occupancy" "Device: ZoneTemp" "last(Value): Occupancy" "last(Value): ZoneTemp" "values(Parent): ZoneTemp" "values(Parent): Occupancy" | eval ZoneTemp=round(ZoneTemp,1)

[Promenade 2 - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 5 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
schedule_window = auto
search = index="rules_cousins_promenade2"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup promenaderulesstatus.csv

[Promenade 2 - Top 25 AHU Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="AHU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) |sort -Vol |head 25
disabled = 1

[Promenade 2 - Top 25 Thermostat Volatility]
action.summary_index = 1
action.summary_index._name = statistics_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="ZoneTemp"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) | sort -Vol |head 25
disabled = 1

[Promenade 2 - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)|sort -Vol
disabled = 1

[Promenade 2 Rule - AHU Discharge Air Temperature Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*AHU*" Point_Name="SupAirTemp"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_promenade2" Device="*AHU*" Point_Name="ActiveSupTempSp" |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = ActiveSupTempSp\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|where difference > 2\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[Promenade 2 Rule - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*AHU*" Point_Name="SupAirTemp" \
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_promenade2" Device="*AHU*" Point_Name="ActiveSupTempSp"  |bin span=15m _time |stats last(Value) as ActiveSupTempSp by Device, _time ]\
|eval Setpoint = ActiveSupTempSp\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|where difference > 2\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[Promenade 2 Rule - AHU Fan Status]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If the AHU fan is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, AHU fan is not working (AHU Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="FanCommand" Device="AHU*"\
|bin span=15m _time\
|stats last(Value) as Command by Device, _time\
|appendcols [|search index="cousins_promenade2" Point_Name="SupFanStatus" |bin span=15m _time |stats last(Value) as Status by Device, _time]\
|where (Status != Command)\
|eval deviceType = "AHU"\
|fields _time, Device, Status, Command, deviceType

[Promenade 2 Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*AHU*" Point_Name="SupDuctStatic" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_promenade2" Device="*AHU*" Point_Name="ActiveSupStaticSp"  |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Promenade 2 Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If more than two (2) terminal units in the zone are more than 90% open for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*AHU*" Point_Name="SupDuctStatic" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_promenade2" Device="*AHU*" Point_Name="ActiveSupStaticSp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Promenade 2 Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="FanSpeed" Value>=100 \
|eval Points="SupplyVFD_Command"\
|eval deviceType = "AHU"\
|eval Value=round(Value,1)\
|table _time, Device, Value, Points, deviceType

[Promenade 2 Rule - Chillers Chilled Water Temp Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If chilled water supply temperature is more than 1 above set point for more than 30 minutes, chiller plant is not meeting set point (Chilled Water Temp Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*BTU_1" Point_Name="CHWS"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_promenade2" Device="*CEP" Point_Name="MmChwReset ActiveSp" |bin span=15m _time |stats last(Value) as MSetpoint by Device, _time]\
|eval difference = (CHWSTemp - MSetpoint)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference > 1\
|fields _time, Device, difference, deviceType

[Promenade 2 Rule - Chillers Chilled Water Temp Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If chilled water supply temperature is more than 1 below set point for more than 30 minutes, chiller plant is not meeting set point (Chilled Water Temp Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*BTU_1" Point_Name="CHWS"\
|bin span=15m _time\
|stats last(Value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_promenade2" Device="*CEP" Point_Name="MmChwReset ActiveSp"  |bin span=15m _time |stats last(Value) as MSetpoint by Device, _time]\
|eval difference = (MSetpoint - CHWSTemp)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference > 1\
|fields _time, Device, difference, deviceType

[Promenade 2 Rule - Chillers High CHW Pump Flow]
action.summary_index = 1
action.summary_index._name = statistics_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="CWBypassValveCmd"\
|bin span=15m _time\
|stats last(Value) as CHWDP by Device, _time\
|where CHWDP > 5\
|eval deviceType = "plant"\
|fields _time, Device, difference, deviceType

[Promenade 2 Rule - Chillers High CHW Pump Speed]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If chilled water differential pressure is more than 20% above set point or CHW Bypass Valve Command > 70%] for more than 30 minutes, chilled water pump speed is too high (High CHW Pump Speed)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="SCHWDiffPressure" \
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_promenade2" Point_Name="SystemDpSp"  |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|appendcols [|search index="cousins_promenade2" Point_Name="SChWP1VFDCmd"  |bin span=15m _time |stats last(Value) as Spd1 by Device, _time]\
|appendcols [|search index="cousins_promenade2" Point_Name="SChWP2VFDCmd"  |bin span=15m _time |stats last(Value) as Spd2 by Device, _time]\
|appendcols [|search index="cousins_promenade2" Point_Name="SChWP3VFDCmd"  |bin span=15m _time |stats last(Value) as Spd3 by Device, _time]\
|eval difference = (Pressure/Setpoint)\
|where (difference > 1.2) OR (Spd1 > 70) OR (Spd2 > 70) OR (Spd3 > 70)\
|eval deviceType = "plant"\
|fields _time, Device, difference, Spd1, Spd2, Spd3, deviceType

[Promenade 2 Rule - Chillers Low Chilled Water Temp Delta or Excess Flow for Load]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If the difference between chilled water return temperature and chilled water supply temperature is less than 5 for more than 30 minutes, chiller plant is over-cooling. (Low Chilled Water Temp Delta or Excess Flow for Load)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="CHWS"\
|bin span=15m _time\
|stats last(Value) as CHWS by _time\
|appendcols [|search index="cousins_promenade2" Point_Name="CHWR" |bin span=15m _time |stats last(Value) as CHWR by _time ]\
|eval difference = (CHWR - CHWS)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference < 5\
|fields _time, difference, deviceType

[Promenade 2 Rule - Cooling Towers Condenser Water Flow Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="CWSTemp"\
|bin span=15m _time\
|stats last(Value) as CWS by _time\
|appendcols [|search index="cousins_promenade2" Point_Name="CWRTemp" |bin span=15m _time |stats last(Value) as CWR by _time ]\
|eval difference = (CWR - CWS)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference < 8\
|fields _time, difference, deviceType

[Promenade 2 Rule - Cooling Towers Condenser Water Supply Temp Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If the cooling tower supply temperature is not within 2 of set point, condenser water temperature is not meeting set point.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="CHWS"\
|eval Device=Floor." - ".Device\
|timechart span=15m last(Value) by Point_Name\
|join _time[\
|search index="cousins_promenade2" Point_Name="EmChwReset ActiveSp" OR Point_Name="MmChwReset ActiveSp"\
|timechart span=15m avg(Value) by Point_Name\
|rename "EmChwReset ActiveSp" as A\
|rename "MmChwReset ActiveSp" as S\
|join _time[\
|search index="cousins_promenade2" Point_Name="CEP Current Mode"\
|eval Value = substr(Value,0,1)\
|timechart span=15m Latest(Value) as Value]\
|eval Setpoint = case((Value="1"),A,(Value="2"),S)]\
|fields - A,- S,- Value|eval diff = abs(CHWS - Setpoint)\
|where diff > 2\
|eval Points="Com Basin Temp,MM Tower Sp,SM Tower Sp,Tower Mode" \
|eval Device="CT_1"\
|eval deviceType = "plant"

[Promenade 2 Rule - Cooling Towers Cooling Tower Fan Failure]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*CT*" Point_Name="*FanCmd" \
|bin span=15m _time\
|stats last(Value) as Command by Device, _time\
|appendcols [|search index="cousins_promenade2" Point_Name="Fan Status" |bin span=15m _time |stats last(Value) as Status by Device, _time]\
|where (Status != Command)\
|fields _time, Device, Status, Command

[Promenade 2 Rule - Mechanical Cooling While Economizing (Waterside)]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If chiller is operating while economizing is available (Mechanical Cooling While Economizing)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="EmChwReset ActiveSp"  OR Point_Name="HEX Approach"  OR Point_Name="Cooling Tower Approach"  OR Point_Name="Wet Bulb"  OR Point_Name="CEP Current Mode" \
|timechart span=15m last(Value) by Point_Name\
|timechart span=15m list("CEP Current Mode") as "Mode", list("EmChwReset ActiveSp") as "Setpoint", list("HEX Approach") as "hexApproach", list("Cooling Tower Approach") as "ctApproach", list("Wet Bulb") as "wetBulb"\
|eval diff = (hexApproach + ctApproach + wetBulb)\
|where diff < Setpoint AND Mode="0@promenadeCep:CurrentMode"\
|eval Points="Hex Approach,Cooling Tower Approach,Wet Bulb,EmChwReset ActiveSp, CEP Current Mode"\
|eval deviceType = plant

[Promenade 2 Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" | eval difference=round(difference,1) | table _time, Device, AdHoc_Name, Points, difference

[Promenade 2 Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|eval difference=round(difference,1) | table Device, Points, difference

[Promenade 2 Rule - Terminal Unit High Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*TU*" OR Device="*VAV*" Point_Name="Airflow" \
|bin span=15m _time\
|stats last(Value) as PrimaryAir by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="Airflow" |bin span=15m _time |stats last(Value) as Air by Device, _time]\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="AirflowSp" |bin span=15m _time |stats last(Value) as AirSp by Device, _time]\
|eval difference = (1 - (AirSp/Air))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Promenade 2 Rule - Terminal Unit Reheat Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="TU*" OR Device="*PIU*" Point_Name="AnalogHeatOutput" OR Point_Name="HeatingCommand"\
|bin _time span=15m\
|stats last(Value) as Heat by Device, _time\
|join _time[|search index="cousins_promenade2" Device="Weather" Point_Name="Temperature" |timechart span=15m last(Value) as OutsideTemp by Device]\
|where Heat > 0 AND Weather > 70\
|eval deviceType = "TU"\
|fields _time, Device, Heat, Weather, deviceType

[Promenade 2 Rule - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="*TU*" OR Device="*VAV*" Point_Name="Airflow" \
|bin span=15m _time\
|stats last(Value) as PrimaryAir by Device, _time\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="Airflow" |bin span=15m _time |stats last(Value) as Air by Device, _time]\
|appendcols [|search index="cousins_191peachtree" Device="*TU*" OR Device="*VAV*"  Point_Name="AirflowSp" |bin span=15m _time |stats last(Value) as AirSp by Device, _time]\
|eval difference = (1 - (Air/AirSp))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Terminus 100 - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 3 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
schedule_window = auto
search = index="rules_cousins_terminus100"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup terminus100rulesstatus.csv

[Terminus 100 - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)
disabled = 1

[Terminus 100 - Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 9 * * 1
description = Terminus 100 weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_terminus100" NOT [|inputlookup terminus100Bucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[Terminus 100 AHU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Device = "SCU*" Point_Name = "Supply Fan Status" Value = 1 | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours |eval runtimeHours=round(runtimeHours,1)| sort -runtimeHours

[Terminus 100 HP Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Device="*HP*" Point_Name="Supply Fan Status" Value > 0 | stats count by Device | eval runtimeHours = count/4  | table Device, runtimeHours |eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Terminus 100 OA Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Device="*OA*" Point_Name="Air Valve Flow" Value > 0 | stats count by Device | eval runtimeHours = count/4  | table Device, runtimeHours|eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Terminus 100 Plant Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" (Device="CT*" OR Device="CW System") Point_Name="*Actual Speed" Value > 0 | stats count by Point_Name | eval runtimeHours = count/8  | table Point_Name, runtimeHours|eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Terminus 100 Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If AHU supply air temperature is greater than 5 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="*SCU*" Point_Name="SA Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_terminus100" Device="*SCU*" Point_Name="SA Cooling Setpoint: Ref" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = (SupplyTemp - Setpoint)\
|where difference > 5\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|fields _time, Device, difference, deviceType

[Terminus 100 Rule - AHU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If discharge air temperature is lower than 5 below setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="*SCU*" Point_Name="SA Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_terminus100" Device="*SCU*" Point_Name="SA Cooling Setpoint: Ref" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = (Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType

[Terminus 100 Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval difference = round(difference,1) | eval Points="Humidity,OAH"|eval Device = "OAH" | table _time, Device, AdHoc_Name, Points, difference

[Terminus 100 Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval difference=round(difference,1) | eval Points="Temperature,OAT"|eval Device="Temperature"|table Device, Points, difference

[Terminus 100 Rule - SWUD Compressor Cycling]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
realtime_schedule = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Device="SCU*" Point_Name="Compressor*"\
| streamstats current=false last(Value) as last_value by Device, Point_Name\
| rename Value as current_value\
| eval delta = last_value - current_value\
|where delta != 0\
| table _time, Device, Point_Name, current_value, last_value, delta

[Terminus 100 Rule - SWUD Compressor Failed]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
realtime_schedule = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Device="SCU*" Point_Name="SA Temperature" OR Point_Name="Compressor*"\
| streamstats current=false last(Value) as last_value by Device, Point_Name\
| rename Value as current_value\
| eval delta = last_value - current_value\
|where current_value > 0 \
|where delta < 0 AND Point_Name="SA Temperature"\
| table _time, Device, Point_Name, current_value, last_value, delta

[Terminus 100 Rule - Terminal Unit Reheat Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If OAT is greater than 76 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="P-*" Point_Name="Heat Active"\
|bin span=15m _time\
|stats last(Value) as Heat by Device, _time\
|join _time[|search index="cousins_terminus100" Device="Weather" Point_Name="Temperature" |timechart span=15m last(Value) as OutsideTemp by Device]\
|rename "Weather" as OAT\
|where Heat > 0 AND OAT > 76\
|eval deviceType = "TU"\
|eval OAT=round(OAT,1)\
|fields _time, Device, Heat, OAT, deviceType

[Terminus 100 VAV Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" (Device="V*" NOT Device="*OA*") Point_Name="Air Valve Flow" Value > 0 | stats count by Device | eval runtimeHours = case(Device="V-14-11",count/8,1=1,count/4)  | table Device, runtimeHours |eval runtimeHours=round(runtimeHours,1) |  sort -runtimeHours
disabled = 1

[Terminus 200 - Outliers]
action.summary_index = 1
action.summary_index._name = outliers_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Floor="FL*" Point_Name="ZoneTemp" OR Point_Name="Occupancy"|eval Name = Floor." ".Device | chart last(Value) values(Parent) values(Floor) as Floor values(Device) as Device over Name by Point_Name | eval Device='Device: ZoneTemp' | eval Floor='Floor: ZoneTemp' | eval Occupancy='last(Value): Occupancy' | eval ZoneTemp='last(Value): ZoneTemp'| eval Parent='values(Parent): ZoneTemp' | fields - "Floor: Occupancy" "Floor: ZoneTemp" "Device: Occupancy" "Device: ZoneTemp" "last(Value): Occupancy" "last(Value): ZoneTemp" "values(Parent): ZoneTemp" "values(Parent): Occupancy"
disabled = 1

[Terminus 200 - Rules Status Lookup]
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 4 */1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
schedule_window = auto
search = index="rules_cousins_terminus200"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup terminus200rulesstatus.csv

[Terminus 200 - Volatility Calculation]
action.summary_index = 1
action.summary_index._name = statistics_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)
disabled = 1

[Terminus 200 HP Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = smays@cousins.com, Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" Device="WSHP*" Point_Name="Supply Fan Status" Value > 0 | stats count by Device | eval runtimeHours = count/4  | table Device, runtimeHours|eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours
disabled = 1

[Terminus 200 OA Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = smays@cousins.com, Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" Device="*OA*" Point_Name="Air Valve Flow" Value > 0 | stats count by Device | eval runtimeHours = count/4  | table Device, runtimeHours|eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours
disabled = 1

[Terminus 200 PIU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = smays@cousins.com, Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" Device="P*"  Point_Name="Air Valve Flow" Value > 0 | stats count by Device | eval runtimeHours = count/4  | table Device, runtimeHours|eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours
disabled = 1

[Terminus 200 Plant Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = smays@cousins.com, Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" (Device="CT*" OR Device="*CdwSystem") (Point_Name="*STS" OR Point_Name = "*Status") Value > 0 | stats count by Point_Name | eval runtimeHours = count/4  | table Point_Name, runtimeHours|eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours
disabled = 1

[Terminus 200 Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Point_Name="Supply Fan Status" Value>=100\
|eval Points="Supply Fan Status"\
|eval deviceType = "AHU"\
|table _time, Device, Value, Points, deviceType
disabled = 1

[Terminus 200 Rule - Air Valve Actuator Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If damper position feedback is less than 5% and CFM is greater than 100, unit has air valve actuator issue.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Point_Name="Air Valve Flow" \
|regex Device="(V|P)-\d{2}-\d{2}.*" \
|bin span=15m _time\
|stats last(Value) as AirFlow by Device, _time\
|appendcols [|search index="cousins_terminus200" Point_Name="Air Valve Position"| regex Device="(V|P)-\d{2}-\d{2}.*"  |bin span=15m _time |stats last(Value) as ValvePosition by Device, _time]\
|where ValvePosition < 5 AND AirFlow > 100\
|eval deviceType = "TU"\
|eval AirFlow=round(AirFlow,1)\
|fields _time, Device, AirFlow, ValvePosition, deviceType
disabled = 1

[Terminus 200 Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="OAH" OR Device="Weather" Point_Name="Humidity" OR Point_Name="OAH"|timechart span=30m last(Value) by Point_Name|eval Humidity = Humidity*100|eval difference = abs(OAH - Humidity)|where difference > 10|eval Points="Humidity,OAH"|eval Device = "OAH" |eval difference=round(difference,1) | table _time, Device, AdHoc_Name, Points, difference

[Terminus 200 Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="OAT" OR Device="Weather" Point_Name="Temperature" OR Point_Name="OAT"|timechart span=30m last(Value) by Point_Name|eval difference = abs(OAT - Temperature)|where difference > 10|eval Points="Temperature,OAT"|eval Device="Temperature"|eval difference=round(difference,1) | table Device, Points, difference

[Terminus 200 Rule - Terminal Unit Reheat Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If OAT is greater than 76 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Device="P-*" Point_Name="Heat Active"\
|bin span=15m _time\
|stats last(Value) as Heat by Device, _time\
|join _time[|search index="cousins_terminus200" Point_Name="OUT_AIR_TEMP" |timechart span=15m last(Value) as OutsideTemp by Device]\
|rename "Bldg CdwSystem" as OAT\
|where Heat > 0 AND OAT > 76\
|eval Heat=round(Heat,1)\
|eval OAT=round(OAT,1)\
|eval deviceType = "TU"\
|fields _time, Device, Heat, OAT, deviceType
disabled = 1

[Terminus 200 VAV Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = smays@cousins.com, Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" (Device="V*" NOT Device="*OA*") Point_Name="Air Valve Flow" Value > 0 | stats count by Device | eval runtimeHours = count/4  | table Device, runtimeHours|eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours
disabled = 1

[_ScheduledView__portfolio_home]
action.email = 1
action.email.maxtime = 60m
action.email.message.view = A PDF was generated for $name$
action.email.paperorientation = landscape
action.email.papersize = letter
action.email.pdfview = portfolio_home
action.email.reportServerEnabled = 0
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.view = Splunk Dashboard: '$name$'
action.email.to = ericgray@cousinsproperties.com
action.email.ttl = 10
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 4 * * 3
description = scheduled search for view name=portfolio_home
dispatch.earliest_time = 1
dispatch.latest_time = 2
enableSched = 1
is_visible = 0
schedule_window = auto
search = | noop

[northpark500 - Device Bucket Report]
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Current '$name$' has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Current $name$  $trigger_date$
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 10 1 * *
description = Previous week Northpark 500 Point Bucket Report
enableSched = 1
schedule_window = auto
search = |inputlookup northpark500Bucket.csv | table Device, Notes, User|sort Device

[northpark500 - Top 25 PIU/VAV Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" Device="V*" OR Device="P*"\
|where isnum(value)\
|stats min(Value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)\
|sort -Vol\
|head 25
disabled = 1

[northpark500 - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Point_Name="*SpaceTemp*" OR Point_Name="*ZoneTemp*")\
|where isnum(value)\
|stats min(value) as Min, max(Value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) \
|sort -Vol\
|head 25
disabled = 1

[northpark500 - Volatility Calculation]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500"|where isnum(value)|stats min(value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)

[northpark500 - Weekly Broken Rule Report]
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ $trigger_date$
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week Northpark 500 weekly top 10 rules broken by the same device report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_northpark500" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup northpark500Bucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[northpark600 - Customer Comfort Above Range]
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week Northpark 600 Devices Above Comfort Range Report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_northpark600" Point_Name="SpaceTemp" NOT Point_Name="*SpaceTempAlarmDeadband" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup northpark600Bucket.csv| fields Device]\
|eval start = 8\
|eval end = 17 \
|where date_hour >= start AND date_hour < end \
|eval Device=Floor." - ".Device \
|bin _time span=15m \
|dedup _time, Device \
|table _time, Device, value \
|eval Above = case((value != 0),(value-78),(value == 0),null()) \
|where Above > 0\
|stats count(Above) AS Total_Above, avg(Above) AS Average_Above BY Device \
|eval Range="78" \
|table Device, Total_Above, Average_Above, Range \
|eval Average_Above=round(Average_Above,1) | sort -Average_Above, -Total_Above |head 10

[northpark600 - Device Bucket Report]
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Current '$name$' has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Current $name$  $trigger_date$
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 10 1 * *
description = Previous week Northpark 600 Point Bucket Report
enableSched = 1
schedule_window = auto
search = |inputlookup northpark600Bucket.csv | table Device, Notes, User|sort Device

[northpark600 - Top 25 PIU/VAV Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" Device="V*" OR Device="P*"\
|where isnum(value)\
|stats min(Value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) \
|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)\
|sort -Vol\
|head 25
disabled = 1

[northpark600 - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" Point_Name="SpaceTemp"\
|where isnum(value)\
|stats min(value) as Min, max(Value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) \
|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)\
|sort -Vol\
|head 25
disabled = 1

[northpark600 - Volatility Calculation]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600"\
|where isnum(value)\
|stats min(value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)

[northpark600 - Weekly Broken Rule Report]
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ $trigger_date$
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week Northpark 600 weekly top 10 rules broken by the same device report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_northpark600" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup northpark600Bucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[northpark500 Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="SAT"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|join _time [|search index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="SA_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[northpark500 Rule - AHU Discharge Air Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Device="AHU*" OR Device="SAC*" OR Device="AHA*") Point_Name="SAT"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_northpark500" (Device="AHU*" OR Device="SAC*" OR Device="AHA*") Point_Name="SA_SP" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Device, _time ]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = (SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[northpark500 Rule - AHU Discharge Air Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="SAT"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="SA_SP" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Device, _time]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = (Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[northpark500 Rule - AHU Fan Status]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If the AHU fan is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, AHU fan is not working (AHU Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="FAN_CMD" \
|bin span=15m _time\
|stats last(value) as Command by Device, _time\
|appendcols [|search index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="FAN_STATUS" |bin span=15m _time |stats last(value) as Status by Device, _time]\
|where (Status != Command)\
|eval deviceType = "AHU"\
|fields _time, Device, Status, Command, deviceType

[northpark500 Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="SAP" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="SA_Static_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference

[northpark500 Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="SAP" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_northpark500" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="SA_Static_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference

[northpark500 Rule - CHW Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If chilled water supply temperature is higher than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" Device="Plant" Point_Name="CHWS_Temp"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="Chilled_Water_Setpt" |bin span=15m _time |stats last(value) as SetpointMech by Device, _time]\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="TwrSP_Econ" |bin span=15m _time |stats last(value) as SetpointEcon by Device, _time]\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="Plant_Economizer" |bin span=15m _time |stats last(value) as Economizer by Device, _time]\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="Plant_Enable" |bin span=15m _time |stats last(value) as Enable by Device, _time]\
|eval difference =case(Economizer="ON",(CHWSTemp - SetpointEcon),Economizer="OFF",(CHWSTemp - SetpointMech))\
|eval difference = case(Enable="Occ",(difference),Enable="Unocc",(0))\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, Economizer, SetpointEcon, SetpointMech, CHWSTemp, Enable

[northpark500 Rule - CHW Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If chilled water supply temperature is lower than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" Device="Plant" Point_Name="CHWS_Temp"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="Chilled_Water_Setpt" |bin span=15m _time |stats last(value) as SetpointMech by Device, _time]\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="TwrSP_Econ" |bin span=15m _time |stats last(value) as SetpointEcon by Device, _time]\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="Plant_Economizer" |bin span=15m _time |stats last(value) as Economizer by Device, _time]\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="Plant_Enable" |bin span=15m _time |stats last(value) as Enable by Device, _time]\
|eval difference =case(Economizer="ON",(SetpointEcon - CHWSTemp),Economizer="OFF",(SetpointMech - CHWSTemp))\
|eval difference = case(Enable="Occ",(difference),Enable="Unocc",(0))\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, Economizer, SetpointEcon, SetpointMech, CHWSTemp, Enable

[northpark500 Rule - Chillers High CHW Pump Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If chilled water differential pressure is more than 20% above set point or CHW Bypass Valve is open for more than 30 minutes, chilled water pump flow is too high (High CHW Pump Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" Device="Plant" Point_Name="SecCHW_DP"\
|bin span=15m _time\
|stats last(value) as DiffPress by Device, _time\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="Chws_DP_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = (DiffPress / Setpoint)\
|eval difference=round(difference,1)\
|where difference > 1.2\
|fields _time, Device, difference, DiffPress, Setpoint

[northpark500 Rule - Chillers Low Chilled Water Temp Delta or Excess Flow for Load]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If the difference between chilled water return temperature and chilled water supply temperature is less than 5 for more than 30 minutes, chiller plant is over-cooling. (Low Chilled Water Temp Delta or Excess Flow for Load)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" Device="Plant" Point_Name="CHWS_Temp"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="CHWR_TEMP" |bin span=15m _time |stats last(value) as CHWRTemp by Device, _time]\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name= "Plant_Economizer" |bin span=15m _time |stats last(value) as Economizer by _time]\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="Plant_Enable" |bin span=15m _time |stats last(value) as Enable by _time]\
|eval difference = case(Economizer="ON",(5),Economizer="OFF",(CHWRTemp - CHWSTemp))\
|eval difference = case(Enable="Unocc",(5),Enable="Occ",(difference))\
|eval difference=round(difference,1)\
|where difference < 5\
|fields _time, Device, difference, CHWRTemp, CHWSTemp, Enable, Economizer

[northpark500 Rule - Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Device="P*_*" OR Device="V*") (Point_Name="Flow" OR Point_Name="BoxFlow")\
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|appendcols [|search index="cousins_northpark500" Device="P*_*" OR Device="V*" Point_Name="Flow_Setpt" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Airflow/Setpoint))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType, Setpoint, Airflow

[northpark500 Rule - Terminal Unit Reheat Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" (Device="V*" OR Device="P*_*") (Point_Name="HeatEnableCmd" OR Point_Name="Heating")\
|bin _time span=15m\
|stats last(value) as Heat by Device, _time\
|appendcols [|search index="cousins_northpark500" Device="Plant" Point_Name="OAT" |timechart span=15m last(value) as OutsideTemp]\
|where (Heat = "Heat Enabled" OR Heat = "ON") AND OutsideTemp > 70\
|fields _time, Device, Heat, OutsideTemp

[northpark600 Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SAT"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SA_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[northpark600 Rule - AHU Discharge Air Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SAT"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SA_SP" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Device, _time ]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = (SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[northpark600 Rule - AHU Discharge Air Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SAT"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SA_SP" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Device, _time]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = (Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[northpark600 Rule - AHU Fan Status]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If the AHU fan is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, AHU fan is not working (AHU Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="FAN_CMD" \
|bin span=15m _time\
|stats last(value) as Command by Device, _time\
|appendcols [|search index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="FAN_STATUS" |bin span=15m _time |stats last(value) as Status by Device, _time]\
|where (Status != Command)\
|eval deviceType = "AHU"\
|fields _time, Device, Status, Command, deviceType

[northpark600 Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SAP" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SA_Static_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[northpark600 Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SAP" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_northpark600" (Device="AHU*" OR Device="SCU*") Point_Name="SA_Static_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[northpark600 Rule - CHW Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If chilled water supply temperature is higher than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" Device="Plant" Point_Name="ComCHWS_Temp"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name="Chilled_Water_Setpt" |bin span=15m _time |stats last(value) as SetpointMech by Device, _time]\
|appendcols [|search index="cousins_northpark600" Device="Cooling_Towers" Point_Name="nviCWSSetpoint" |bin span=15m _time |stats last(value) as SetpointEcon by Device, _time]\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name="Economizer_Command_DV3" |bin span=15m _time |stats last(value) as Economizer by Device, _time]\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name="PlantEnable" |bin span=15m _time |stats last(value) as Enable by Device, _time]\
|eval difference =case(Economizer="Economizer",(CHWSTemp - SetpointEcon),Economizer="Mechanical",(CHWSTemp - SetpointMech))\
|eval difference = case(Enable="true",(difference),Enable="false",(0))\
|eval deviceType = "Plant"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, Economizer, SetpointEcon, SetpointMech, CHWSTemp, Enable, deviceType

[northpark600 Rule - CHW Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If chilled water supply temperature is lower than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" Device="Plant" Point_Name="ComCHWS_Temp"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name="Chilled_Water_Setpt" |bin span=15m _time |stats last(value) as SetpointMech by Device, _time]\
|appendcols [|search index="cousins_northpark600" Device="Cooling_Towers" Point_Name="nviCWSSetpoint" |bin span=15m _time |stats last(value) as SetpointEcon by Device, _time]\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name="Economizer_Command_DV3" |bin span=15m _time |stats last(value) as Economizer by Device, _time]\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name="PlantEnable" |bin span=15m _time |stats last(value) as Enable by Device, _time]\
|eval difference =case(Economizer="Economizer",(SetpointEcon - CHWSTemp),Economizer="Mechanical",(SetpointMech - CHWSTemp))\
|eval difference = case(Enable="true",(difference),Enable="false",(0))\
|eval deviceType = "Plant"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, Economizer, SetpointEcon, SetpointMech, CHWSTemp, Enable, deviceType

[northpark600 Rule - Chillers Low Chilled Water Temp Delta or Excess Flow for Load]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If the difference between chilled water return temperature and chilled water supply temperature is less than 5 for more than 30 minutes, chiller plant is over-cooling. (Low Chilled Water Temp Delta or Excess Flow for Load)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" Device="Plant" Point_Name="ComCHWS_Temp"\
|bin span=15m _time\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name="ComCHWR_Temp" |bin span=15m _time |stats last(value) as CHWRTemp by Device, _time]\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name= "Economizer_Command_DV3" |bin span=15m _time |stats last(value) as Economizer by _time]\
|appendcols [|search index="cousins_northpark600" Device="Plant" Point_Name="PlantEnable" |bin span=15m _time |stats last(value) as Enable by _time]\
|eval difference = case(Economizer="Economizer",(5),Economizer="Mechanical",(CHWRTemp - CHWSTemp))\
|eval difference = case(Enable="false",(5),Enable="true",(difference))\
|eval deviceType = "Plant"\
|where difference < 5\
|fields _time, Device, difference, CHWRTemp, CHWSTemp, Enable, Economizer, deviceType

[northpark600 Rule - Terminal Unit High Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" Device="P*_*" OR Device="V*" Point_Name="ActFlow" \
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|appendcols [|search index="cousins_northpark600" Device="P*_*" OR Device="V*" Point_Name="ActFlowSP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Setpoint/Airflow))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[northpark600 Rule - Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" Device="P*_*" OR Device="V*" Point_Name="ActFlow" \
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|appendcols [|search index="cousins_northpark600" Device="P*_*" OR Device="V*" Point_Name="ActFlowSP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Airflow/Setpoint))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType, Setpoint, Airflow

[NCR - Top 25 FPT/VAV Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_ncr
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_ncr" Device="VAV*" OR Device="FPT*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) |sort -Vol| head 25
disabled = 1

[Promenade 2 - Top 25 TU/VAV Volatiltiy]
action.summary_index = 1
action.summary_index._name = statistics_cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Device="VAV*" OR Device="TU*"|where isnum(Value)|stats min(Value) as Min, max(Value) as Max, avg(Value) as Avg, stdev(Value) as Dev by Floor,System, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) | sort -Vol| head 25
disabled = 1

[Promenade 2 - Chilled Water Delta Temperature]
action.summary_index = 1
action.summary_index._name = cousins_promenade2
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 5 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_promenade2" Point_Name="BldgChWRTemp" OR Point_Name="BldgChWSTemp"|chart max(Value) over Device by Point_Name|eval Value = (BldgChWRTemp - BldgChWSTemp) | eval Address="1230 Peachtree Street NE, Atlanta, GA 30309" | eval Building="Promenade 2" | eval City="Atlanta" | eval Country="US" | eval Customer="cousins" |eval Point_Name="Delta" | eval Floor="SL"|eval Region="SE" | eval Slot_Path="" | eval State="GA" | eval System="PLANT" | eval Zipcode="30309" | eval index="cousins_promenade2" | table Address, Building, City, Country, Customer, Device, Floor, Point_Name, Region, Slot_Path, State, System, Value, Zipcode, index

[northpark600 - Top 25 AHU Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_northpark600
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" Device="AHU_*" OR Device="SCU_*"\
|where isnum(value)\
|stats min(value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)\
|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1) \
|sort -Vol|head 25
disabled = 1

[northpark500 - Top 25 AHU Volatility]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 30 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark500" Device="AHU*" OR Device="SAC*" OR Device="AHA*"\
|where isnum(value)\
|stats min(value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|eval Vol=if(Avg==0, 0, (Dev/Avg)*100) |eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)\
|sort -Vol|head 25
disabled = 1

[Promenade VAV Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, egray@cousins.com, sjefferson@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
disabled = 1
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_promenade2" Device="V*" Point_Name="Airflow" Value > 100 | stats count by Device, Floor | eval runtimeHours = case(count>672, 168, count<672, count/4) | table Device, Floor, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Terminus 100 - Connection Status]
action.email = 1
action.email.message.report = "Customer-SiteID: 0001-0003\
Location: 303 Colorado Street, Austin, TX 78701\
Scenario: Indexers have not received data from Cousins Colorado Tower within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not received any data from Colorado Tower in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.to = timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com,\
meghan.murphy@mckenneys.com
action.summary_index._name = cousins_coloradotower
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_terminus100" NOT Device="Weather" AND NOT "Forecast"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Terminus 100 has not received new data in 15 minutes")|where status = "Cousins Terminus 100 has not received new data in 15 minutes"|table _time, status

[promenade_comfort_daily_avg]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_promenade2
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 35 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="statistics_cousins_promenade2" |timechart span=1d avg(ComfortScoreAvg) AS ComfortDailyAvg

[promenade_comfortScore]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_promenade2
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
realtime_schedule = 0
request.ui_dispatch_view = search
search = index="cousins_promenade2" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="EffectiveSetpoint" | bin _time span=15m  |stats count(Device) as totalDevices, last(Value) as Setpoint by _time, Device |appendcols [|search index="cousins_promenade2" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="ZoneTemp"|  bin _time span=15m |stats last(Value) as Temp by _time, Device]|eval Difference=abs(Setpoint-Temp)  |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0)

[promenade_comfortscore_average]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_promenade2
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_promenade2" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="EffectiveSetpoint" | bin _time span=15m  |stats count(Device) as totalDevices, last(Value) as Setpoint by _time, Device |appendcols [|search index="cousins_promenade2" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="ZoneTemp"|  bin _time span=15m |stats last(Value) as Temp by _time, Device]|eval Difference=abs(Setpoint-Temp)  |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0) |timechart cont=false span=1h avg(ComfortScore) as ComfortScoreAvg | eval ComfortScoreAvg=round(ComfortScoreAvg,1)

[nascar_comfort_daily_avg]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_nascar
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 14 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="statistics_cousins_nascar" |timechart span=1d avg(ComfortScoreAvg) AS ComfortDailyAvg

[nascar_comfortScore]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_nascar
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 21 14 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_nascar" Device="P-*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Space Temperature Setpoint Active" earliest=-1h latest=@m |stats count(Device) as totalDevices, last(Value) as Setpoint by _time, Device |appendcols [|search index="cousins_nascar" Device="P-*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Space Temperature Active"earliest=-1h latest=@m |stats last(Value) as Temp by _time, Device]|eval Difference=abs(Setpoint-Temp)  |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,2) |timechart cont=false span=15m last(ComfortScore) as ComfortScore

[nascar_comfortscore_average]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_nascar
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 14 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_nascar" Device="P-*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Space Temperature Setpoint Active" | bin _time span=15m  |stats count(Device) as totalDevices, last(Value) as Setpoint by _time, Device |appendcols [|search index="cousins_nascar" Device="P-*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Space Temperature Active"|  bin _time span=15m |stats last(Value) as Temp by _time, Device]|eval Difference=abs(Setpoint-Temp)  |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0) |timechart cont=false span=1h avg(ComfortScore) as ComfortScoreAvg | eval ComfortScoreAvg=round(ComfortScoreAvg,1)

[Promenade - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -15m
dispatch.latest_time = now
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_promenade2" Point_Name = "ZoneTemp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_promenade2" Point_Name = "ZoneTemp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_promenade2"

[Emory - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_emory" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_emory" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_emory"

[Emory - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -15m
dispatch.latest_time = now
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_emory" Point_Name = "ROOM TEMP" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_emory" Point_Name = "ROOM TEMP" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_emory"

[NASCAR - Top 25 Plant Volatility - New]
action.email.useNSSubject = 1
action.summary_index._name = statistics_cousins_nascar
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = 5
search = index="cousins_nascar" Device="Plant" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|join Slot_Path, Point_Name, Device [|search index="cousins_nascar" Device="Plant" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_nascar"
disabled = 1

[Northpark600 - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark600" Point_Name = "SpaceTemp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_northpark600" Point_Name = "SpaceTemp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_northpark600"

[3350 Peachtree Efficiency - AHU Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="rules_cousins_3350peachtree" deviceType="AHU" NOT [|inputlookup 3350peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count|eval metric = (((count * 3.75) / (18*18*.825))*100) |eval AHUMet = .35*metric| appendpipe [| stats count as AHUMet | where AHUMet=0| eval deviceType = "AHU"] | table AHUMet, count

[3350 Peachtree Efficiency - Plant Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="rules_cousins_3350peachtree" deviceType="plant" NOT [|inputlookup 3350peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count by source|eval metric = ((count / 18)*100) |eval plantMet = case(count <= 3, .5*4.5*metric,count>3,100) | appendpipe [| stats count as plantMet | where plantMet=0| eval deviceType = "plant"] | table plantMet

[3350 Peachtree Efficiency - TU Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="rules_cousins_3350peachtree" deviceType="TU" NOT [|inputlookup 3350peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count|eval metric = ((count / (3*18*516))*100) |eval TUMet = .15*metric*2| appendpipe [| stats count as TUMet | where TUMet=0| eval deviceType = "TU"] | table TUMet

[Emory - Weekly Broken Rule report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com, \
chamlett@cousins.com,\
gzamoragarcia@cousins.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mlopez@cousins.com, lpalmer@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Emory weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_emory" NOT [|inputlookup emoryBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[3344 - Connection Restores]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 3344 Peachtree Road NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 3344 Server in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection with 3344 Server. Cousins will not see new data from this Server's points and data recovery may not be possible depending on the health of the Server.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_3344peachtree" |head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 15,"Connection restored", "Connection not working")|where status = "Connection restored"|table _time, status

[3350_comfortScore]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_3350peachtree" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Zone_Temp_Eff_Sp" | bin _time span=15m  |stats count(Device) as totalDevices, last(value) as Setpoint by _time, Device |appendcols [|search index="cousins_3350peachtree" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Zone_Temp"|  bin _time span=15m |stats last(value) as Temp by _time, Device]|eval Difference=abs(Setpoint-Temp)  |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0)

[3350_comfort_daily_avg]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 35 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="statistics_cousins_3350peachtree" |timechart span=1d avg(ComfortScoreAvg) AS ComfortDailyAvg

[Nascar - Top 25 SCU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" NOT Point_Name="Duct Static Pressure Setpoint Active" NOT Point_Name="Discharge Air Temperature Setpoint Active" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_nascar" Device="SCU*" NOT Point_Name="Duct Static Pressure Setpoint Active" NOT Point_Name="Discharge Air Temperature Setpoint Active" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_nascar"

[Promenade - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_promenade2" Device="VAV*" OR Device="PIU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_promenade2" Device="VAV*" OR Device="PIU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_promenade2"
workload_pool = undefined

[Northpark600 - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark600"  Device="P*" OR Device="V*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_northpark600"  Device="P*" OR Device="V*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_northpark600"
workload_pool = undefined

[Northpark600 - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark600" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_northpark600" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_northpark600"

[Emory - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_emory" Device="VAV*" OR Device="PIU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*"  NOT Point_Name="*STPT*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_emory" Device="VAV*" OR Device="PIU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*"  NOT Point_Name="*STPT*"  earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_emory"
workload_pool = undefined

[ncr - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 3 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Building, Floor, Device, Point_Name\
|join Building, Floor, Device, Point_Name, _time [|search index="cousins_ncr" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Building, Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Building, Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_ncr"

[ncr - Top 25 FPT/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 3 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" Device="VAV*" OR Device="FPT*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Building, Floor, Device, Point_Name\
|join Building, Floor, Device, Point_Name, _time [|search index="cousins_ncr" Device="VAV*" OR Device="FPT*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Building, Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Building, Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_ncr"
workload_pool = undefined

[ncr - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 3 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" Point_Name = "Space Temperature Local" OR Point_Name = "Space_Temperature_Local" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Building, Floor, Device, Point_Name\
|join Building, Floor, Device, Point_Name, _time [|search index="cousins_ncr" Point_Name = "Space Temperature Local" OR Point_Name = "Space_Temperature_Local" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Building, Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Building, Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_ncr"

[3350 - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3350peachtree" Device="AHU*" OR Device="SAC*" OR Device="AHA*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_3350peachtree" Device="AHU*" OR Device="SAC*" OR Device="AHA*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_3350peachtree"

[3350 - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3350peachtree" Device="V*" OR Device="P*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_3350peachtree" Device="V*" OR Device="P*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_3350peachtree"
workload_pool = undefined

[3350 - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3350peachtree" Point_Name="*Space_Temp*" OR Point_Name="*Zone_Temp*" NOT Point_Name="*Sp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_3350peachtree" Point_Name="*Space_Temp*" OR Point_Name="*Zone_Temp*" NOT Point_Name="*Sp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_3350peachtree"

[3350 - Volatility Calculation]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="cousins_3350peachtree"|where isnum(value)|stats min(value) as Min, max(value) as Max, avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name|eval Vol=if(Avg==0, 0, (Dev/Avg)*100)|eval Avg = round(Avg,1) | eval Dev = round(Dev,1) | eval Vol = round(Vol,1)|eval Max=round(Max,1) | eval Min=round(Min,1)

[Emory - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mlopez@cousins.com, lpalmer@cousins.com, gzamoragarcia@cousins.com,\
chamlett@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Emory Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index=cousins_emory Point_Name="ROOM TEMP" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup emoryBucket.csv | fields Device] |eval date_hour = strftime(_time,"%H") |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((Value != 0),(Value-78),(Value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Value_Above = round(Value_Above,1) | sort -Value_Above |head 10

[Terminus 100 - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 9 * * 1
description = Terminus 100 Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_terminus100" Point_Name="Zone Temp*" NOT Device="*TE*" AND NOT Device="*OA*" AND NOT Device="*PR*" AND NOT Device="*OSA*" AND NOT Device="*SCU*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup terminus100Bucket.csv | fields Device\
| fields Device] |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((Value != 0),(Value-76),(Value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Value_Above=round(Value_Above,1) | sort -Value_Above |head 10

[northpark500 - Customer Comfort Above Range]
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week Northpark 500 Devices Above Comfort Range Report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_northpark500" Point_Name="*SpaceTemp*" NOT Point_Name="*SpaceTempAlarmDeadband" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup northpark500Bucket.csv | fields Device] |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, value |eval Above = case((value != 0),(value-78),(value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Range="78"  |table Device, Number_Of_Times_Above, Value_Above, Range |eval Value_Above=round(Value_Above,1) | sort -Value_Above, -Number_Of_Times_Above |head 10

[Emory - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mlopez@cousins.com, lpalmer@cousins.com, \
chamlett@cousins.com,\
gzamoragarcia@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = Emory Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index=cousins_emory Point_Name="ROOM TEMP" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup emoryBucket.csv | fields Device] |eval date_hour = strftime(_time,"%H")  |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Value_Below=round(Value_Below,1) | sort -Value_Below |head 10

[Terminus 100 - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com,  josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced below 68 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 55 9 * * 1
description = Terminus 100 Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_terminus100" Point_Name="Zone Temp*" NOT Device="*TE*" AND NOT Device="*OA*" AND NOT Device="*PR*" AND NOT Device="*OSA*" AND NOT Device="*SCU*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup terminus100Bucket.csv | fields Device]\
 |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Value_Below=round(Value_Below,1) | sort -Value_Below |head 10

[northpark500 - Customer Comfort Below Range]
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = Previous week Northpark 500 Devices Below Comfort Range report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_northpark500" Point_Name="*SpaceTemp*" NOT Point_Name="*SpaceTempAlarmDeadband" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup northpark500Bucket.csv | fields Device]\
|eval start = 8\
|eval end = 17\
|where date_hour >= start AND date_hour < end\
|eval Device=Floor." - ".Device\
|bin _time span=15m\
|dedup _time, Device |table _time, Device, value\
|eval Below = case((value != 0),(68-value),(value == 0),null())\
|where Below > 0\
|stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device\
|eval Range="68"\
|table Device, Number_Of_Times_Below, Value_Below, Range \
|eval Value_Below=round(Value_Below,1) |sort -Value_Below, -Number_Of_Times_Below |head 10

[northpark600 - Customer Comfort Below Range]
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = Previous week Northpark 600 Devices Below Comfort Range report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_northpark600" Point_Name="*SpaceTemp*" NOT Point_Name="*SpaceTempAlarmDeadband" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup northpark600Bucket.csv | fields Device]\
|eval start = 8\
|eval end = 17\
|where date_hour >= start AND date_hour < end\
|eval Device=Floor." - ".Device\
|bin _time span=15m\
|dedup _time, Device |table _time, Device, value\
|eval Below = case((value != 0),(68-value),(value == 0),null())\
|where Below > 0\
|stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device\
|eval Range="68"\
|table Device, Number_Of_Times_Below, Value_Below, Range \
|eval Value_Below=round(Value_Below,1) |sort -Value_Below, -Number_Of_Times_Below |head 10

[NASCAR - Connection Status]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.message.alert = Customer-SiteID: 0001-0007\
Location: 550  South Caldwell St. Charlotte, NC 28202\
Scenario: Indexers have not received data from Cousins NASCAR within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not received any data from NASCAR in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: https://cousins.mckenneys-analytics.com
action.email.to = Dedwards@cousins.com, jedwards@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_nascar" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time\
|eval now = now()\
|eval difference = (now - _time)/60\
|eval status = if(difference <= 60,"Connection working", "Cousins NASCAR has not received new data in 20 minutes")\
|where status = "Cousins NASCAR has not received new data in 20 minutes"\
|table _time, status

[northpark600 Rule - Terminal Unit Reheat Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_northpark500
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_northpark600" (Device="V*" OR Device="P*_*") (Point_Name="HeatEnableCmd" OR Point_Name="Heating")\
|bin _time span=15m\
|stats last(value) as Heat by Device, _time\
|join _time [|search index="cousins_northpark500" Device="Plant" Point_Name="OAT" |timechart span=15m last(value) as OutsideTemp]\
|where (Heat = "Heat Enabled" OR Heat = "ON") AND OutsideTemp > 70\
|fields _time, Device, Heat, OutsideTemp

[3350 Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Floor, Device, _time\
|join _time [|search index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as Setpoint by Floor, Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference, deviceType

[3350 Rule - AHU Discharge Air Temp Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="AHU*" OR Device="SAC*" OR Device="AHA*") Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Floor, Device, _time\
|appendcols [|search index="cousins_3350peachtree" (Device="AHU*" OR Device="SAC*" OR Device="AHA*") Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Floor, Device, _time ]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = (SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference, deviceType

[3350 Rule - AHU Discharge Air Temp Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Floor, Device, _time\
|appendcols [|search index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Floor, Device, _time]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = (Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference, deviceType

[3350 Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*") Point_Name="Static_Press*" \
|bin span=15m _time\
|stats last(value) as Pressure by Floor, Device, _time\
|appendcols [|search index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*") Point_Name="DA_Static_Sp" |bin span=15m _time |stats last(value) as Setpoint by Floor, Device, _time]\
|eval difference = (Pressure - Setpoint)\
|eval difference=round(difference,1)\
|where difference > .2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference

[3350 Rule - AHU Fan Status]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If the AHU fan is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, AHU fan is not working (AHU Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="DA_Fan_Cmd" \
|bin span=15m _time\
|stats last(value) as Command by Floor, Device, _time\
|appendcols [|search index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*" OR Device="SAC*") Point_Name="DA_Fan_Sts" |bin span=15m _time |stats last(value) as Status by Floor, Device, _time]\
|eval Command=case(Command="Stop", "Stopped", Command="Start", "Running")\
|where (Status != Command)\
|eval deviceType = "AHU"\
| eval Device=Floor." - ".Device \
|fields _time, Device, Status, Command, deviceType

[3350 Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3350peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*") Point_Name="Static_Press*" \
|bin span=15m _time\
|stats last(value) as Pressure by Floor, Device, _time\
|appendcols [|search index="cousins_3350peachtree" (Device="AHU*" OR Device="AHA*") Point_Name="DA_Static_Sp" |bin span=15m _time |stats last(value) as Setpoint by Floor, Device, _time]\
|eval difference = (Setpoint - Pressure)\
|eval difference=round(difference,1)\
|where difference > .2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference

[3350_comfortscore_average]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_3350peachtree
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 9 * * *
enableSched = 1
realtime_schedule = 0
search = index="cousins_3350peachtree" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Zone_Temp_Eff_Sp" | bin _time span=15m  |stats count(Device) as totalDevices, last(value) as Setpoint by _time, Device |appendcols [|search index="cousins_3350peachtree" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Zone_Temp"|  bin _time span=15m |stats last(value) as Temp by _time, Device]|eval Difference=abs(Setpoint-Temp)  |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0) |timechart cont=false span=1h avg(ComfortScore) as ComfortScoreAvg | eval ComfortScoreAvg=round(ComfortScoreAvg,1)

[Emory - Connection Status]
action.email = 1
action.email.cc = mlopez@cousins.com, \
chamlett@cousins.com,\
asimien@cousins.com
action.email.message.alert = "Customer-SiteID: 0001-0008\
Location: 550 Peachtree Street, Atlanta, GA 30308\
Scenario: Indexers have not received data from Cousins Emory MOT within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not reveived any data from Emory MOT in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Emory MOT- Connection Status - High - 0001-0008
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */30 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_emory" sourcetype="cousins_emory" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Emory MOT has not received new data in 30 minutes")|where status = "Cousins Emory MOT has not received new data in 30 minutes"|table _time, status

[northpark500 - Connection Status]
action.email = 1
action.email.cc = rmurphy@cousins.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 1000 Abernathy Road NE, Atlanta, GA 30328\
Scenario: The cousins architecture has not received data from North Park 500 Server in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection with North Park 500 Server. Cousins will not see new data from this Server's points and data recovery may not be possible depending on the health of the Server.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 1
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_northpark500" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[northpark600 - Connection Status]
action.email = 1
action.email.cc = rmurphy@cousins.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 1000 Abernathy Road NE, Atlanta, GA 30328\
Scenario: The cousins architecture has not received data from North Park 600 Server in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection with North Park 600 Server. Cousins will not see new data from this Server's points and data recovery may not be possible depending on the health of the Server.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 1
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_northpark600" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[Fifth Third Center - Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ $trigger_date$
action.email.to = rleverman@cousins.com, rcope@cousins.com, tjohnson@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 9 * * 1
description = Fifth Third weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_fifththirdcenter" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup fifththirdBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[NASCAR - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rcope@cousins.com,\
jedwards@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = NASCAR Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_nascar" Point_Name="Space Temperature Active*" NOT Device="*TE*" AND NOT Device="*OA*" AND NOT Device="*PR*" AND NOT Device="*OSA*" AND NOT Device="*SCU*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup nascarBucket.csv | fields Device] |eval date_hour = strftime(_time,"%H") |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((Value != 0),(Value-76),(Value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Value_Above=round(Value_Above,1) |sort -Value_Above |head 10
disabled = 1

[NASCAR -  Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rcope@cousins.com, jedwards@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = NASCAR weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_nascar" NOT [|inputlookup nascarBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10
disabled = 1

[NASCAR - Customer Comfort Below Range]
action.email = 1
action.email.cc = josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced below 68 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = timothy.cooper@mckenneys.com, rcope@cousins.com, jedwards@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = NASCAR Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_nascar" Point_Name="Space Temperature Active*" NOT Device="*TE*" AND NOT Device="*OA*" AND NOT Device="*PR*" AND NOT Device="*OSA*" AND NOT Device="*SCU*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup nascarBucket.csv | fields Device] |eval date_hour = strftime(_time,"%H") |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Value_Below=round(Value_Below,1) | sort -Value_Below |head 10
disabled = 1

[550 South - Rules Status Lookup]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="rules_cousins_nascar"|eval start = 5|eval end = 19|where date_hour > start AND date_hour < end| transaction source Device maxpause=15m|where (duration/60) > 30|stats count|outputlookup nascarrulesstatus.csv

[550 South Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType
disabled = 1

[550 South Rule - AHU Discharge Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType
disabled = 1

[550 South Rule - AHU Discharge Temperature Too Low Clone]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU supply temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType
disabled = 1

[550 South Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Active"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[550 South Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Active"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType
disabled = 1

[550 South Rule - AHU Supply VFD Signal Maxed]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Supply Fan Speed Status" Value>=100\
|eval Points="Supply Fan Speed Status"\
|eval deviceType = "AHU"\
| table _time, Device, Value, Points, deviceType
disabled = 1

[550 South Rule - Cooling Towers Condenser Water Flow Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Point_Name="CDW Supply TempFromTower"|timechart span=15m last(Value) as CWS\
|appendcols [|search index="cousins_nascar" Point_Name="CDW Return Temp-To Tower"|timechart span=15m last(Value) as CWR]\
|eval difference = exact(CWR - CWS)\
|eval deviceType = "plant"\
|where difference < 8\
|eval difference=round(difference,1)\
|eval CWS=round(CWS,1)\
|eval CWR=round(CWR,1)\
|eval Points="CWS,CWR"

[550 South Rule - Terminal Unit Reheat Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="P-*"  OR Device="FPB*" OR Device="WSHP*" OR Device="P*" AND Point_Name="Heating Capacity*" \
|bin _time span=15m\
|stats last(Value) as Heat by Device, _time\
|join _time[|search index="cousins_nascar" Point_Name="Outside Air Temperature" |timechart span=15m last(Value) as OutsideTemp by Device]\
|where Heat > 0 AND Plant > 70\
|eval deviceType = "TU"\
|eval Plant=round(Plant,1)\
|fields _time, Device, Heat, Plant, deviceType

[550 South Rule - VAV Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="P*" OR Device="V*" OR Device="FPB*" NOT Device="Plant" Point_Name="Discharge Air Flow"\
|bin span=15m _time\
|stats last(Value) as Airflow by Device, _time\
|join _time [|search index="cousins_nascar" Device="P*" OR Device="V*" OR Device="FPB*" NOT Device="Plant" Point_Name="Air Flow Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = (1 - (Airflow/Setpoint))\
|eval deviceType = "TU"\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Meridian Mark Plaza Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If more than two (2) terminal units in the zone are more than 90% open for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="Duct Static Pressure Active"\
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="Duct Static Pressure Setpoint Active" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]|eval difference = exact(Setpoint - Pressure)\
|where difference > .2\
|fields _time, Device, difference

[Meridian Mark Plaza Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="Duct Static Pressure Active"\
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="Duct Static Pressure Setpoint Active" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]|eval difference = exact(Pressure - Setpoint)\
|where difference > .2\
| eval deviceType="AHU"\
|fields _time, Device, difference, deviceType

[Meridian Mark Plaza Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Point_Name="Supply Fan Speed Status" value>=1|eval Points="Supply Fan Speed Status"\
|eval deviceType="AHU" | table Device, Value, Points, deviceType
disabled = 1

[meridian_comfortScore]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
action.summary_index._type = event
alert.track = 0
cron_schedule = 50 10 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="P*" OR Device="V*" NOT Device="*OA*" Point_Name="Space Temperature Setpoint Active" | bin _time span=15m  |stats count(Device) as totalDevices, last(value) as Setpoint by _time, Device |appendcols [|search index="cousins_meridianmarkplaza" Device="P*" OR Device="V*" NOT Device="*OA*" Point_Name="Space Temperature Active"|  bin _time span=15m |stats last(value) as Temp by _time, Device]|eval Difference=abs(Setpoint-Temp)  |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0)\
|timechart cont=false span=15m last(ComfortScore) as ComfortScore

[meridian_comfort_daily_avg]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
action.summary_index._type = event
alert.track = 0
cron_schedule = 0 11 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
enableSched = 1
realtime_schedule = 0
search = index="statistics_cousins_meridianmarkplaza" |timechart span=1d avg(ComfortScoreAvg) AS ComfortDailyAvg

[meridian_comfortscore_avg]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
action.summary_index._type = event
alert.track = 0
cron_schedule = 55 10 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="*" OR Device="V*" NOT Device="*OA*" Point_Name="Space Temperature Setpoint Active" | bin _time span=15m  |stats count(Device) as totalDevices, last(value) as Setpoint by _time, Device |appendcols [|search index="cousins_meridianmarkplaza" Device="P*" OR Device="V*" NOT Device="*OA*" Point_Name="Space Temperature Active"|  bin _time span=15m |stats last(value) as Temp by _time, Device]|eval Difference=abs(Setpoint-Temp)  |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0) |timechart cont=false span=1h avg(ComfortScore) as ComfortScoreAvg | eval ComfortScoreAvg=round(ComfortScoreAvg,1)

[Meridian Efficiency - Plant Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="rules_cousins_meridianmarkplaza" deviceType="plant" NOT [|inputlookup 3344peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count by source|eval metric = ((count / 18)*100) |eval plantMet = case(count <= 3, .5*4.5*metric,count>3,100) | appendpipe [| stats count as plantMet | where plantMet=0| eval deviceType = "plant"] | table plantMet

[Meridian Efficiency - TU Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="rules_cousins_meridianmarkplaza" deviceType="TU" NOT [|inputlookup 3344peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count|eval metric = ((count / (3*18*516))*100) |eval TUMet = .15*metric*2| appendpipe [| stats count as TUMet | where TUMet=0| eval deviceType = "TU"] | table TUMet

[Meridian Mark Plaza Rule - Cooling Towers Condenser Water Flow Too High]
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Point_Name="Condenser Water Supply Temperature" OR Point_Name="Condenser Water Return Temperature"|chart last(value) over Device by Point_Name|rename "Condenser Water Return Temperature" AS CWR \
| rename "Condenser Water Supply Temperature" AS CWS\
| eval deviceType="plant"\
| eval difference = exact(CWR - CWS)|where difference < 8|eval Points="CWS,CWR"

[Meridian Mark Plaza Rule - Cooling Towers Cooling Fan Failure]
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Point_Name="Tower Fan 1 Start Stop" OR Point_Name="Tower Fan 1 Status" value="true" Point_Name="Tower Fan 2 Start Stop" OR Point_Name="Tower Fan 2 Status" value="true"|chart limit=0 last(value) over Device by Point_Name|rename "Tower Fan 1 Status" as "FanStatus1"|rename "Tower Fan 1 Start Stop" as "FanCmd1" |rename "Tower Fan 2 Status" as "FanStatus2"|rename "Tower Fan 2 Start Stop" as "FanCmd2"|where (FanStatus2 != FanCmd2)\
| eval deviceType="plant"|eval Points="Fan Cmd,Fan Status"

[Meridian Mark Plaza Rule - OA Humidity Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="Plant" OR Device="Weather" Point_Name="Humidity" OR Point_Name="Facility Outdoor Air Humidity"\
|timechart span=30m last(value) by Point_Name\
|eval Humidity = Humidity*100\
| rename "Facility Outdoor Air Humidity" as OAH\
|eval difference = abs(OAH - Humidity)\
|where difference > 10\
|eval Points="Humidity,OAH"\
|eval Device = "OAH" \
| table _time, Device, AdHoc_Name, Points, difference

[Meridian Mark Plaza Rule - OA Temperature Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="Plant" OR Device="Weather" Point_Name="Temperature" OR Point_Name="Facility Outdoor Air Temperature"\
|timechart span=30m last(value) by Point_Name\
| rename "Facility Outdoor Air Temperature" as OAT\
|eval difference = abs(OAT - Temperature)\
|where difference > 10\
|eval Points="Temperature,OAT"\
|eval Device="Temperature"\
|table Device, Points, difference

[Meridian Mark Plaza Rule - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
disabled = 1
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="P*" OR Device="V*" Point_Name="Discharge Air Flow" \
|bin span=15m _time\
|stats last(value) as Air by Device, _time\
|appendcols [|search index="cousins_meridianmarkplaza" Device="P*" OR Device="V*"  Point_Name="Air Flow Setpoint Maximum" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Air/Setpoint))\
|where difference > .2\
| table Device\
| dedup Device

[Meridian Mark Plaza Rule - Terminal Unit Reheat Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="P*" Point_Name="Heat Cool Mode Status"\
|bin span=15m _time\
| where value=Heat\
|stats last(value) as Heat by Device, _time\
|join _time[|search index="cousins_meridianmarkplaza" Device="Plant" Point_Name="Facility Outdoor Air Temperature" |timechart span=15m last(value) as OutsideTemp by Device]\
|rename "Plant" as OAT\
|where Heat > 0 AND OAT > 70\
| eval deviceType="TU"\
|fields _time, Device, Heat, OAT

[Meridian Efficiency - AHU Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_meridianmarkplaza
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 45 3 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="rules_cousins_meridianmarkplaza" deviceType="AHU" NOT [|inputlookup 3344peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count|eval metric = (((count * 3.75) / (18*18*.825))*100) |eval AHUMet = .35*metric| appendpipe [| stats count as AHUMet | where AHUMet=0| eval deviceType = "AHU"] | table AHUMet, count

[Meridian Mark Plaza - Weekly broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com, adam.bostwick@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Current $name$  $trigger_date$
action.email.to = Mlopez@cousins.com,\
jingram@cousins.com,\
gholloway@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * 1
description = Meridian Mark Plaza weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="rules_cousins_meridianmarkplaza" NOT [|inputlookup meridianBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[Fifth Third Rule - Cooling Towers Condenser Water Supply Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If the cooling tower supply temperature is not within 2 of set point, condenser water temperature is not meeting set point.
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Point_Name="*CdwEntTmp" |eval _time=_time-7200| timechart span=15m last(value) as CWS\
|join _time[|search index="cousins_fifththirdcenter" Point_Name="CdwSetpt"|eval _time=_time-7200| timechart span=15m avg(value) as CWS_SP]\
|eval diff = exact(abs(CWS-CWS_SP))\
|eval diff=round(diff,1)\
|where diff > 2\
|eval Device="CdwSystem"\
|eval deviceType = "plant"
disabled = 1

[Nascar - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_nascar" Device="VAV*" OR Device="P-*" NOT Device="*OA*" NOT Point_Name="Space Temperature Setpoint Active" NOT Point_Name="Air Flow Setpoint Active" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_nascar" Device="VAV*" OR Device="P-*" NOT Device="*OA*" NOT Point_Name="Space Temperature Setpoint Active" NOT Point_Name="Air Flow Setpoint Active" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where Avg >= WeekMin AND Avg <= WeekMax\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_nascar"
workload_pool = undefined

[Nascar - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_nascar" Point_Name = "Space Temperature Active" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_nascar" Point_Name = "Space Temperature Active" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|where Avg >= WeekMin AND Avg <= WeekMax\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_nascar"

[550 South Rule - SCU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType

[550 South Rule - SCU Discharge Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType

[550 South Rule - SCU Discharge Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU supply temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(Value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType

[550 South Rule - SCU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Active"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[550 South Rule - SCU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If zero (0) terminal units in zone are more than 80% open for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Active"\
|bin span=15m _time\
|stats last(Value) as Pressure by Device, _time\
|appendcols [|search index="cousins_nascar" Device="SCU*" Point_Name="Duct Static Pressure Setpoint Active" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time]\
|eval difference = exact(Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[550 South Rule - SCU Supply VFD Signal Maxed]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_nascar
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 3 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_nascar" Device="SCU*" Point_Name="Supply Fan Speed Status" Value>=100\
|eval Points="Supply Fan Speed Status"\
|eval deviceType = "AHU"\
| table _time, Device, Value, Points, deviceType

[Promenade - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_promenade2" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats avg(Value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_promenade2" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(Value)\
|stats min(Value) as WeekMin, max(Value) as WeekMax, avg(Value) as WeekAvg, stdev(Value) as WeekDev by Floor, Device, Point_Name]\
|where WeekMin <= Avg AND Avg <= WeekMax\
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_promenade2"

[Terminus200 - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 5 * * *
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" Device="*SCU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_terminus200" Device="*SCU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_terminus200"

[Terminus200 - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" Device="V*" OR Device="P*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" NOT Device="Plant" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_terminus200" Device="V*" OR Device="P*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_terminus200"
workload_pool = undefined

[Terminus200 - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" Point_Name = "Zone_Temp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_terminus200" Point_Name = "Zone_Temp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_terminus200"

[Terminus 200 Rule - Cooling Towers Condenser Water Flow Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Point_Name="CWS_Temp" Device="Plant"\
|bin span=15m _time\
|stats last(value) as CWSTemp by Device, _time\
|appendcols [|search index="cousins_terminus200" Point_Name="CWR_Temp" Device="Plant" |bin span=15m _time |stats last(value) as CWRTemp by Device, _time]\
|eval difference = (CWRTemp - CWSTemp)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference < 8\
|fields _time, Device, difference, deviceType

[Terminus 200 Rule - Cooling Towers Cooling Tower Fan Failure]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If the cooling tower is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, cooling tower fan is not working (Cooling Tower Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" \
|regex Point_Name="CT_Fan_\d_Cmd" \
|bin span=15m _time\
|stats last(value) as Command by Point_Name, _time\
|appendcols [|search index="cousins_terminus200" |regex Point_Name="CT_VFD_\d_Status" |bin span=15m _time |stats last(value) as Status by Point_Name, _time]\
| replace "Stop" with "Stopped"\
| replace "Start" with "Running"\
|where (Status != Command)\
|eval deviceType = "plant"\
|fields _time, Point_Name, Status, Command

[Terminus 200 Rule - SCU Discharge Air Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If discharge air temperature is lower than 5 below setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = (Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType

[Terminus 200 Rule - SCU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If SCU supply air temperature is greater than 5 above set point for more than 30 minutes, SCU has cooling issues. (SCU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = (SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType

[Terminus 200 Rule - SCU Discharge Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If discharge air temperature is higher than 5 above setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = (SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 5\
|fields _time, Device, difference, deviceType

[Terminus 200 Rule - SCU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If static pressure is higher than setpoint by .3" WC or more for more than 30 minutes, duct static pressure is too high. (SCU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Static" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Static_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .3\
|fields _time, Device, difference, deviceType

[Terminus 200 Rule - SCU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus200
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 2 * * *
description = If static pressure is lower than setpoint by .3" WC or more for more than 30 minutes, duct static pressure is too low. (SCU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Static" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_terminus200" Device="*SCU*" Point_Name="DA_Static_SP" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = (Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .3\
|fields _time, Device, difference, deviceType

[Terminus 200 - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = smays@cousins.com, Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Terminus 200 Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_terminus200" Point_Name="Zone_Temp*" NOT Device="*OA*" AND NOT  Device="*WS" AND NOT Device ="*WSHP*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup terminus200Bucket.csv | fields Device] |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((value != 0),(value-76),(value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Value_Above=round(Value_Above,1) | sort -Value_Above |head 10

[Terminus 200 AHU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = smays@cousins.com, Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus200" Device = "SCU*" Point_Name = "FanStatus" Value = true | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours |eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours
disabled = 1

[Fifth Third Rule - Terminal Unit High Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="P*" Point_Name="Cfm" \
|bin span=15m _time\
| eval Device=Floor." - ".Device |stats last(value) as Airflow by Device, _time\
|join _time [|search index="cousins_fifththirdcenter" Device="P*"  Point_Name="CfmSP"\
    | eval Device=Floor." - ".Device |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Setpoint/Airflow))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Fifth Third Rule - VAV Terminal Unit Low Air Flow]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has low air flow. (Terminal Unit Low Air Flow)
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="P*" Point_Name="Cfm" \
|bin span=15m _time\
| eval Device=Floor." - ".Device |stats last(value) as Airflow by Device, _time\
|join _time [|search index="cousins_fifththirdcenter" Device="P*"  Point_Name="CfmSP"\
    | eval Device=Floor." - ".Device |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Airflow/Setpoint))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Fifth Third - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_fifththirdcenter" Device="AHU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_fifththirdcenter"

[Fifth Third - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="P*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" NOT Device="Plant" NOT Floor="Plant" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_fifththirdcenter" Device="P*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" NOT Device="Plant" NOT Floor="Plant" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_fifththirdcenter"
workload_pool = undefined

[Fifth Third - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -15m
dispatch.latest_time = now
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_fifththirdcenter" Point_Name = "SpaceTemp" OR Point_Name="SpcTmp" NOT Floor="CX6" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_fifththirdcenter" Point_Name = "SpaceTemp" OR Point_Name="SpcTmp" NOT Floor="CX6" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_fifththirdcenter"

[Terminus100 - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Device="SWUD*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*Sp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_terminus100" Device="SWUD*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*Sp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_terminus100"

[Terminus100 - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
disabled = 0
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Device="V*" OR Device="P*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*Sp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_terminus100" Device="V*" OR Device="P*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*Sp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_terminus100"
workload_pool = undefined

[550 South -  Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rcope@cousins.com, jedwards@cousins.com, \
cferguson@cousins.com, \
temond@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = 550 South weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_nascar" NOT [|inputlookup nascarBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[550 South - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rcope@cousins.com,\
jedwards@cousins.com, \
cferguson@cousins.com, \
temond@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = 550 South Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_nascar" Point_Name="Space Temperature Active*" NOT Device="*TE*" AND NOT Device="*OA*" AND NOT Device="*PR*" AND NOT Device="*OSA*" AND NOT Device="*SCU*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup nascarBucket.csv | fields Device] |eval date_hour = strftime(_time,"%H") |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((Value != 0),(Value-76),(Value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Value_Above=round(Value_Above,1) |sort -Value_Above |head 10

[550 South - Customer Comfort Below Range]
action.email = 1
action.email.cc = josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced below 68 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = timothy.cooper@mckenneys.com, rcope@cousins.com, jedwards@cousins.com, \
cferguson@cousins.com, \
temond@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = 550 South Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_nascar" Point_Name="Space Temperature Active*" NOT Device="*TE*" AND NOT Device="*OA*" AND NOT Device="*PR*" AND NOT Device="*OSA*" AND NOT Device="*SCU*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup nascarBucket.csv | fields Device] |eval date_hour = strftime(_time,"%H") |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Value_Below=round(Value_Below,1) | sort -Value_Below |head 10

[Terminus100 - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -15m
dispatch.latest_time = now
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Point_Name = "Zone_Temp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_terminus100" Point_Name = "Zone_Temp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_terminus100"

[Terminus 100 Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If static pressure is higher than setpoint by .3" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="SWUD*" Point_Name="SupplyStatic" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_terminus100" Device="SWUD*" Point_Name="Supply_Static_Pressure_Sp" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = (Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .3\
|fields _time, Device, difference, deviceType

[Terminus 100 Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If static pressure is lower than setpoint by .3" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Device="SWUD*" Point_Name="SupplyStatic" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_terminus100" Device="SWUD*" Point_Name="Supply_Static_Pressure_Sp" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference= (Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .3 AND FanStatus > 0\
|fields, _time, Device, difference, deviceType

[Terminus 100 Rule - Air Valve Actuator Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If damper position feedback is less than 5% and CFM is greater than 100, unit has air valve actuator issue.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Point_Name="DA_Flow" Device="P*" OR Device="V*"\
|bin span=15m _time\
|stats last(value) as AirFlow by Device, _time\
|appendcols [|search index="cousins_terminus100" Point_Name="Damper_Position" Device="P*" OR Device="V*" |bin span=15m _time |stats last(value) as ValvePosition by Device, _time]\
|where ValvePosition < 5 AND AirFlow > 100\
|eval deviceType = "TU"\
|eval AirFlow=round(AirFlow,1)\
|fields _time, Device, AirFlow, ValvePosition, deviceType

[Terminus 100 Rule - Cooling Towers Condenser Water Flow Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_terminus100
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_terminus100" Point_Name="CWS_Temp" \
|bin span=15m _time\
|stats last(value) as CWSTemp by Device, _time\
|appendcols [|search index="cousins_terminus100" Point_Name="CWR_Temp" |bin span=15m _time |stats last(value) as CWRTemp by Device, _time]\
|eval difference = (CWRTemp - CWSTemp)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference < 8\
|fields _time, Device, difference, deviceType

[Meridian Mark Plaza Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If AHU supply air temperature is greater than 4 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
| eval deviceType="AHU"\
|where difference > 4\
|fields _time, Device, difference, deviceType

[Meridian Mark Plaza Rule - AHU Discharge Air Temp Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_meridianmarkplaza
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 10 2 * * *
description = If AHU supply air temperature is greater than 4 below set point for more than 30 minutes, discharge temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="Discharge Air Temperature"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_meridianmarkplaza" Device="*CSC*" Point_Name="Discharge Air Temperature Setpoint Active" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - SupplyTemp)\
| eval deviceType="AHU"\
|where difference > 4\
|fields _time, Device, difference, deviceType

[One Buckhead - Top 25 AHU Volatility]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 4 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
enableSched = 1
search = index="cousins_onebuckhead"  Device="AHU*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_onebuckhead"  Device="AHU*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_onebuckhead"

[One Buckhead - Top 25 PIU/VAV Volatility]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 4 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="cousins_onebuckhead"  Device="PIU*" OR Device="VAV*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_onebuckhead"  Device="PIU*" OR Device="VAV*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_onebuckhead"

[One Buckhead - Top 25 Thermostat Volatility]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 4 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
search = index="cousins_onebuckhead"  Point_Name="Zone_Temp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_onebuckhead"  Point_Name="Zone_Temp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_onebuckhead"

[onebuckhead_comfortScore]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 15 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="cousins_onebuckhead" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="BAS_Zone_Sp" earliest=-90m latest=-15m\
|stats count(Device) as totalDevices, last(value) as Setpoint by _time, Device |appendcols [|search index="cousins_onebuckhead" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Zone_Temp" OR Point_Name="SpaceTemp" earliest=-90m latest=-15m |stats last(value) as Temp by _time, Device]\
|eval Difference=abs(Setpoint-Temp)   |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0)

[One Buckhead Efficiency - AHU Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_onebuckhead
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="rules_cousins_onebuckhead" deviceType="AHU" NOT [|inputlookup onebuckheadBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count|eval metric = (((count * 3.75) / (18*18*.825))*100) |eval AHUMet = .35*metric| appendpipe [| stats count as AHUMet | where AHUMet=0| eval deviceType = "AHU"] | table AHUMet, count

[One Buckhead Efficiency - Plant Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_onebuckhead
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="rules_cousins_onebuckhead" deviceType="plant" NOT [|inputlookup onebuckheadBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count by source|eval metric = ((count / 18)*100) |eval plantMet = case(count <= 3, .5*4.5*metric,count>3,100) | appendpipe [| stats count as plantMet | where plantMet=0| eval deviceType = "plant"] | table plantMet

[One Buckhead Efficiency - TU Metric]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_onebuckhead
action.summary_index._type = event
alert.severity = 1
alert.suppress = 1
alert.suppress.period = 1000d
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 5 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="rules_cousins_onebuckhead" deviceType="TU" NOT [|inputlookup onebuckheadBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count|eval metric = ((count / (3*18*516))*100) |eval TUMet = .15*metric*2| appendpipe [| stats count as TUMet | where TUMet=0| eval deviceType = "TU"] | table TUMet

[One Buckhead - Customer Comfort Above Range]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week One Buckhead Devices Above Comfort Range Report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_onebuckhead" Point_Name="Zone_Temp" OR Point_Name="SpaceTemp" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup onebuckheadBucket.csv | fields Device] |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, value |eval Above = case((value != 0),(value-78),(value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Range="78"  |table Device, Number_Of_Times_Above, Value_Above, Range |eval Value_Above=round(Value_Above,1) | sort -Value_Above, -Number_Of_Times_Above |head 10

[One Buckhead - Customer Comfort Below Range]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = Previous week One Buckhead Devices Below Comfort Range report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_onebuckhead" Point_Name="Zone_Temp" OR Point_Name="SpaceTemp" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup onebuckheadBucket.csv | fields Device]\
|eval start = 8\
|eval end = 17\
|where date_hour >= start AND date_hour < end\
|eval Device=Floor." - ".Device\
|bin _time span=15m\
|dedup _time, Device \
|table _time, Device, value\
|eval Below = case((value != 0),(68-value),(value == 0),null())\
|where Below > 0\
|stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device       \
|eval Range="68"\
|table Device, Number_Of_Times_Below, Value_Below, Range | eval Value_Below=round(Value_Below,1) |sort -Value_Below, -Number_Of_Times_Below |head 10

[One Buckhead - Device Bucket Report]
action.email = 1
action.email.inline = 1
action.email.message.report = The scheduled report Current '$name$' has run.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Current $name$  $trigger_date$
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 10 1 * *
description = Previous week One Buckhead Device Bucket Report
enableSched = 1
schedule_window = auto
search = |inputlookup onebuckheadBucket.csv | table Device, Notes, User|sort Device

[One Buckhead - Weekly Broken Rule Report]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' has run.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ $trigger_date$
action.email.to = meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week One Buckhead weekly top 10 rules broken by the same device report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="rules_cousins_onebuckhead" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup onebuckheadBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[Northpark 500 AHU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com, ymanriquecolmenares@cousins.com, rwilborn@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark500" Device = "AH*" OR Device = "AP*" Point_Name = "FAN_STATUS" value = "ON" NOT [|inputlookup northpark500Bucket.csv | fields Device] | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours |eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Northpark 500 Plant Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com, ymanriquecolmenares@cousins.com, rwilborn@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark500" (Device = "Cooling_Towers" OR Device = "Plant" OR Device="Chiller*") (Point_Name="On_Off" OR Point_Name="*Status*") value = "On" | stats count by Device, Point_Name | eval runtimeHours = count/4 | table Device, Point_Name, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[onebuckhead_comfort_daily_avg]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 35 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
search = index="statistics_cousins_onebuckhead" |timechart span=1d avg(ComfortScoreAvg) AS ComfortDailyAvg

[One Buckhead Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 0 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Floor, Device, _time\
|join _time [|search index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as Setpoint by Floor, Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference, deviceType

[One Buckhead Rule - AHU Discharge Air Temp Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Floor, Device, _time\
|join _time [|search index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Floor, Device, _time ]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = (SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference, deviceType

[One Buckhead Rule - AHU Discharge Air Temp Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Temp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Floor, Device, _time\
|join _time [|search index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Temp_Sp" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Floor, Device, _time ]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = (Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference, deviceType

[One Buckhead Rule - AHU Fan Status]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If the AHU fan is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, AHU fan is not working (AHU Fan Failure)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Fan_Cmd" \
|bin span=15m _time\
|stats last(value) as Command by Floor, Device, _time\
|join _time [|search index="cousins_onebuckhead" Device="AHU*"  Point_Name="DA_Fan_Sts" |bin span=15m _time |stats last(value) as Status by Floor, Device, _time]\
|eval Command=case(Command="Stop", "Stopped", Command="Start", "Running")\
|where (Status != Command)\
|eval deviceType = "AHU"\
| eval Device=Floor." - ".Device \
|fields _time, Device, Status, Command, deviceType

[One Buckhead Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Static" \
|bin span=15m _time\
|stats last(value) as Pressure by Floor, Device, _time\
|join _time [|search index="cousins_onebuckhead" Device="AHU*"  Point_Name="DA_Static_Sp" |bin span=15m _time |stats last(value) as Setpoint by Floor, Device, _time]\
|eval difference = (Pressure - Setpoint)\
|eval difference=round(difference,1)\
|where difference > .2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference

[One Buckhead Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead" Device="AHU*" Point_Name="DA_Static" \
|bin span=15m _time\
|stats last(value) as Pressure by Floor, Device, _time\
|join _time [|search index="cousins_onebuckhead" Device="AHU*"  Point_Name="DA_Static_Sp" |bin span=15m _time |stats last(value) as Setpoint by Floor, Device, _time]\
|eval difference = (Setpoint - Pressure)\
|eval difference=round(difference,1)\
|where difference > .2\
| eval Device=Floor." - ".Device \
|fields _time, Device, difference

[One Buckhead Rule - Terminal Unit High Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead" Device="PIU*" OR Device="VAV*" Point_Name="Air_Flow" \
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|join _time [|search index="cousins_onebuckhead" Device="PIU*" OR Device="VAV*" Point_Name="Air_Flow_Sp"  |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Setpoint/Airflow))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[One Buckhead Rule - Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead" Device="PIU*" OR Device="VAV*" Point_Name="Air_Flow" \
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|join _time [|search index="cousins_onebuckhead" Device="PIU*" OR Device="VAV*" Point_Name="Air_Flow_Sp"  |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Airflow/Setpoint))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType, Setpoint, Airflow

[One Buckhead Rule - Chillers Low Chilled Water Temp Delta or Excess Flow for Load]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If the difference between chilled water return temperature and chilled water supply temperature is less than 5 for more than 30 minutes, chiller plant is over-cooling. (Low Chilled Water Temp Delta or Excess Flow for Load)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead"  Point_Name="Bldg_CHWS_Temp"\
|bin span=15m _time\
|stats last(value) as CHWS by _time\
|appendcols [|search index="cousins_onebuckhead" Point_Name="Bldg_CHWR_Temp" |bin span=15m _time |stats last(value) as CHWR by _time ]\
|eval difference = (CHWR - CHWS)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference < 5\
|fields _time, difference, deviceType

[One Buckhead Rule - Chillers Chilled Water Temp Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If chilled water supply temperature is more than 1 above set point for more than 30 minutes, chiller plant is not meeting set point (Chilled Water Temp Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead"  Device="CH_*" Point_Name="*CHWS_Temp"\
|bin span=15m _time\
|stats last(value) as Temp by Device, _time\
|appendcols [|search index="cousins_onebuckhead" Point_Name="BAS Chilled Water Setpoint" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(Temp - Setpoint)\
|where difference > 1\
|fields _time, Device, difference

[One Buckhead Rule - Chillers Chilled Water Temp Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If chilled water supply temperature is more than 1 below set point for more than 30 minutes, chiller plant is not meeting set point (Chilled Water Temp Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_meridianmarkplaza" Device="CH_*" Point_Name="*CHWS_Temp"\
|bin span=15m _time\
|stats last(value) as Temp by Device, _time\
|appendcols [|search index="cousins_meridianmarkplaza" Device="*CH_*" Point_Name="ActChwSp" |bin span=15m _time |stats last(Value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - Temp)\
|where difference > 1\
|fields _time, Device, difference

[One Buckhead Rule - Cooling Towers Condenser Water Flow Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_onebuckhead"  Point_Name="CWS_Temp"\
|timechart span=15m last(value) as CWS\
|appendcols [|search index="cousins_onebuckhead" Point_Name="CWR_Temp"|timechart span=15m last(value) as CWR]\
|eval difference = exact(CWR - CWS)\
|eval deviceType = "plant"\
|where difference < 8\
|eval difference=round(difference,1)\
|eval CWS=round(CWS,1)\
|eval CWR=round(CWR,1)\
|eval Points="CWS,CWR"

[onebuckhead_comfortscore_average]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = statistics_cousins_onebuckhead
action.summary_index._type = event
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 2 * * *
enableSched = 1
realtime_schedule = 0
search = index="cousins_onebuckhead" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="BAS_Zone_Sp" earliest=-90m latest=-15m\
|stats count(Device) as totalDevices, last(value) as Setpoint by _time, Device |appendcols [|search index="cousins_onebuckhead" Device="PIU*" OR Device="VAV*" NOT Device="*OA*" Point_Name="Zone_Temp" OR Point_Name="SpaceTemp" earliest=-90m latest=-15m |stats last(value) as Temp by _time, Device]\
|eval Difference=abs(Setpoint-Temp)    |eval Score=case(Difference<=2,"100", Difference>2 AND Difference<=3,"80", Difference>3 AND Difference<=4,"60", Difference>4 AND Difference<=5,"40", Difference>5 AND Difference<=6,"20",Difference>6,"0")  |stats sum(Score) as boxResults, sum(totalDevices) as devTotal by _time |eval devTotal = devTotal*100 |eval ComfortScore=round((boxResults/devTotal)*100,0) |timechart cont=false span=1h avg(ComfortScore) as ComfortScoreAvg | eval ComfortScoreAvg=round(ComfortScoreAvg,1)

[Fifth Third Center - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = rleverman@cousins.com, rcope@cousins.com, tjohnson@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 9 * * 1
description = Previous week Fifth Third Center Devices Above Comfort Range report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_fifththirdcenter" Point_Name="*SpaceTemp*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup fifththirdBucket.csv | fields Device]|eval date_hour = strftime(_time,"%H") |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end  | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, value |eval Above = case((value != 0),(value-78),(value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Range="78"  |table Device, Number_Of_Times_Above, Value_Above, Range |eval Value_Above=round(Value_Above,1) | sort -Value_Above, -Number_Of_Times_Above |head 10

[Fifth Third Center - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = Average value is referenced below 68 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = rleverman@cousins.com, rcope@cousins.com, tjohnson@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 55 9 * * 1
description = Previous week Fifth Third Center Devices Below Comfort Range report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_fifththirdcenter" Point_Name="*SpaceTemp*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup fifththirdBucket.csv | fields Device]|eval date_hour = strftime(_time,"%H") |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end  | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, value |eval Below = case((value != 0),(68-value),(value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Range="68"  |table Device, Number_Of_Times_Below, Value_Below, Range |eval Value_Below=round(Value_Below,1) | sort -Value_Below, -Number_Of_Times_Below |head 10

[Fifth Third Rule - AHU Cooling Issue]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
disabled = 1
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="*AHU*" Point_Name="SaTmp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_fifththirdcenter" Device="AHU*" Point_Name="SaTmpSP" |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Device, _time ]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[Fifth Third Rule - AHU Discharge Air Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="*AHU*" Point_Name="SaTmp" | eval Device=Floor." - ".Device\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_fifththirdcenter" Device="AHU*" Point_Name="SaTmpSP"| eval Device=Floor." - ".Device|bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Device, _time ]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[Fifth Third Rule - AHU Discharge Air Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="AHU*" Point_Name="SaTmp"| eval Device=Floor." - ".Device\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|appendcols [|search index="cousins_fifththirdcenter" Device="AHU*" Point_Name="SaTmpSP"| eval Device=Floor." - ".Device |bin span=15m _time |stats last(value) as SupplyAirTempSetpoint by Device, _time ]\
|eval Setpoint = SupplyAirTempSetpoint\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[Fifth Third Rule - AHU Fan Status]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If the AHU fan is commanded to run, but the fan status does not show that the fan is running for more than 30 minutes, AHU fan is not working (AHU Fan Failure)
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="AHU*" NOT Device="AHU_05" Point_Name="FanCmd" | eval Device=Floor." - ".Device\
|bin span=15m _time\
|stats last(value) as Command by Device, _time\
|appendcols [|search index="cousins_fifththirdcenter" Device="AHU*" Point_Name="FanStat*" | eval Device=Floor." - ".Device|bin span=15m _time |stats last(value) as Status by Device, _time]\
|where (Status != Command)\
|eval deviceType = "AHU"\
|fields _time, Device, Status, Command, deviceType

[Fifth Third Rule - AHU Static Pressure Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="AHU*" Point_Name="SaStatic" | eval Device=Floor." - ".Device\
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_fifththirdcenter" Device="AHU*" Point_Name="SaStaticSP"| eval Device=Floor." - ".Device |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Fifth Third Rule - AHU Static Pressure Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Device="AHU*" Point_Name="SaStatic" | eval Device=Floor." - ".Device\
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|appendcols [|search index="cousins_fifththirdcenter" Device="AHU*" Point_Name="SaStaticSP" | eval Device=Floor." - ".Device|bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[Fifth Third Rule - AHU Supply VFD Signal Maxed]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If AHU supply fan commanded speed is 100% for more than 30 minutes, VFD is off
disabled = 1
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Point_Name="SupplyVFD_Command" Value>=100\
|eval Points="SupplyVFD_Command"\
|eval deviceType = "AHU"\
|table _time, Device, Value, Points, deviceType

[Promenade - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = Mlopez@cousins.com, jsanchez@cousins.com,\
tscott@cousins.com,\
SMaya@cousins.com,\
jbarron@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Promenade Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_northpark600" Point_Name="SpaceTemp" NOT Point_Name="*SpaceTempAlarmDeadband" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup northpark600Bucket.csv| fields Device]\
|eval start = 8\
|eval end = 17 \
|where date_hour >= start AND date_hour < end \
|eval Device=Floor." - ".Device \
|bin _time span=15m \
|dedup _time, Device \
|table _time, Device, value \
|eval Above = case((value != 0),(value-78),(value == 0),null()) \
|where Above > 0\
|stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device \
|eval Range="78" \
|table Device, Number_Of_Times_Above, Value_Above, Range \
|eval Value_Above=round(Value_Above,1) | sort -Value_Above, -Number_Of_Times_Above |head 10

[Promenade - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = Average value is referenced below 68 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = Mlopez@cousins.com, jsanchez@cousins.com,\
tscott@cousins.com,\
SMaya@cousins.com,\
jbarron@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = Promenade Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index=cousins_promenade2 Point_Name="ZoneTemp" NOT Device="VFS*" NOT Device="Fan_Vestibule" NOT Device="AHU_25_2" NOT Device="AHU_12_2" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup promenadeBucket.csv| fields Device]|eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Range="68"  |table Device, Number_Of_Times_Below, Value_Below, Range|eval Value_Below=round(Value_Below,1) |sort -Value_Below, -Number_Of_Times_Below |head 10

[Promenade - Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ $trigger_date$
action.email.to = Mlopez@cousins.com, jsanchez@cousins.com,\
tscott@cousins.com,\
SMaya@cousins.com,\
jbarron@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Promenade weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_promenade2" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup promenadeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[Promenade AHU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, jsanchez@cousins.com,\
tscott@cousins.com,\
SMaya@cousins.com,\
jbarron@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_promenade2" Device = "AH*"  Point_Name = "SupFanStatus" Value = "true" | stats count by Device, Floor | eval runtimeHours = count/4 | table Device, Floor, runtimeHours | eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Fifth Third Rule - CHW Temperature Too Low]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If chilled water supply temperature is lower than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Point_Name="BldgChWSTemp"\
|bin span=15m _time\
| eval Device=Floor." - ".Device\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_fifththirdcenter" Point_Name="ChlrWtrStpt"|bin span=15m _time | eval Device=Floor." - ".Device |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - CHWSTemp)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[Fifth Third Rule - CHW Temperature Too High]
action.summary_index = 1
action.summary_index._name = rules_cousins_fifththirdcenter
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 40 2 * * *
description = If chilled water supply temperature is higher than setpoint for more than 30 minutes, chiller plant is not meeting setpoint.
dispatch.earliest_time = -1d@d+2H
dispatch.latest_time = @d+2H
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_fifththirdcenter" Point_Name="BldgChWSTemp"\
|bin span=15m _time\
| eval Device=Floor." - ".Device\
|stats last(value) as CHWSTemp by Device, _time\
|appendcols [|search index="cousins_fifththirdcenter" Point_Name="ChlrWtrStpt" |bin span=15m _time| eval Device=Floor." - ".Device |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(CHWSTemp - Setpoint)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[550 South - Connection Status]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.message.alert = Customer-SiteID: 0001-0007\
Location: 550  South Caldwell St. Charlotte, NC 28202\
Scenario: Indexers have not received data from Cousins 550 South within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not received any data from 550 South in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: https://cousins.mckenneys-analytics.com
action.email.to = jedwards@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_nascar" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time\
|eval now = now()\
|eval difference = (now - _time)/60\
|eval status = if(difference <= 60,"Connection working", "Cousins NASCAR has not received new data in 20 minutes")\
|where status = "Cousins NASCAR has not received new data in 20 minutes"\
|table _time, status

[Terminus 200 - Connection Status]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com, elijah.sullivan@mckenneys.com,meghan.murphy@mckenneys.com
action.email.message.alert = "Customer-SiteID: 0001-0005\
Location: 3333 Piedmont Road, NE, Atlanta, GA 30305\
Scenario: Indexers have not received data from Cousins Terminus 200 within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not reveived any data from Terminus 200 in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.reportServerEnabled = 0
action.email.subject = IRP Alert: Terminus 200 - Connection Status - High - 0001-0005
action.email.to = smays@cousins.com, mlopez@cousins.com, jarmstrong@cousins.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */16 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_terminus200"  NOT Weather NOT Forecast |head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Terminus 200 has not received new data in 15 minutes")|where status = "Cousins Terminus 200 has not received new data in 15 minutes"|table _time, status

[Promenade 2 - Connection Status]
action.email = 1
action.email.cc = mlopez@cousins.com, sjefferson@cousins.com
action.email.include.results_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location: 1230 Peachtree Street NE, Atlanta, GA 30309\
Scenario: Indexers have not received data from Cousins Promenade within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not reveived any data from Promenade in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.priority = 1
action.email.reportServerEnabled = 0
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject = IRP Alert:  Promenade - Connection Status - High - 0001-0002
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */30 * * * *
disabled = 1
dispatch.earliest_time = 1
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_promenade2" sourcetype="cousins_promenade2"|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Promenade 2 has not received new data in 5 minutes")|where status = "Cousins Promenade 2 has not received new data in 5 minutes"|table _time, status

[Northpark 500 PIU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com, ymanriquecolmenares@cousins.com, rwilborn@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark500"  Device="P*" Point_Name="*Flow" value > 200 [|inputlookup northpark500Bucket.csv | fields Device] | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours | eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Northpark 600 PIU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark600" Device="P*" Point_Name="*Flow"  value > 200  | stats count by Device | eval runtimeHours = count/4 | table Device, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Northpark 500 OA Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com, ymanriquecolmenares@cousins.com, rwilborn@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark500" Device="*OA*" Point_Name="Flow" value > 200 NOT [|inputlookup northpark500Bucket.csv | fields Device]| stats count by Device, Point_Name | eval runtimeHours = count/4 | table Device, Point_Name, runtimeHours | eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Northpark 600 Plant Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = rmurphy@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_northpark500" (Device = "Cooling_Towers" OR Device = "Plant" OR Device="Chiller*") Point_Name="*Status*" value = "On" | stats count by Device, Point_Name | eval runtimeHours = count/4 | table Device, Point_Name, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Promenade PIU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, jsanchez@cousins.com,\
tscott@cousins.com,\
SMaya@cousins.com,\
jbarron@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_promenade2" Device="P*" Point_Name="Airflow" Value > 200 NOT Device="PIU_4" | stats count by Device, Floor | eval runtimeHours = count/4 | table Device, Floor, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Terminus 100 PIU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = JArmstrong@cousins.com, Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 4 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_terminus100" Device="P*" Point_Name="Air Valve Flow" Value > 200 | stats count by Device | eval runtimeHours = case(Device == "P-17-14", (count/3)/4, 1=1, count/4)  | table Device, runtimeHours|eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[Fifth Third - Connection Status]
action.email = 1
action.email.cc = rcope@cousins.com, tjohnson@cousins.com, \
rleverman@cousins.com
action.email.include.results_link = 0
action.email.message.alert = Customer-SiteID: 0001-0002\
Location: 1230 Peachtree Street NE, Atlanta, GA 30309\
Scenario: Indexers have not received data from Cousins Fifth Third Center within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not received any data from Fifth Third Center in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: http://54.227.253.54:8000/en-US/app/launcher/home
action.email.priority = 1
action.email.reportServerEnabled = 0
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */60 * * * *
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_fifththirdcenter" sourcetype="cousins_fifththirdcenter" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Cousins Fifth Third Center has not received new data in 5 minutes")|where status = "Cousins Fifth Third Center has not received new data in 5 minutes"|table _time, status

[3350 Peachtree - AHU Runtime Report]
action.email = 1
action.email.cc = mlopez@cousins.com,\
keljohnson@cousins.com, \
dcarter@cousins.com, \
jmprice@cousins.com, \
ealvarezmanzanares@cousins.com,\
ct_abarron@cousins.com,\
aspriggs@cousins.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3350peachtree" Device = "AH*" OR Device = "AP*" Point_Name = "DA_Fan_Sts" value = "Running" NOT [|inputlookup 3350peachtreeBucket.csv | fields Device] | stats count by Device, Floor | eval runtimeHours = count/4 | table Device, Floor, runtimeHours |eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[3350 Peachtree - Customer Comfort Above Range]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = mlopez@cousins.com,\
keljohnson@cousins.com, \
dcarter@cousins.com, \
jmprice@cousins.com, \
ealvarezmanzanares@cousins.com,\
ct_abarron@cousins.com,\
aspriggs@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week Peachtree 3350 Devices Above Comfort Range Report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_3350peachtree" Point_Name="*Zone_Temp*" NOT Point_Name="*Sp" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup 3350peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, value |eval Above = case((value != 0),(value-78),(value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Range="78"  |table Device, Number_Of_Times_Above, Value_Above, Range |eval Value_Above=round(Value_Above,1) | sort -Value_Above, -Number_Of_Times_Above |head 10

[3350 Peachtree - Customer Comfort Below Range]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' Report has run.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = mlopez@cousins.com,\
keljohnson@cousins.com, \
dcarter@cousins.com, \
jmprice@cousins.com, \
ealvarezmanzanares@cousins.com,\
ct_abarron@cousins.com,\
aspriggs@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = Previous week 3350 Peachtree Devices Below Comfort Range report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_3350peachtree" Point_Name="*Zone_Temp*" NOT Point_Name="*Sp" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup 3350peachtreeBucket.csv | fields Device]\
|eval start = 8\
|eval end = 17\
|where date_hour >= start AND date_hour < end\
|eval Device=Floor." - ".Device\
|bin _time span=15m\
|dedup _time, Device \
|table _time, Device, value\
|eval Below = case((value != 0),(68-value),(value == 0),null())\
|where Below > 0\
|stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device       \
|eval Range="68"\
|table Device, Number_Of_Times_Below, Value_Below, Range | eval Value_Below=round(Value_Below,1) |sort -Value_Below, -Number_Of_Times_Below |head 10

[3350 Peachtree - Device Bucket Report]
action.email = 1
action.email.cc = mlopez@cousins.com,\
keljohnson@cousins.com, \
dcarter@cousins.com, \
jmprice@cousins.com, \
ealvarezmanzanares@cousins.com,\
ct_abarron@cousins.com,\
aspriggs@cousins.com
action.email.inline = 1
action.email.message.report = The scheduled report Current '$name$' has run.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Current $name$  $trigger_date$
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 10 1 * *
description = Previous week 3350 Peachtree Point Bucket Report
enableSched = 1
schedule_window = auto
search = |inputlookup 3350peachtreeBucket.csv | table Device, Notes, User|sort Device

[3350 Peachtree - Plant Runtime Report]
action.email = 1
action.email.cc = mlopez@cousins.com,\
keljohnson@cousins.com, \
dcarter@cousins.com, \
jmprice@cousins.com, \
ealvarezmanzanares@cousins.com,\
ct_abarron@cousins.com,\
aspriggs@cousins.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3350peachtree" (Device = "CT*" OR Device = "Plant" OR Device="CH_*") (Point_Name="*ENABLE" OR Point_Name="*Sts*") (value = "Running" OR value="Enabled")| stats count by Device, Point_Name | eval runtimeHours = count/4 | table Device, Point_Name, runtimeHours| eval runtimeHours=round(runtimeHours,1) | sort -runtimeHours

[3350 Peachtree - Weekly Broken Rule Report]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' has run.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ $trigger_date$
action.email.to = mlopez@cousins.com,\
keljohnson@cousins.com, \
dcarter@cousins.com, \
jmprice@cousins.com, \
ealvarezmanzanares@cousins.com,\
ct_abarron@cousins.com,\
aspriggs@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week 3350 Peachtree weekly top 10 rules broken by the same device report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="rules_cousins_3350peachtree" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup 3350peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[3350 Peachtree Terminal Unit Runtime Report]
action.email = 1
action.email.cc = mlopez@cousins.com,\
keljohnson@cousins.com, \
dcarter@cousins.com, \
jmprice@cousins.com, \
ealvarezmanzanares@cousins.com,\
ct_abarron@cousins.com,\
aspriggs@cousins.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
search = index="cousins_3350peachtree" (Device="VAV*" OR Device="PIU*") (Point_Name="Occ_Sts") value = "Occupied" | stats count by Device, Floor | eval runtimeHours = count/4 |eval runtimeHours=round(runtimeHours,1) | table Device, Floor runtimeHours | sort -runtimeHours

[3350 Peachtree - Connection Status]
action.email = 1
action.email.cc = mlopez@cousins.com,\
keljohnson@cousins.com, \
tpenirelli@cousins.com, \
jbarron@cousins.com, \
gwilson@cousins.com,\
druizcruz@cousins.com,\
aspriggs@cousins.com,\
dcarter@cousins.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location:3344 Peachtree Road NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 3350 Peachtree Server in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection with 3350 Peachtree Server. Cousins will not see new data from this Server's points and data recovery may not be possible depending on the health of the Server.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = 1
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_3350peachtree" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[3344 Peachtree - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = Average value is referenced below 68 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = Mlopez@cousins.com, keljohnson@cousins.com, \
jsanchez@cousins.com,\
druizcruz@cousins.com,\
aspriggs@cousins.com,\
jmprice@cousins.com,\
ct_lmartinez@cousins.com,\
tvu@cousins.com,\
dcarter@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = Previous week 3344 Peachtree Devices Below Comfort Range report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_3344peachtree" Point_Name="*SpaceTemp*" NOT Point_Name="*SpaceTempAlarmDeadband" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup 3344peachtreeBucket.csv | fields Device]  |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Range="68"  |table Device, Number_Of_Times_Below, Value_Below, Range |eval Value_Below = round(Value_Below,1) | sort -Value_Below, -Number_Of_Times_Below |head 10

[3344 - Connection Status]
action.email = 1
action.email.cc = mlopez@cousins.com,\
keljohnson@cousins.com, \
jsanchez@cousins.com,\
tpenirelli@cousins.com, \
gwilson@cousins.com,\
druizcruz@cousins.com,\
aspriggs@cousins.com,\
dcarter@cousins.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.message.alert = "Customer-SiteID: 0001-0001\
Location: 3344 Peachtree Road NE, Atlanta, GA 30303\
Scenario: The cousins architecture has not received data from 3344 Server in the last 15 minutes.\
RiskLevel: High\
Implication: The Cousins architecture has lost connection with 3344 Server. Cousins will not see new data from this Server's points and data recovery may not be possible depending on the health of the Server.  \
PointOfFailure: Pre - Splunk\
Component: Data Source\
Category: Data Source\
Path: http://54.227.253.54:8000/en-US/app/launcher/home"
action.email.to = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 0
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_3344peachtree" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time|eval now = now()|eval difference = (now - _time)/60|eval status = if(difference <= 60,"Connection working", "Connection not working")|where status = "Connection not working"|table _time, status

[3344 Peachtree - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ Report $trigger_date$
action.email.to = Mlopez@cousins.com, keljohnson@cousins.com, \
jsanchez@cousins.com,\
druizcruz@cousins.com,\
aspriggs@cousins.com,\
jmprice@cousins.com,\
ct_lmartinez@cousins.com,\
tvu@cousins.com,\
dcarter@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week 3344 Peachtree Devices Above Comfort Range Report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="cousins_3344peachtree" Point_Name="*SpaceTemp*" \
NOT Point_Name="*SpaceTempAlarmDeadband" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup 3344peachtreeBucket.csv | fields Device] \
|eval start = 8\
|eval end = 17 \
|where date_hour >= start AND date_hour < end \
|eval Device=Floor." - ".Device \
|bin _time span=15m \
|dedup _time, Device \
|table _time, Device, Value \
|eval Above = case((Value != 0),(Value-78),(Value == 0),null()) \
|where Above > 0 \
|stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device\
|eval Range="78"  \
|table Device, Number_Of_Times_Above, Value_Above, Range \
|eval Value_Above = round(Value_Above, 1) \
|sort -Value_Above, -Number_Of_Times_Above \
|head 10

[3344 Peachtree - Weekly Broken Rule Report]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = The scheduled report Previous Week '$name$' has run.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: Previous Week $name$ $trigger_date$
action.email.to = Mlopez@cousins.com, keljohnson@cousins.com, \
jsanchez@cousins.com,\
druizcruz@cousins.com,\
aspriggs@cousins.com,\
jmprice@cousins.com,\
ct_lmartinez@cousins.com,\
tvu@cousins.com,\
bwalker@cousins.com,\
dcarter@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Previous week 3344 Peachtree weekly top 10 rules broken by the same device report
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
search = index="rules_cousins_3344peachtree" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup 3344peachtreeBucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[3344 Peachtree SWUD Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, \
keljohnson@cousins.com, \
jsanchez@cousins.com,\
tpenirelli@cousins.com, \
gwilson@cousins.com,\
druizcruz@cousins.com,\
aspriggs@cousins.com,\
dcarter@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3344peachtree" Device="SWUD*" Point_Name="FanStatus" Value="true" | stats count by Device, Floor | eval runtimeHours = count/4 |eval runtimeHours=round(runtimeHours,1) | table Device, Floor runtimeHours | sort -runtimeHours

[3344 Peachtree Terminal Unit Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, \
keljohnson@cousins.com, \
jsanchez@cousins.com,\
tpenirelli@cousins.com, \
gwilson@cousins.com,\
druizcruz@cousins.com,\
aspriggs@cousins.com,\
dcarter@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3344peachtree" (Device="VAV*" OR Device="PIU*") (Point_Name="nvoEffectFlowSP" OR Point_Name="EffFlowSetpoint") Value > 200 | stats count by Device, Floor | eval runtimeHours = count/4 |eval runtimeHours=round(runtimeHours,1) | table Device, Floor runtimeHours | sort -runtimeHours

[3344 Peachtree WSHP Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, \
keljohnson@cousins.com, \
jsanchez@cousins.com,\
tpenirelli@cousins.com,  \
gwilson@cousins.com,\
druizcruz@cousins.com,\
aspriggs@cousins.com,\
dcarter@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3344peachtree" Device="WSHP*" Point_Name="G Fan" Value="true" | stats count by Device, Floor | eval runtimeHours = count/4 |eval runtimeHours=round(runtimeHours,1) | table Device, Floor runtimeHours | sort -runtimeHours

[NCR - Connection Status]
action.email = 1
action.email.cc = josh.smith@mckenneys.com, timothy.cooper@mckenneys.com, elijah.sullivan@mckenneys.com, meghan.murphy@mckenneys.com
action.email.message.alert = Customer-SiteID: 0001-0007\
Location: 864 Spring St. NW, Atlanta, GA 30308\
Scenario: Indexers have not received data from Cousins NCR within the last five minutes.\
RiskLevel: High\
Implication: The Cousins forwarder has not received any data from NCR in the last 5 minutes. This could be a possible  connection error at the customers site, or the email system that holds this data could be experiencing errors. \
PointOfFailure: Pre - Splunk\
Component: Data Repository\
Category: Data Repository\
Path: https://cousins.mckenneys-analytics.com
action.email.to = Mlopez@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_ncr" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time\
|eval now = now()|eval difference = (now - _time)/60\
|eval status = if(difference <= 60,"Connection working", "Cousins NCR has not received new data in 20 minutes")\
|where status = "Cousins NCR has not received new data in 20 minutes"\
|table _time, status

[NCR - Customer Comfort Above Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced above 76 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 9 * * 1
description = NCR Devices Above Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index=cousins_ncr Point_Name="Space Temperature Local" OR Point_Name="Space_Temperature_Local" NOT Device="*OA*" NOT Floor="PH" NOT date_wday = sunday NOT date_wday = saturday |replace "North Tower" WITH "North" IN Building|replace "South Tower" WITH "South" IN Building |eval date_hour = strftime(_time,"%H")|eval start = case(date_wday = "saturday",9,1=1,8)|eval end = case(date_wday = "saturday",13,1=1,17)|where date_hour >= start AND date_hour < end | eval Device=Building." - ".Device|where NOT [|inputlookup NCRBucket.csv | fields Device] |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Above = case((Value != 0),(Value-78),(Value == 0),null()) | where Above > 0 |stats count(Above) AS Number_Of_Times_Above, avg(Above) AS Value_Above BY Device |eval Value_Above=round(Value_Above,1) | sort -Value_Above |head 10

[NCR - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced below 68 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com,  jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 55 9 * * 1
description = NCR Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index=cousins_ncr Point_Name="Space Temperature Local" OR Point_Name="Space_Temperature_Local" NOT Device="*OA*" NOT Floor="PH" NOT date_wday = sunday NOT date_wday = saturday |replace "North Tower" WITH "North" IN Building|replace "South Tower" WITH "South" IN Building|eval date_hour = strftime(_time,"%H")|eval start = case(date_wday = "saturday",9,1=1,8)|eval end = case(date_wday = "saturday",13,1=1,17)|where date_hour >= start AND date_hour < end | eval Device=Building." - ".Device |where NOT [|inputlookup NCRBucket.csv | fields Device] |bin _time span=15m |dedup _time, Device |table _time, Device, Value |eval Below = case((Value != 0),(68-Value),(Value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Value_Below=round(Value_Below,1) | sort -Value_Below |head 10

[NCR - Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com,  jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 50 9 * * 1
description = NCR weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_ncr" |eval start = case(date_wday = "saturday",9,1=1,8)|eval end = case(date_wday = "saturday",13,1=1,17)| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity |where NOT [|inputlookup NCRBucket.csv | fields Device] | head 10

[NCR AHU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com,  jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" Device="AHU*" (Point_Name="Supply_Fan_Status" OR Point_Name="Supply Fan Status") Value = "true" NOT [|inputlookup NCRBucket.csv | fields Device] | stats count by Device, Building | eval runtimeHours = count/4  | table Device, Building, runtimeHours | sort -runtimeHours

[NCR DOAS Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com,  jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" Device="DOAS*" (Point_Name="SF1-S" OR Point_Name="SF1_S") Value = "true" NOT [|inputlookup NCRBucket.csv | fields Device] | stats count by Device, Point_Name, Building | eval runtimeHours = count/4  | table Device, Building, runtimeHours, Point_Name | sort -runtimeHours

[NCR EDH Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com,  jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" Device="EUH*" Point_Name="*_Status" Value = "true" NOT [|inputlookup NCRBucket.csv | fields Device]  | stats count by Point_Name, Building | eval runtimeHours = count/4  | table Point_Name, Building, runtimeHours | sort -runtimeHours

[NCR FCU Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com,  jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" Device="FCU*" Point_Name="Supply Fan Speed Status" Value > 0 NOT [|inputlookup NCRBucket.csv | fields Device] | stats count by Device, Building | eval runtimeHours = count/4  | table Device, Building, runtimeHours | sort -runtimeHours

[NCR FPT Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com,  jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" Device="FPT*" Point_Name="*Flow" Value > 200 NOT [|inputlookup NCRBucket.csv | fields Device] | stats count by Device, Building | eval runtimeHours = count/4  | table Device, Building, runtimeHours | sort -runtimeHours

[NCR OA Runtime Report]
action.email = 1
action.email.cc = elijah.sullivan@mckenneys.com, josh.smith@mckenneys.com, timothy.cooper@mckenneys.com
action.email.inline = 1
action.email.message.report = The $name$ for $trigger_date$ has successfully been completed. The report displays the runtime hours for each device over the past week. There are a total of 168 hours in a week.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com,  jneville@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 6 * * 1
description = Runtime hours per device over the last week.
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
request.ui_dispatch_app = CousinsProperties
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_ncr" (Device="*OA*" OR Device="*OVAV*" NOT Device="DOAS*") (Point_Name="FLOW*" OR Point_Name="Discharge Air Flow" OR Point_Name="Discharge_Air_Flow") Value > 200 NOT [|inputlookup NCRBucket.csv | fields Device] | stats count by Device, Point_Name, Building | eval runtimeHours = count/4  | table Device, Building, runtimeHours | sort -runtimeHours

[Terminus 200 - Customer Comfort Below Range]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.message.report = Average value is referenced below 68 degrees.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 25 10 * * 1
description = Terminus 200 Devices Below Comfort Range
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="cousins_terminus200" Point_Name="Zone_Temp*" NOT Device="*OA*" AND NOT  Device="*WS*" AND NOT Device ="*WSHP*" NOT date_wday = sunday NOT date_wday = saturday NOT [|inputlookup terminus200Bucket.csv | fields Device] \
 |eval start = 8|eval end = 17 |where date_hour >= start AND date_hour < end | eval Device=Floor." - ".Device |bin _time span=15m |dedup _time, Device |table _time, Device, value |eval Below = case((value != 0),(68-value),(value == 0),null()) | where Below > 0 |stats count(Below) AS Number_Of_Times_Below, avg(Below) AS Value_Below BY Device |eval Value_Below=round(Value_Below,1) | sort -Value_Below |head 10

[Terminus 200 - Weekly Broken Rule Report]
action.email = 1
action.email.cc = timothy.cooper@mckenneys.com, josh.smith@mckenneys.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Mlopez@cousins.com, jarmstrong@cousins.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 20 10 * * 1
description = Terminus 200 weekly top 10 rules broken by the same device
dispatch.earliest_time = -7d@w0
dispatch.latest_time = @w0
enableSched = 1
schedule_window = auto
search = index="rules_cousins_terminus200" NOT [|inputlookup terminus200Bucket.csv | fields Device] |eval start = 8|eval end = 17| eval hour = strftime(_time,"%H") |where hour >= start AND hour < end| transaction source Device maxpause=30m|where (duration/60) > 30|stats count(source) AS Quantity BY Device, source |sort -Quantity | head 10

[3344 Rule - AHU Cooling Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If AHU supply air temperature is greater than 2 above set point for more than 30 minutes, AHU has cooling issues. (AHU Cooling Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3344peachtree" Device="*SWUD*" Point_Name="SupplyAirTemp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|join _time [|search index="cousins_3344peachtree" Device="*SWUD*" Point_Name="SupplyTempSetpoint" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(SupplyTemp - Setpoint)\
|eval deviceType = "AHU"\
|eval difference = round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[3344 Rule - AHU Discharge Air Temperature Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If discharge air temperature is higher than setpoint for more than 30 minutes, discharge air temperature is too high.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_gateway" Point_Name="Bldg CDW Supply"\
|timechart span=15m avg(value) as SupplyTemp_A\
|join _time[|search index="cousins_gateway" Point_Name="CDWMINSP"\
|timechart span=15m last(value) as Setpoint_A]\
|eval difference_A = exact(SupplyTemp_A - Setpoint_A)\
|eval deviceType = "AHU"\
|where difference_A > 8\
|eval difference_A=round(difference_A,1)\
|fields _time, difference_A, deviceType

[3344 Rule - AHU Discharge Air Temperature Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If discharge air temperature is lower than setpoint for more than 30 minutes, discharge air temperature is too low.
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3344peachtree" Device="*SWUD*" Point_Name="SupplyAirTemp"\
|bin span=15m _time\
|stats last(value) as SupplyTemp by Device, _time\
|join _time [|search index="cousins_3344peachtree" Device="*SWUD*" Point_Name="SupplyTempSetpoint" |bin span=15m _time |stats last(value) as Setpoint by Device, _time ]\
|eval difference = exact(Setpoint - SupplyTemp)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > 2\
|fields _time, Device, difference, deviceType

[3344 Rule - AHU Static Pressure Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If static pressure is higher than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too high. (AHU Static Pressure Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3344peachtree" Device="*SWUD*" Point_Name="SupplyStatic" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|join _time [|search index="cousins_3344peachtree" Device="*SWUD*" Point_Name="SupplyStaticSetpoint" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(Pressure - Setpoint)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[3344 Rule - AHU Static Pressure Too Low]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If static pressure is lower than setpoint by .2" WC or more for more than 30 minutes, duct static pressure is too low. (AHU Static Pressure Too Low)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3344peachtree" Device="*SWUD*" Point_Name="SupplyStatic" \
|bin span=15m _time\
|stats last(value) as Pressure by Device, _time\
|join _time [|search index="cousins_3344peachtree" Device="*SWUD*" Point_Name="SupplyStaticSetpoint" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(Setpoint - Pressure)\
|eval deviceType = "AHU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[3344 Rule - Cooling Towers Condenser Water Flow Too High]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If the difference between condenser water return temperature and condenser water supply temperature less than 8 for more than 30 minutes, condenser water flow is too high (Condenser Water Flow Too High)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3344peachtree" Point_Name="CondenserWaterSupplyTemp" \
|bin span=15m _time\
|stats last(value) as CWSTemp by Device, _time\
|join _time [|search index="cousins_3344peachtree" Point_Name="CondenserWaterReturnTemp" |bin span=15m _time |stats last(value) as CWRTemp by Device, _time]\
|eval difference = exact(CWRTemp - CWSTemp)\
|eval deviceType = "plant"\
|eval difference=round(difference,1)\
|where difference < 8\
|fields _time, Device, difference, deviceType

[3344 Rule - Terminal Unit High Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If CFM is more than 20% above desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3344peachtree" Device="*PIU*" OR Device="*VAV*" NOT Device="VAV*OSA*" Point_Name="AirFlow" \
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|join _time [|search index="cousins_3344peachtree" Device="*PIU*" OR Device="*VAV*" NOT Device="VAV*OSA*" Point_Name="EffFlowSetpoint" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (Setpoint/AirFlow))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[3344 Rule - Terminal Unit Low Air Flow]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If CFM is more than 20% below desired set point for more than 30 minutes, unit has high air flow. (Terminal Unit High Air Flow)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3344peachtree" Device="*PIU*" OR Device="*VAV*" NOT Device="VAV*OSA*" Point_Name="AirFlow" \
|bin span=15m _time\
|stats last(value) as Airflow by Device, _time\
|join _time [|search index="cousins_3344peachtree" Device="*PIU*" OR Device="*VAV*" NOT Device="VAV*OSA*" Point_Name="EffFlowSetpoint" |bin span=15m _time |stats last(value) as Setpoint by Device, _time]\
|eval difference = exact(1 - (AirFlow/Setpoint))\
|eval deviceType = "TU"\
|eval difference=round(difference,1)\
|where difference > .2\
|fields _time, Device, difference, deviceType

[3344 Rule - Terminal Unit Reheat Issue]
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index._name = rules_cousins_3344peachtree
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 2 * * *
description = If OAT is greater than 70 and any terminal unit is in reheat, discharge air reset should be in effect . (Terminal Unit Reheat Issue)
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
enableSched = 1
realtime_schedule = 0
schedule_window = auto
search = index="cousins_3344peachtree" Device="PIU*" Point_Name="HeatingDemand" \
|bin _time span=15m\
|stats last(value) as Heat by Device, _time\
|join _time[|search index="cousins_3344peachtree" Device="Plant*" Point_Name="OutsideAirTemp" |timechart span=15m last(value) as OutsideTemp by Device]\
|where Heat > 0 AND Plant_UC_01 > 70\
|eval deviceType = "TU"\
|eval Plant_UC_01=round(Plant_UC_01,1)\
|eval Heat=round(Heat,1)\
|fields _time, Device, Heat, Plant_UC_01, deviceType

[3344 - Top 25 AHU Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3344peachtree" Device="SWUD*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_3344peachtree" Device="SWUD*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev) \
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_3344peachtree"

[3344 - Top 25 PIU/VAV Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3344peachtree" Device="VAV*" OR Device="PIU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_3344peachtree" Device="VAV*" OR Device="PIU*" NOT Point_Name="*Setp*" NOT Point_Name="*Stpt*" NOT Point_Name="*SP*" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_3344peachtree"
workload_pool = undefined

[3344 - Top 25 Thermostat Volatility - New]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 6 * * *
dispatch.earliest_time = -15m
dispatch.latest_time = now
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="cousins_3344peachtree" Point_Name = "SpaceTemp" earliest=-1d@d latest=@d \
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats avg(value) as Avg, stdev(Value) as Dev by Floor, Device, Point_Name\
|appendcols [|search index="cousins_3344peachtree" Point_Name = "SpaceTemp" earliest=-7d@d latest=@d\
|eval start = 7\
|eval end = 18\
|eval time=strftime(_time, "%H") \
|where time >= start AND time <= end\
|where isnum(value)\
|stats min(value) as WeekMin, max(value) as WeekMax, avg(value) as WeekAvg, stdev(value) as WeekDev by Floor, Device, Point_Name] \
|eval NewVol = abs((Avg-WeekAvg)/WeekDev)\
|table Floor, Device, Point_Name, Avg, Dev, WeekMin, WeekMax, WeekAvg, WeekDev, NewVol\
|where WeekDev > .00001\
|sort -NewVol\
|head 25\
|collect index="statistics_cousins_3344peachtree"

[Austin Connection Status Test]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.to = elijah.sullivan@mckenneys.com, jalen.early@mckenneys.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */5 * * * *
disabled = 1
dispatch.earliest_time = 1
enableSched = 1
quantity = 0
relation = greater than
search = index="cousins_ncr" NOT Weather NOT Forecast|head 1|stats latest(_time) as _time\
|eval now = now()|eval difference = (now - _time)/1\
|eval status = if(difference <= 1,"Connection working", "Cousins NCR has not received new data in 20 minutes")\
|where status = "Cousins NCR has not received new data in 20 minutes"\
|table _time, status
